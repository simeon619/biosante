module.exports=[41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},62722,a=>{"use strict";let b=(0,a.i(70106).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},60897,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(16201),f=a.i(62722),g=a.i(41710),h=a.i(96221),i=a.i(210);let j=(0,a.i(70106).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var k=a.i(86715),l=a.i(97895);function m(){let a=(0,d.useSearchParams)(),[m,n]=(0,c.useState)("loading"),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{let b=a.get("paymentId"),c=a.get("orderId")||sessionStorage.getItem("pendingOrderId");if(!b&&!c){n("error"),r("Aucune commande Ã  vÃ©rifier.");return}try{let a=await k.api.verifyPayment(b||void 0,c||void 0);p(a.order),"success"===a.status?(n("success"),sessionStorage.removeItem("pendingOrderId")):"pending"===a.status||"initiated"===a.status?n("pending"):n("failed")}catch(a){console.error("Payment verification error:",a),n("error"),r(a.response?.data?.message||"Erreur lors de la vÃ©rification du paiement.")}})()},[a]);let s=()=>{let a=o?`Bonjour, je viens de passer la commande ${o.id} d'un montant de ${(0,l.formatCurrency)(o.total)}.`:"Bonjour, j'ai besoin d'aide avec ma commande.",b=`https://wa.me/2250143678397?text=${encodeURIComponent(a)}`;window.open(b,"_blank")},t=()=>{window.location.reload()},u=()=>{window.location.href="/"};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,b.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full",children:(()=>{switch(m){case"loading":return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(h.Loader2,{className:"w-10 h-10 text-gray-600 animate-spin"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"VÃ©rification en cours..."}),(0,b.jsx)("p",{className:"text-gray-600",children:"Nous vÃ©rifions le statut de votre paiement."})]});case"success":return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(e.CheckCircle,{className:"w-10 h-10 text-green-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paiement RÃ©ussi !"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-2",children:["Merci ",o?.customerName,". Votre commande a Ã©tÃ© confirmÃ©e."]}),o&&(0,b.jsxs)("p",{className:"text-lg font-semibold text-green-600 mb-6",children:["Total: ",(0,l.formatCurrency)(o.total)]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:s,className:"w-full py-3 bg-[#25D366] text-white rounded-xl font-bold hover:bg-[#128C7E] flex items-center justify-center gap-2",children:[(0,b.jsx)(j,{className:"w-5 h-5"}),"Suivre sur WhatsApp"]}),(0,b.jsxs)("button",{onClick:u,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,b.jsx)(i.ArrowLeft,{className:"w-5 h-5"}),"Retour Ã  l'accueil"]})]})]});case"pending":return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(g.Clock,{className:"w-10 h-10 text-yellow-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paiement en attente"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-6",children:["Votre paiement est en cours de traitement.",(0,b.jsx)("br",{}),"Veuillez valider la transaction sur votre tÃ©lÃ©phone (USSD)."]}),(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:(0,b.jsxs)("p",{className:"text-yellow-800 text-sm",children:["ðŸ’¡ ",(0,b.jsx)("strong",{children:"Mobile Money:"})," Composez le code USSD affichÃ© pour valider le paiement."]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:t,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800",children:"Actualiser le statut"}),(0,b.jsxs)("button",{onClick:s,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,b.jsx)(j,{className:"w-5 h-5"}),"Besoin d'aide ?"]})]})]});case"failed":case"error":return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(f.XCircle,{className:"w-10 h-10 text-red-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"failed"===m?"Paiement Ã‰chouÃ©":"Erreur"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:q||"Le paiement n'a pas pu Ãªtre effectuÃ©. Veuillez rÃ©essayer."}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:u,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800",children:"RÃ©essayer"}),(0,b.jsxs)("button",{onClick:s,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,b.jsx)(j,{className:"w-5 h-5"}),"Contacter le support"]})]})]})}})()})})}function n(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,b.jsx)(h.Loader2,{className:"w-8 h-8 text-gray-600 animate-spin"})}),children:(0,b.jsx)(m,{})})}a.s(["default",()=>n],60897)}];

//# sourceMappingURL=_4b2a4408._.js.map