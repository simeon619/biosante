module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},30206,a=>{"use strict";let b=(0,a.i(70106).default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);a.s(["Power",()=>b],30206)},64278,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(15618),f=a.i(24569),g=a.i(81560),h=a.i(83497),i=a.i(96221),j=a.i(87532),k=a.i(30206),l=a.i(50944),m=a.i(33217),n=a.i(70025),o=a.i(37927),p=a.i(97895);function q(){(0,l.useRouter)();let a=(0,o.useQueryClient)(),[q,r]=(0,c.useState)(""),{data:s=[],isLoading:t}=(0,m.useQuery)({queryKey:["admin","products"],queryFn:async()=>{let a=await fetch(`${p.API_URL}/api/admin/products`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch products");return(await a.json()).products||[]}}),u=(0,n.useMutation)({mutationFn:async({id:a,isActive:b})=>{let c=await fetch(`${p.API_URL}/api/admin/products/${a}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!b})});if(!c.ok)throw Error("Failed to toggle status");return c.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["admin","products"]})}}),v=(0,n.useMutation)({mutationFn:async a=>{let b=await fetch(`${p.API_URL}/api/admin/products/${a}`,{method:"DELETE"});if(!b.ok)throw Error("Failed to delete product");return b.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["admin","products"]})}}),w=async(a,b)=>{u.mutate({id:a,isActive:b})},x=async a=>{confirm("Êtes-vous sûr de vouloir supprimer ce produit ?")&&v.mutate(a)},y=s.filter(a=>a.name.toLowerCase().includes(q.toLowerCase())||a.id.toLowerCase().includes(q.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Produits"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Gérez le catalogue et les stocks"})]}),(0,b.jsxs)(d.default,{href:"/admin/products/new",className:"flex items-center gap-2 bg-black text-white px-4 py-2 rounded-xl hover:bg-gray-800 transition-colors shadow-lg shadow-black/10",children:[(0,b.jsx)(e.Plus,{className:"w-5 h-5"}),"Ajouter un produit"]})]}),(0,b.jsxs)("div",{className:"relative max-w-md",children:[(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-100 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none shadow-sm transition-all"}),(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),t?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(i.Loader2,{className:"w-12 h-12 animate-spin text-black"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(a=>(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50 overflow-hidden hover:shadow-2xl hover:shadow-gray-200/60 transition-all group",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-2xl overflow-hidden border border-gray-100 flex items-center justify-center p-2 group-hover:scale-110 transition-transform",children:a.image?(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-contain"}):(0,b.jsx)(h.Package,{className:"w-10 h-10 text-gray-300"})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>w(a.id,a.is_active),className:`p-2.5 rounded-xl transition-colors ${a.is_active?"text-green-600 bg-green-50":"text-gray-400 bg-gray-50"}`,title:a.is_active?"Masquer du site":"Afficher sur le site",children:(0,b.jsx)(k.Power,{className:"w-5 h-5"})}),(0,b.jsx)(d.default,{href:`/admin/products/${a.id}`,className:"p-2.5 rounded-xl text-blue-600 bg-blue-50 hover:bg-blue-100 transition-colors",children:(0,b.jsx)(f.Edit,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>x(a.id),className:"p-2.5 rounded-xl text-red-600 bg-red-50 hover:bg-red-100 transition-colors",children:(0,b.jsx)(g.Trash2,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"space-y-1 mb-6",children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-gray-900 line-clamp-1",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-400 font-medium uppercase tracking-wider",children:a.category||"Sans catégorie"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest mb-1",children:"Prix"}),(0,b.jsxs)("p",{className:"text-2xl font-black text-black",children:[a.price.toLocaleString()," F"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest mb-1",children:"Stock"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:`text-2xl font-black ${a.stock<=10?"text-red-600":"text-black"}`,children:a.stock}),a.stock<=10&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-600 animate-pulse"})]})]})]})]})},a.id))})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_f42a2860._.js.map