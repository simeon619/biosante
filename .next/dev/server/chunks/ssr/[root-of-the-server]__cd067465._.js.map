{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/services/api.ts"],"sourcesContent":["\nimport axios from 'axios';\nimport { CartItem, DeliveryEstimate } from '../types';\n\nconst API_URL = 'http://localhost:3333/api';\n\n/**\n * Payment initiation response\n */\ninterface PaymentInitResponse {\n    orderId: string;\n    checkoutUrl?: string; // Optional for cash on delivery\n    total: number;\n    transactionRef?: string;\n}\n\n\n/**\n * Payment verification response\n */\ninterface PaymentVerifyResponse {\n    status: 'success' | 'pending' | 'failed' | 'cancelled' | 'initiated';\n    manualStatus?: 'pending' | 'verifying' | 'success' | 'failed';\n    transactionRef?: string;\n    proofImage?: string;\n    order: {\n        id: string;\n        customerName: string;\n        total: number;\n        status: string;\n        items: CartItem[];\n    };\n}\n\nexport const api = {\n    /**\n     * Estimate delivery fee based on address and cart total\n     */\n    estimateDelivery: async (address: string, cartTotal: number): Promise<DeliveryEstimate | null> => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/estimate`, {\n                address,\n                cartTotal\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error estimating delivery:', error);\n            return null;\n        }\n    },\n\n    /**\n     * Search for places\n     */\n    searchPlaces: async (query: string) => {\n        try {\n            const response = await axios.get(`${API_URL}/deliveries/search`, {\n                params: { query }\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error searching places:', error);\n            return [];\n        }\n    },\n\n    /**\n     * Create a delivery for a confirmed order\n     */\n    createDelivery: async (data: {\n        orderId: string;\n        address: string;\n        lat: number;\n        lon: number;\n        fee: number;\n        customerName: string;\n        customerPhone: string;\n        shippingCompany?: string;\n        shippingCity?: string;\n    }) => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/create`, data);\n            return response.data;\n        } catch (error) {\n            console.error('Error creating delivery:', error);\n            throw error;\n        }\n    },\n\n    /**\n     * Initiate payment with Moneroo\n     * Creates order and returns checkout URL for redirect\n     */\n    initiatePayment: async (data: {\n        cart: CartItem[];\n        customer: {\n            name: string;\n            phone: string;\n            email?: string;\n        };\n        delivery: {\n            address: string;\n            lat: number;\n            lon: number;\n            fee: number;\n            addressNote?: string;\n            shippingCompany?: string;\n            shippingCity?: string;\n        };\n        paymentMethod?: 'online' | 'cash' | 'manual';\n        deliveryMode?: 'local' | 'shipping';\n        serviceCode?: string;\n    }): Promise<PaymentInitResponse> => {\n        const userId = typeof window !== 'undefined' ? localStorage.getItem('user_id') : null;\n        const response = await axios.post(`${API_URL}/payments/initiate`, data, {\n            headers: userId ? { 'X-User-Id': userId } : {}\n        });\n        return response.data;\n    },\n\n\n    /**\n     * Verify payment status\n     * Called when customer returns from Moneroo checkout\n     */\n    verifyPayment: async (paymentId?: string, orderId?: string): Promise<PaymentVerifyResponse> => {\n        const params: Record<string, string> = {};\n        if (orderId) params.orderId = orderId;\n\n        const url = paymentId\n            ? `${API_URL}/payments/verify/${paymentId}`\n            : `${API_URL}/payments/verify`;\n\n        const response = await axios.get(url, { params });\n        return response.data;\n    },\n\n    /**\n     * Upload payment proof screenshot\n     */\n    async uploadProof(orderId: string, file: File): Promise<{ message: string; proofImage: string }> {\n        const formData = new FormData();\n        formData.append('orderId', orderId);\n        formData.append('image', file);\n\n        const response = await axios.post(`${API_URL}/payments/proof`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        });\n        return response.data;\n    },\n\n    async submitReference(data: {\n        orderId: string;\n        provider: string;\n        reference: string;\n        amount: number;\n    }) {\n        const response = await axios.post(`${API_URL}/payments/submit-reference`, data);\n        return response.data;\n    },\n\n    // --- Authentication & Account ---\n\n    async register(data: any) {\n        const response = await axios.post(`${API_URL}/auth/register`, data);\n        return response.data;\n    },\n\n    async login(data: any) {\n        const response = await axios.post(`${API_URL}/auth/login`, data);\n        return response.data;\n    },\n\n    async getMe(userId: string) {\n        const response = await axios.get(`${API_URL}/auth/me`, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async getOrders(userId: string) {\n        const response = await axios.get(`${API_URL}/auth/orders`, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/exp_cie.json"],"sourcesContent":["[{\"id\":\"utb\",\"name\":\"UTB (Union des Transports de Bouaké)\",\"hub_principal\":\"Abidjan (Adjamé, Koumassi, Yopougon)\",\"type\":\"National\",\"regions_desservies\":[\"Centre\",\"Nord\",\"Ouest\",\"Est\",\"Sud-Ouest\"],\"contact_colis\":\"0707000000\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouaké\",\"Daloa\",\"Gagnoa\",\"San Pedro\",\"Man\",\"Korhogo\",\"Odienné\",\"Bondoukou\",\"Abengourou\",\"Soubré\",\"Bouaflé\",\"Divo\",\"Toumodi\",\"Sinfra\",\"Issia\",\"Duékoué\",\"Agnibilékrou\",\"Tanda\",\"Bocanda\",\"Daoukro\"]},{\"id\":\"tsr\",\"name\":\"TSR (Transport Sans Rayon)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"National\",\"regions_desservies\":[\"Nord\",\"Ouest\",\"Est\",\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouaké\",\"Korhogo\",\"Ferkessédougou\",\"Boundiali\",\"Tengréla\",\"Man\",\"Danané\",\"Duékoué\",\"Guiglo\",\"Daloa\",\"Issia\",\"Vavoua\",\"Séguéla\",\"Mankono\",\"Bondoukou\",\"Bouna\",\"Daoukro\"]},{\"id\":\"sbta\",\"name\":\"SBTA\",\"hub_principal\":\"Abidjan (Adjamé, Yopougon, Koumassi)\",\"type\":\"Grand Régional\",\"regions_desservies\":[\"Sud-Ouest\",\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0576207777\",\"destinations\":[\"Abidjan\",\"Divo\",\"Lakota\",\"Gagnoa\",\"Soubré\",\"Méagui\",\"San Pedro\",\"Sassandra\",\"Grand-Béréby\",\"Oumé\",\"Diegonefla\",\"Abengourou\",\"Bondoukou\"]},{\"id\":\"ot_ci\",\"name\":\"OT-CI (Omnis Transport)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Régional & International\",\"regions_desservies\":[\"Ouest\",\"International\"],\"contact_colis\":\"0708611770\",\"destinations\":[\"Abidjan\",\"Man\",\"Danané\",\"Zouan-Hounien\",\"Duékoué\",\"Toulepleu\"]},{\"id\":\"etv\",\"name\":\"ETV (Entente Transport Voyageurs)\",\"hub_principal\":\"Abidjan (Adjamé, Abobo)\",\"type\":\"Spécialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0777657448\",\"destinations\":[\"Abidjan\",\"Bouaké\",\"Niakara\",\"Tafiré\",\"Korhogo\",\"Ferkessédougou\",\"Ouangolodougou\",\"Pogo\",\"Diawala\",\"Niellé\"]},{\"id\":\"ocean_ci\",\"name\":\"Océan Côte d'Ivoire\",\"hub_principal\":\"Abidjan (Treichville, Adjamé)\",\"type\":\"Spécialiste Est\",\"regions_desservies\":[\"Est\",\"Sud-Est\"],\"contact_colis\":\"0799242366\",\"destinations\":[\"Abidjan\",\"Aboisso\",\"Adzopé\",\"Akoupé\",\"Abengourou\",\"Agnibilékrou\",\"Bondoukou\",\"Koun-Fao\",\"Tanda\"]},{\"id\":\"jet_express\",\"name\":\"JET Express\",\"hub_principal\":\"Abidjan (Adjamé, Koumassi)\",\"type\":\"Spécialiste Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"0700146565\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Tabou\",\"Grand-Béréby\",\"Gabiadiji\"]},{\"id\":\"stb\",\"name\":\"STB (Société de Transport Bakayoko)\",\"hub_principal\":\"Abidjan (Abobo, Adjamé)\",\"type\":\"Spécialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0504145580\",\"destinations\":[\"Abidjan\",\"Korhogo\"]},{\"id\":\"mt\",\"name\":\"MT (Massa Transport)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Régional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Duékoué\",\"Man\",\"Danané\",\"Bangolo\"]},{\"id\":\"avs\",\"name\":\"AVS (Aek Voyageurs)\",\"hub_principal\":\"Abidjan (Deux-Plateaux, Adjamé)\",\"type\":\"Premium Centre\",\"regions_desservies\":[\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Toumodi\",\"Yamoussoukro\",\"Bouaké\"]},{\"id\":\"gti\",\"name\":\"GTI Transport\",\"hub_principal\":\"Gagnoa / Abidjan\",\"type\":\"Régional\",\"regions_desservies\":[\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0545206204\",\"destinations\":[\"Abidjan\",\"Gagnoa\",\"Abengourou\",\"Oumé\"]},{\"id\":\"cte\",\"name\":\"CTE\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bouaké\",\"Katiola\",\"Korhogo\",\"Ferkessédougou\"]},{\"id\":\"bad\",\"name\":\"Badjan Transport\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Historique Est\",\"regions_desservies\":[\"Est\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bondoukou\",\"Bouna\",\"Tanda\"]},{\"id\":\"sido\",\"name\":\"SIDO Transport\",\"hub_principal\":\"Abidjan (Abobo)\",\"type\":\"Régional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Boundiali\",\"Korhogo\",\"Tengréla\"]},{\"id\":\"waridi\",\"name\":\"Waridi Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Séguéla\",\"Kani\",\"Dianra\",\"Mankono\"]},{\"id\":\"adja\",\"name\":\"Adja Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Odienné\",\"Touba\",\"Madinani\"]},{\"id\":\"st\",\"name\":\"ST (Sama Transport)\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Man\",\"Issia\"]},{\"id\":\"ck\",\"name\":\"CK (Carrefour Kléber)\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Sassandra\",\"Tabou\"]}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 204, "column": 4669}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/data/shippingCompanies.ts"],"sourcesContent":["import shippingCompaniesData from '../exp_cie.json';\n\nexport interface ShippingCompany {\n    id: string;\n    name: string;\n    hub_principal: string;\n    type: string;\n    regions_desservies: string[];\n    contact_colis: string;\n    destinations: string[];\n}\n\n// Typed data\nexport const shippingCompanies: ShippingCompany[] = shippingCompaniesData as ShippingCompany[];\n\n// Find companies that serve a specific city\nexport function findCompaniesByCity(city: string): ShippingCompany[] {\n    const normalizedCity = city.toLowerCase().trim();\n    return shippingCompanies.filter(company =>\n        company.destinations.some(dest => dest.toLowerCase().includes(normalizedCity))\n    );\n}\n\n// Get all unique destinations (cities) from all companies\nexport function getAllDestinations(): string[] {\n    const allDestinations = new Set<string>();\n    shippingCompanies.forEach(company => {\n        company.destinations.forEach(dest => {\n            // Exclude \"Abidjan\" since it's the local zone\n            if (dest.toLowerCase() !== 'abidjan') {\n                allDestinations.add(dest);\n            }\n        });\n    });\n    return Array.from(allDestinations).sort();\n}\n\n// Abidjan area communes for local delivery\nexport const ABIDJAN_AREA = [\n    'Abidjan',\n    'Plateau',\n    'Cocody',\n    'Marcory',\n    'Treichville',\n    'Yopougon',\n    'Abobo',\n    'Adjamé',\n    'Koumassi',\n    'Port-Bouët',\n    'Anyama',\n    'Bingerville',\n    'Grand-Bassam',\n    'Songon',\n    'Brofodoumé'\n];\n\n// Check if a location is in the Abidjan area\nexport function isInAbidjanArea(location: string): boolean {\n    const normalizedLocation = location.toLowerCase().trim();\n    return ABIDJAN_AREA.some(area => normalizedLocation.includes(area.toLowerCase()));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAaO,MAAM,oBAAuC,0FAAqB;AAGlE,SAAS,oBAAoB,IAAY;IAC5C,MAAM,iBAAiB,KAAK,WAAW,GAAG,IAAI;IAC9C,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAC5B,QAAQ,YAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC;AAEtE;AAGO,SAAS;IACZ,MAAM,kBAAkB,IAAI;IAC5B,kBAAkB,OAAO,CAAC,CAAA;QACtB,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAA;YACzB,8CAA8C;YAC9C,IAAI,KAAK,WAAW,OAAO,WAAW;gBAClC,gBAAgB,GAAG,CAAC;YACxB;QACJ;IACJ;IACA,OAAO,MAAM,IAAI,CAAC,iBAAiB,IAAI;AAC3C;AAGO,MAAM,eAAe;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAGM,SAAS,gBAAgB,QAAgB;IAC5C,MAAM,qBAAqB,SAAS,WAAW,GAAG,IAAI;IACtD,OAAO,aAAa,IAAI,CAAC,CAAA,OAAQ,mBAAmB,QAAQ,CAAC,KAAK,WAAW;AACjF"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/CheckoutPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { MapPin, Phone, User, CheckCircle, Loader2, ArrowLeft, ArrowRight, Truck, Crosshair, Mail, Wallet, Banknote, Building2, Search, Info, ShieldCheck } from 'lucide-react';\nimport { CartItem, DeliveryEstimate } from '../types';\nimport { api } from '../services/api';\nimport { ShippingCompany, findCompaniesByCity, getAllDestinations, ABIDJAN_AREA, isInAbidjanArea } from '../data/shippingCompanies';\nimport { useRouter } from 'next/navigation';\nimport { useCart } from '../context/CartContext';\n\n// Declare Leaflet global type\ndeclare const L: any;\n\ninterface CheckoutPageProps {\n    cart: CartItem[];\n    onBack: () => void;\n    onClearCart: () => void;\n}\n\nexport const CheckoutPage: React.FC<CheckoutPageProps> = (props) => {\n    const { cart, onBack, onClearCart } = props;\n    const { isInitialized } = useCart();\n    const router = useRouter();\n\n    // 1. All Refs\n    const mapRef = useRef<any>(null);\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const markerRef = useRef<any>(null);\n    const addressInputRef = useRef<HTMLInputElement>(null);\n    const nameInputRef = useRef<HTMLInputElement>(null);\n    const phoneInputRef = useRef<HTMLInputElement>(null);\n    const cityInputRef = useRef<HTMLInputElement>(null);\n    const searchTimeoutRef = useRef<any>(null);\n\n    // 2. All State\n    const [deliveryMode, setDeliveryMode] = useState<'local' | 'shipping'>('local');\n    const [selectedCity, setSelectedCity] = useState<string>('');\n    const [citySearchQuery, setCitySearchQuery] = useState<string>('');\n    const [availableCompanies, setAvailableCompanies] = useState<ShippingCompany[]>([]);\n    const [selectedCompany, setSelectedCompany] = useState<ShippingCompany | null>(null);\n    const [showCitySuggestions, setShowCitySuggestions] = useState(false);\n    const [manualCompany, setManualCompany] = useState('');\n    const [formData, setFormData] = useState({ name: '', phone: '', email: '', addressNote: '', address: '' });\n    const [paymentError, setPaymentError] = useState<string | null>(null);\n    const [validationError, setValidationError] = useState<string | null>(null);\n    const [paymentMethod, setPaymentMethod] = useState<'cash' | 'manual'>('manual');\n    const [manualConfirmed, setManualConfirmed] = useState(false);\n    const [location, setLocation] = useState<{ lat: number, lng: number } | null>(null);\n    const [orderPlaced, setOrderPlaced] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isMounted, setIsMounted] = useState(false);\n    const [estimatedFee, setEstimatedFee] = useState<number>(1000);\n    const [isEstimating, setIsEstimating] = useState(false);\n    const [distanceKm, setDistanceKm] = useState<number>(0);\n    const [boundaryWarning, setBoundaryWarning] = useState(false);\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    // 3. All Effects\n    useEffect(() => {\n        setIsMounted(true);\n    }, []);\n\n    // Core Update Logic (must be before effect that uses it or defined outside)\n    const updateLocation = async (lat: number, lng: number, fromMapDrag: boolean = false) => {\n        setIsEstimating(true);\n        try {\n            // Calculate subtotal for fee estimation\n            const currentSubTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n            const result = await api.estimateDelivery(`${lat},${lng}`, currentSubTotal);\n            if (result) {\n                if (fromMapDrag && result.destination?.address) {\n                    const addressIsInAbidjan = isInAbidjanArea(result.destination.address);\n                    if (!addressIsInAbidjan) {\n                        if (markerRef.current && mapRef.current) {\n                            const prevLat = location?.lat || 5.3484;\n                            const prevLng = location?.lng || -4.0305;\n                            markerRef.current.setLatLng([prevLat, prevLng]);\n                            mapRef.current.panTo([prevLat, prevLng]);\n                        }\n                        alert('Cette zone n\\'est pas couverte par la livraison locale. Veuillez choisir \"Villes de l\\'Intérieur\" pour les destinations hors Abidjan.');\n                        setIsEstimating(false);\n                        return;\n                    }\n                    setFormData(prev => ({ ...prev, address: result.destination.address }));\n                }\n                setLocation({ lat, lng });\n                setEstimatedFee(result.fee);\n                setDistanceKm(result.distanceKm);\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsEstimating(false);\n        }\n    };\n\n    useEffect(() => {\n        if (!isMounted || deliveryMode !== 'local') return;\n        if (typeof L === 'undefined') {\n            console.error(\"Leaflet is not loaded\");\n            return;\n        }\n        const timer = setTimeout(() => {\n            try {\n                if (mapContainerRef.current && !mapRef.current) {\n                    const defaultLat = 5.3484;\n                    const defaultLng = -4.0305;\n                    const abidjanBounds = [[5.15, -4.25], [5.55, -3.70]];\n                    const map = L.map(mapContainerRef.current, {\n                        maxBounds: abidjanBounds,\n                        minZoom: 10,\n                        maxZoom: 18\n                    }).setView([defaultLat, defaultLng], 12);\n                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                        attribution: '&copy; OpenStreetMap contributors'\n                    }).addTo(map);\n                    const customIcon = L.divIcon({\n                        className: 'custom-div-icon',\n                        html: `<div class=\"w-10 h-10 bg-black rounded-full border-4 border-white shadow-xl flex items-center justify-center\"><div class=\"w-2 h-2 bg-white rounded-full\"></div></div>`,\n                        iconSize: [40, 40],\n                        iconAnchor: [20, 20]\n                    });\n                    const marker = L.marker([defaultLat, defaultLng], {\n                        icon: customIcon,\n                        draggable: true\n                    }).addTo(map);\n                    marker.on('dragend', (e: any) => {\n                        const { lat, lng } = e.target.getLatLng();\n                        updateLocation(lat, lng, true);\n                    });\n                    map.on('click', (e: any) => {\n                        const { lat, lng } = e.latlng;\n                        marker.setLatLng([lat, lng]);\n                        updateLocation(lat, lng, true);\n                    });\n                    mapRef.current = map;\n                    markerRef.current = marker;\n                    updateLocation(defaultLat, defaultLng);\n                }\n            } catch (err) {\n                console.error(\"Map initialization error:\", err);\n            }\n        }, 100);\n        return () => clearTimeout(timer);\n    }, [isMounted, deliveryMode]);\n\n    // 4. Calculations\n    const allDestinations = getAllDestinations();\n    const subTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n    const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);\n    const isEligibleForOffer = totalItems >= 2;\n\n    const deliveryFee = deliveryMode === 'shipping' ? 0 : (isEligibleForOffer ? 0 : estimatedFee);\n    const discountAmount = isEligibleForOffer ? subTotal * 0.05 : 0;\n    const total = subTotal + deliveryFee - discountAmount;\n\n    const filteredCities = citySearchQuery.length > 0\n        ? allDestinations.filter(city => city.toLowerCase().includes(citySearchQuery.toLowerCase()))\n        : allDestinations;\n\n    // 5. Early Returns (MUST be after ALL hooks)\n    // IMPORTANT: No hooks are allowed below this point\n    if (!isMounted || !isInitialized) {\n        return (\n            <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <Loader2 className=\"w-8 h-8 text-slate-400 animate-spin\" />\n                    <p className=\"text-slate-400 font-medium text-sm\">Chargement de votre panier...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (cart.length === 0 && !orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-white flex flex-col items-center justify-center p-4\">\n                <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-6 border border-slate-100\">\n                    <Truck className=\"w-10 h-10 text-slate-200\" />\n                </div>\n                <h2 className=\"text-2xl font-bold text-slate-900 mb-2\">Votre panier est vide</h2>\n                <p className=\"text-slate-500 mb-8 text-center max-w-sm\">\n                    Il semble que vous n'ayez pas encore ajouté de produits à votre panier. Prolongez votre vitalité en découvrant nos solutions.\n                </p>\n                <button\n                    onClick={onBack}\n                    className=\"flex items-center gap-2 bg-slate-900 text-white px-8 py-3.5 rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10\"\n                >\n                    <ArrowLeft className=\"w-5 h-5\" />\n                    Retour à la boutique\n                </button>\n            </div>\n        );\n    }\n\n    // 6. Event Handlers\n    const handleCitySelect = (city: string) => {\n        setSelectedCity(city);\n        setCitySearchQuery(city);\n        setShowCitySuggestions(false);\n        const companies = findCompaniesByCity(city);\n        setAvailableCompanies(companies);\n        setSelectedCompany(companies.length > 0 ? companies[0] : null);\n    };\n\n    const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const query = e.target.value;\n        setFormData({ ...formData, address: query });\n        if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n        if (query.length < 3) {\n            setSuggestions([]);\n            setShowSuggestions(false);\n            return;\n        }\n        searchTimeoutRef.current = setTimeout(async () => {\n            try {\n                const results = await api.searchPlaces(query);\n                const filteredResults = results.filter((place: any) => {\n                    const combinedAddress = `${place.display_name} ${place.address?.city || ''} ${place.address?.state || ''} ${place.address?.suburb || ''}`;\n                    return isInAbidjanArea(combinedAddress);\n                });\n                setSuggestions(filteredResults);\n                setShowSuggestions(true);\n            } catch (err) {\n                console.error(err);\n            }\n        }, 300);\n    };\n\n    const handleSuggestionClick = (place: any) => {\n        const lat = parseFloat(place.lat);\n        const lon = parseFloat(place.lon);\n        const address = place.display_name;\n        setFormData({ ...formData, address });\n        setShowSuggestions(false);\n        if (markerRef.current && mapRef.current) {\n            markerRef.current.setLatLng([lat, lon]);\n            mapRef.current.setView([lat, lon], 16);\n            updateLocation(lat, lon);\n        }\n    };\n\n    const handleGeolocation = () => {\n        if (!navigator.geolocation) {\n            alert(\"La géolocalisation n'est pas supportée par votre navigateur.\");\n            return;\n        }\n        navigator.geolocation.getCurrentPosition(async (position) => {\n            const { latitude, longitude } = position.coords;\n            try {\n                const results = await api.searchPlaces(`${latitude},${longitude}`);\n                if (results && results.length > 0) {\n                    const address = results[0].display_name;\n                    if (!isInAbidjanArea(address)) {\n                        alert(\"Votre position actuelle semble être hors de la zone d'Abidjan. Veuillez choisir 'Villes de l'Intérieur'.\");\n                        return;\n                    }\n                }\n                if (markerRef.current && mapRef.current) {\n                    markerRef.current.setLatLng([latitude, longitude]);\n                    mapRef.current.setView([latitude, longitude], 16);\n                    updateLocation(latitude, longitude);\n                }\n            } catch (err) {\n                console.error(\"Geocoding current position failed:\", err);\n            }\n        }, (error) => {\n            console.error(\"Geolocation error:\", error);\n            alert(\"Impossible de récupérer votre position.\");\n        });\n    };\n\n    const handleAddressBlur = () => {\n        setTimeout(() => setShowSuggestions(false), 200);\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setPaymentError(null);\n        setValidationError(null);\n        if (paymentMethod === 'manual' && !manualConfirmed) {\n            setValidationError(\"Veuillez confirmer que vous avez effectué le transfert.\");\n            return;\n        }\n        if (!formData.name.trim()) {\n            setValidationError(\"Veuillez entrer votre nom complet.\");\n            nameInputRef.current?.focus();\n            return;\n        }\n        if (!formData.phone.trim() || formData.phone.length < 8) {\n            setValidationError(\"Veuillez entrer un numéro de téléphone valide.\");\n            phoneInputRef.current?.focus();\n            return;\n        }\n        if (deliveryMode === 'local') {\n            if (!formData.address.trim() || !location) {\n                setValidationError(\"Veuillez sélectionner votre lieu de livraison sur la carte.\");\n                addressInputRef.current?.focus();\n                return;\n            }\n        } else {\n            if (!selectedCity) {\n                setValidationError(\"Veuillez sélectionner une ville de destination.\");\n                return;\n            }\n            if (availableCompanies.length > 0 && !selectedCompany && !manualCompany.trim()) {\n                setValidationError(\"Veuillez sélectionner une compagnie de transport.\");\n                return;\n            }\n            if (availableCompanies.length === 0 && !manualCompany.trim()) {\n                setValidationError(\"Veuillez préciser la compagnie de transport souhaitée.\");\n                return;\n            }\n        }\n        setIsSubmitting(true);\n        try {\n            const paymentData = {\n                cart,\n                customer: {\n                    name: formData.name,\n                    phone: formData.phone,\n                    email: formData.email\n                },\n                delivery: {\n                    address: deliveryMode === 'local' ? formData.address : `${selectedCity} (Via ${manualCompany || selectedCompany?.name})`,\n                    lat: location?.lat || 0,\n                    lon: location?.lng || 0,\n                    fee: deliveryFee,\n                    addressNote: formData.addressNote,\n                    shippingCompany: deliveryMode === 'shipping' ? (manualCompany || selectedCompany?.name) : undefined,\n                    shippingCity: deliveryMode === 'shipping' ? selectedCity : undefined\n                },\n                paymentMethod,\n                deliveryMode\n            };\n\n            const response = await api.initiatePayment(paymentData);\n\n            if (paymentMethod === 'manual') {\n                router.push(`/payment/${response.orderId}`);\n                onClearCart();\n            } else {\n                setOrderPlaced(true);\n                onClearCart();\n            }\n        } catch (err: any) {\n            console.error(err);\n            setPaymentError(err.message || \"Une erreur est survenue lors de la commande.\");\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleWhatsApp = () => {\n        const message = `Bonjour Santé Vitalité, je souhaite passer une commande : \\n\\n${cart.map(item => `- ${item.name} x${item.quantity}`).join('\\n')}\\n\\nTotal: ${total.toLocaleString()} F`;\n        window.open(`https://wa.me/2250700000000?text=${encodeURIComponent(message)}`, '_blank');\n    };\n\n    const highlightText = (text: string, term: string) => {\n        if (!term) return text;\n        const parts = text.split(new RegExp(`(${term})`, 'gi'));\n        return (\n            <span>\n                {parts.map((part, i) => (\n                    <span key={i} className={part.toLowerCase() === term.toLowerCase() ? 'bg-amber-100 text-amber-900 font-bold' : ''}>\n                        {part}\n                    </span>\n                ))}\n            </span>\n        );\n    };\n\n    if (orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4\">\n                <div className=\"bg-white p-8 md:p-12 rounded-3xl border border-slate-200 shadow-sm text-center max-w-md w-full\">\n                    <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-8 border border-slate-100\">\n                        <CheckCircle className=\"w-10 h-10 text-slate-900\" />\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-slate-900 mb-3 tracking-tight\">Commande Reçue !</h2>\n                    <p className=\"text-slate-500 mb-8 leading-relaxed\">\n                        Merci <span className=\"text-slate-900 font-semibold\">{formData.name}</span>. Nous vous contacterons au <span className=\"text-slate-900 font-semibold\">{formData.phone}</span> pour confirmer la livraison.\n                    </p>\n                    <div className=\"space-y-3\">\n                        <button\n                            onClick={onBack}\n                            className=\"w-full bg-slate-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10 flex items-center justify-center gap-2 group\"\n                        >\n                            Retour à la boutique\n                            <ArrowRight className=\"w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                        </button>\n                        <button\n                            onClick={handleWhatsApp}\n                            className=\"w-full bg-white text-slate-600 px-8 py-4 rounded-xl font-bold border border-slate-200 hover:bg-slate-50 transition-all flex items-center justify-center gap-2\"\n                        >\n                            Suivre sur WhatsApp\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-slate-50\">\n            {/* Header */}\n            <div className=\"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-4 md:py-6 md:px-8\">\n                <div className=\"max-w-7xl mx-auto flex items-center gap-4 md:gap-6\">\n                    <button onClick={onBack} className=\"p-2 md:p-3 hover:bg-slate-50 rounded-full transition-colors group flex-shrink-0 border border-slate-100\">\n                        <ArrowLeft className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform text-slate-600\" />\n                    </button>\n                    <div className=\"min-w-0\">\n                        <h1 className=\"text-lg md:text-2xl font-bold tracking-tight text-slate-900 truncate\">Finaliser la commande</h1>\n                        <p className=\"text-[9px] md:text-[10px] uppercase tracking-[0.15em] text-slate-900 font-bold mt-0.5 hidden sm:block\">Étape finale — Paiement Sécurisé</p>\n                    </div>\n                    <div className=\"ml-auto flex items-center gap-2 text-slate-400\">\n                        <ShieldCheck className=\"w-5 h-5\" />\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest hidden sm:block\">SSL Secure</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"max-w-7xl mx-auto px-4 py-6 md:px-8 md:py-12\">\n                <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-12 items-start\">\n                    {/* Main Content */}\n                    <form onSubmit={handleSubmit} className=\"lg:col-span-7 space-y-8\">\n\n                        {/* Delivery Method Selection */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm\">\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2\">\n                                <Truck className=\"w-5 h-5 text-slate-400\" />\n                                Mode de Livraison\n                            </h3>\n\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setDeliveryMode('local')}\n                                    className={`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 text-center ${deliveryMode === 'local'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-200 bg-slate-50 text-slate-900 hover:border-slate-300'\n                                        }`}\n                                >\n                                    <MapPin className=\"w-6 h-6\" />\n                                    <span className=\"text-sm font-bold\">Abidjan & Environs</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setDeliveryMode('shipping')}\n                                    className={`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 text-center ${deliveryMode === 'shipping'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-200 bg-slate-50 text-slate-900 hover:border-slate-300'\n                                        }`}\n                                >\n                                    <Building2 className=\"w-6 h-6\" />\n                                    <span className=\"text-sm font-bold\">Villes de l'Intérieur</span>\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Local Delivery UI */}\n                        {deliveryMode === 'local' && (\n                            <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                                <div className=\"space-y-6\">\n                                    {/* Address Input */}\n                                    <div className=\"space-y-2\">\n                                        <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Lieu de livraison</label>\n                                        <div className=\"relative group\">\n                                            <input\n                                                ref={addressInputRef}\n                                                type=\"text\"\n                                                value={formData.address}\n                                                onChange={handleAddressChange}\n                                                onBlur={handleAddressBlur}\n                                                placeholder=\"Saisissez votre quartier ou repère...\"\n                                                className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2\"\n                                            />\n                                            <MapPin className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n\n                                            {/* Geolocation Button */}\n                                            <button\n                                                type=\"button\"\n                                                onClick={handleGeolocation}\n                                                className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 hover:bg-white rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-transparent hover:border-slate-100\"\n                                                title=\"Ma position actuelle\"\n                                            >\n                                                <Crosshair className=\"w-5 h-5\" />\n                                            </button>\n\n                                            {/* Suggestions Dropdown */}\n                                            {showSuggestions && suggestions.length > 0 && (\n                                                <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-2xl shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                                                    {suggestions.map((place, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => handleSuggestionClick(place)}\n                                                            className=\"w-full p-4 text-left hover:bg-slate-50 flex items-start gap-3 transition-colors border-b border-slate-50 last:border-0\"\n                                                        >\n                                                            <MapPin className=\"w-4 h-4 text-slate-300 mt-1 flex-shrink-0\" />\n                                                            <div>\n                                                                <p className=\"text-sm text-slate-900 font-medium\">\n                                                                    {highlightText(place.display_name, formData.address)}\n                                                                </p>\n                                                            </div>\n                                                        </button>\n                                                    ))}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    {/* Map Container */}\n                                    <div className=\"relative rounded-2xl overflow-hidden border-2 border-slate-100 group shadow-inner bg-slate-100\">\n                                        <div ref={mapContainerRef} className=\"h-64 sm:h-80 w-full grayscale-[0.2]\" />\n                                        <div className=\"absolute top-4 left-4 right-4 pointer-events-none\">\n                                            <div className=\"bg-white/90 backdrop-blur-md px-4 py-2 rounded-full border border-slate-200/50 shadow-sm inline-flex items-center gap-2\">\n                                                <Info className=\"w-3.5 h-3.5 text-slate-400\" />\n                                                <span className=\"text-[10px] font-bold text-slate-600 uppercase tracking-tight\">Déplacez le marqueur pour ajuster</span>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Fee Display */}\n                                    {location && (\n                                        <div className=\"bg-slate-50 rounded-2xl p-4 md:p-6 border border-slate-100 flex flex-wrap items-center justify-between gap-4\">\n                                            <div className=\"space-y-1\">\n                                                <div className=\"flex items-center gap-2 text-slate-900 text-[10px] font-bold uppercase tracking-widest\">\n                                                    <Truck className=\"w-3.5 h-3.5\" />\n                                                    Estimation Livraison\n                                                </div>\n                                                <div className=\"flex items-baseline gap-2\">\n                                                    <span className=\"text-2xl font-bold text-slate-900\">{deliveryFee.toLocaleString()} F</span>\n                                                    <span className=\"text-xs text-slate-900 font-bold\">{distanceKm.toFixed(1)} km</span>\n                                                </div>\n                                            </div>\n                                            {isEstimating && (\n                                                <div className=\"flex items-center gap-2 bg-white px-4 py-2 rounded-full border border-slate-100\">\n                                                    <Loader2 className=\"w-4 h-4 text-slate-900 animate-spin\" />\n                                                    <span className=\"text-xs font-bold text-slate-900 uppercase\">Ajustement...</span>\n                                                </div>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n\n                        {/* Shipping Mode UI */}\n                        {deliveryMode === 'shipping' && (\n                            <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8 text-slate-900\">\n                                {/* City Selection */}\n                                <div className=\"space-y-4\">\n                                    <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Ville de destination</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            type=\"text\"\n                                            value={citySearchQuery}\n                                            onChange={(e) => {\n                                                setCitySearchQuery(e.target.value);\n                                                setShowCitySuggestions(true);\n                                                setSelectedCity('');\n                                            }}\n                                            onFocus={() => setShowCitySuggestions(true)}\n                                            placeholder=\"Cherchez votre ville (ex: Bouaké, Korhogo...)\"\n                                            className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2\"\n                                        />\n                                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n\n                                        {showCitySuggestions && (\n                                            <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto scrollbar-thin\">\n                                                {filteredCities.length > 0 ? (\n                                                    filteredCities.map((city, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => handleCitySelect(city)}\n                                                            className=\"w-full p-4 text-left hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 font-medium\"\n                                                        >\n                                                            {highlightText(city, citySearchQuery)}\n                                                        </button>\n                                                    ))\n                                                ) : (\n                                                    <div className=\"p-4 text-center text-slate-400 text-sm italic\">Aucune ville trouvée</div>\n                                                )}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Transport Company Selection */}\n                                {selectedCity ? (\n                                    <div className=\"space-y-6 animate-in fade-in slide-in-from-top-4 duration-500\">\n                                        <div className=\"space-y-4\">\n                                            <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Compagnie de transport préférée</label>\n\n                                            {availableCompanies.length > 0 ? (\n                                                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                                                    {availableCompanies.map((company, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => {\n                                                                setSelectedCompany(company);\n                                                                setManualCompany('');\n                                                            }}\n                                                            className={`p-4 rounded-2xl border-2 text-left transition-all flex flex-col gap-1 items-start group ${selectedCompany?.name === company.name\n                                                                ? 'border-slate-900 bg-slate-900 text-white shadow-lg'\n                                                                : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                                                }`}\n                                                        >\n                                                            <span className=\"font-bold\">{company.name}</span>\n                                                            <div className={`text-[10px] uppercase tracking-wider font-bold ${selectedCompany?.name === company.name ? 'text-white' : 'text-slate-900'\n                                                                }`}>{company.hub_principal}</div>\n                                                        </button>\n                                                    ))}\n\n                                                    {/* Other Option */}\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() => {\n                                                            setSelectedCompany(null);\n                                                            setManualCompany('');\n                                                        }}\n                                                        className={`p-4 rounded-2xl border-2 text-left transition-all flex flex-col gap-1 items-start ${!selectedCompany && manualCompany === ''\n                                                            ? 'border-slate-900 bg-slate-900 text-white'\n                                                            : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                                            }`}\n                                                    >\n                                                        <span className=\"font-extrabold\">Autre compagnie</span>\n                                                        <div className=\"text-[10px] uppercase tracking-wider opacity-60 font-bold\">Précisez votre choix</div>\n                                                    </button>\n                                                </div>\n                                            ) : (\n                                                <div className=\"bg-slate-50 p-6 rounded-2xl border border-slate-100 text-center\">\n                                                    <p className=\"text-sm text-slate-500 font-medium\">Nous n'avons pas de compagnie suggérée pour cette ville.</p>\n                                                    <p className=\"text-[10px] text-slate-400 uppercase font-bold mt-1\">Veuillez préciser votre compagnie ci-dessous</p>\n                                                </div>\n                                            )}\n                                        </div>\n\n                                        {/* Manual Entry or Other selected */}\n                                        {(!selectedCompany || availableCompanies.length === 0) && (\n                                            <div className=\"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                                <div className=\"relative\">\n                                                    <input\n                                                        type=\"text\"\n                                                        value={manualCompany}\n                                                        onChange={(e) => setManualCompany(e.target.value)}\n                                                        placeholder=\"Ex: AVS, Sala Transport, UTB...\"\n                                                        className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-bold\"\n                                                    />\n                                                    <Building2 className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900\" />\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        {/* Info Box */}\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex gap-4\">\n                                            <div className=\"bg-white p-2.5 rounded-xl border border-slate-100 h-fit\">\n                                                <Info className=\"w-5 h-5 text-slate-400 font-bold\" />\n                                            </div>\n                                            <div className=\"space-y-1\">\n                                                <p className=\"text-xs font-bold text-slate-900 uppercase tracking-tight\">À propos des frais</p>\n                                                <p className=\"text-sm text-slate-500 leading-relaxed font-medium\">Pour l'intérieur, vous réglez les frais de colis directement auprès de la compagnie à la réception.</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"p-12 text-center text-slate-400 space-y-4 bg-slate-50/50 rounded-3xl border border-dashed border-slate-200\">\n                                        <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto border border-slate-100\">\n                                            <Search className=\"w-8 h-8 opacity-20\" />\n                                        </div>\n                                        <p className=\"text-sm font-medium\">En attente du choix de votre ville...</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Contact Form */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n                            <h3 className=\"text-lg font-bold text-slate-900 flex items-center gap-2\">\n                                <User className=\"w-5 h-5 text-slate-400\" />\n                                Informations de Contact\n                            </h3>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-900 ml-1\">Nom complet *</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            ref={nameInputRef}\n                                            type=\"text\"\n                                            value={formData.name}\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                                            placeholder=\"Jean Kouassi\"\n                                            className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                        />\n                                        <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n                                    </div>\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Téléphone *</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            ref={phoneInputRef}\n                                            type=\"tel\"\n                                            value={formData.phone}\n                                            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                                            placeholder=\"07 00 00 00 00\"\n                                            className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                        />\n                                        <Phone className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 group-focus-within:text-slate-900 transition-colors\" />\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Email (Optionnel)</label>\n                                <div className=\"relative group\">\n                                    <input\n                                        type=\"email\"\n                                        value={formData.email}\n                                        onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                                        placeholder=\"jean.kouassi@email.com\"\n                                        className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                    />\n                                    <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 group-focus-within:text-slate-900 transition-colors\" />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Notes de livraison (Ex: Porte 3, Bâtiment B...)</label>\n                                <textarea\n                                    value={formData.addressNote}\n                                    onChange={(e) => setFormData({ ...formData, addressNote: e.target.value })}\n                                    className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 px-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 min-h-[100px] resize-none font-medium\"\n                                    placeholder=\"Indications précises pour le livreur...\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Payment Method Selector */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n                            <h3 className=\"text-lg font-bold text-slate-900 flex items-center gap-2\">\n                                <Wallet className=\"w-5 h-5 text-slate-400\" />\n                                Méthode de Paiement\n                            </h3>\n\n                            <div className=\"space-y-3\">\n\n                                {/* Cash on delivery - Secondary option */}\n                                <label\n                                    className={`group p-5 rounded-2xl border-2 transition-all duration-300 flex items-center justify-between ${deliveryMode === 'shipping'\n                                        ? 'border-slate-50 bg-slate-50 text-slate-200 cursor-not-allowed'\n                                        : paymentMethod === 'cash'\n                                            ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                            : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900 cursor-pointer'\n                                        }`}\n                                >\n                                    <input\n                                        type=\"radio\"\n                                        name=\"payment\"\n                                        value=\"cash\"\n                                        disabled={deliveryMode === 'shipping'}\n                                        checked={paymentMethod === 'cash'}\n                                        onChange={() => setPaymentMethod('cash')}\n                                        className=\"hidden\"\n                                    />\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className={`p-2.5 rounded-xl border transition-colors ${paymentMethod === 'cash' ? 'bg-white/10 border-white/20' : 'bg-white border-slate-100'}`}>\n                                            <Banknote className={`w-6 h-6 ${paymentMethod === 'cash' ? 'text-white' : 'text-slate-400'}`} />\n                                        </div>\n                                        <div>\n                                            <span className=\"block font-bold\">Paiement à la livraison</span>\n                                            <span className={`text-[10px] uppercase font-bold tracking-tight opacity-60 ${paymentMethod === 'cash' ? 'text-slate-300' : 'text-slate-400'}`}>\n                                                {deliveryMode === 'shipping' ? 'Indisponible pour l\\'intérieur' : 'Payez cash à la réception'}\n                                            </span>\n                                        </div>\n                                    </div>\n                                    {paymentMethod === 'cash' && deliveryMode !== 'shipping' && (\n                                        <div className=\"bg-white text-slate-900 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-sm\">Actif</div>\n                                    )}\n                                </label>\n\n                                {/* Manual Mobile Money - New option */}\n                                <label\n                                    className={`group relative p-5 rounded-2xl border-2 transition-all duration-300 flex flex-col cursor-pointer ${paymentMethod === 'manual'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                        }`}\n                                >\n                                    <input\n                                        type=\"radio\"\n                                        name=\"payment\"\n                                        value=\"manual\"\n                                        checked={paymentMethod === 'manual'}\n                                        onChange={() => setPaymentMethod('manual')}\n                                        className=\"hidden\"\n                                    />\n                                    <div className=\"flex items-center justify-between w-full\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`p-2.5 rounded-xl border transition-colors ${paymentMethod === 'manual' ? 'bg-white/10 border-white/20' : 'bg-white border-slate-100'}`}>\n                                                <Phone className={`w-6 h-6 ${paymentMethod === 'manual' ? 'text-white' : 'text-slate-400'}`} />\n                                            </div>\n                                            <div>\n                                                <span className=\"block font-bold\">Transfert Mobile Money (Manuel)</span>\n                                                <span className={`text-[10px] uppercase font-bold tracking-tight opacity-60 ${paymentMethod === 'manual' ? 'text-slate-300' : 'text-slate-400'}`}>Évitez les frais & les documents</span>\n                                            </div>\n                                        </div>\n                                        {paymentMethod === 'manual' && (\n                                            <div className=\"bg-white text-slate-900 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-sm\">Actif</div>\n                                        )}\n                                    </div>\n\n                                    {paymentMethod === 'manual' && (\n                                        <div className=\"mt-6 pt-6 border-t border-white/10 space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                            <div className=\"bg-white/10 p-4 rounded-2xl border border-white/10\">\n                                                <p className=\"text-xs text-slate-300 leading-relaxed italic\">\n                                                    * Vous serez redirigé vers la page de paiement sécurisée pour effectuer le transfert après confirmation.\n                                                </p>\n                                            </div>\n\n                                            <div className=\"flex items-center gap-3 pt-2\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    id=\"confirm-manual\"\n                                                    checked={manualConfirmed}\n                                                    onChange={(e) => setManualConfirmed(e.target.checked)}\n                                                    className=\"w-5 h-5 rounded border-white/20 bg-white/10 checked:bg-white text-slate-900 transition-all cursor-pointer\"\n                                                />\n                                                <label htmlFor=\"confirm-manual\" className=\"text-xs font-bold cursor-pointer\">\n                                                    Je confirme que je paierai par transfert mobile money\n                                                </label>\n                                            </div>\n                                        </div>\n                                    )}\n                                </label>\n                            </div>\n\n                            {paymentError && (\n                                <div className=\"p-4 bg-slate-50 border border-slate-100 rounded-2xl text-slate-900 text-sm font-bold flex items-center gap-3 animate-shake\">\n                                    <div className=\"bg-white p-1.5 rounded-lg border border-slate-100\">\n                                        <Info className=\"w-4 h-4 text-slate-400\" />\n                                    </div>\n                                    {paymentError}\n                                </div>\n                            )}\n\n                            {validationError && (\n                                <div className=\"p-4 bg-slate-50 border border-slate-100 rounded-2xl text-slate-900 text-sm font-bold flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                    <div className=\"bg-white p-1.5 rounded-lg border border-slate-100\">\n                                        <Info className=\"w-4 h-4 text-slate-400 font-bold\" />\n                                    </div>\n                                    {validationError}\n                                </div>\n                            )}\n                        </div>\n                    </form>\n\n                    {/* Order Summary Sidebar */}\n                    <div className=\"lg:col-span-5 sticky top-28 space-y-6\">\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                            <div className=\"flex items-center justify-between mb-8\">\n                                <h3 className=\"text-xl font-bold tracking-tight text-slate-900\">Récapitulatif</h3>\n                                <div className=\"bg-slate-50 border border-slate-100 text-slate-400 px-3 py-1 rounded-xl text-[10px] font-bold uppercase tracking-widest\">{totalItems} Article{totalItems > 1 ? 's' : ''}</div>\n                            </div>\n\n                            <div className=\"space-y-6\">\n                                <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent\">\n                                    {cart.map((item) => (\n                                        <div key={item.id} className=\"flex gap-4 group\">\n                                            <div className=\"w-16 h-16 bg-slate-50 rounded-2xl border border-slate-100 flex-shrink-0 overflow-hidden relative\">\n                                                <img src={item.image} alt={item.name} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" />\n                                                <div className=\"absolute top-1 right-1 bg-slate-900 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-lg min-w-[20px] text-center\">x{item.quantity}</div>\n                                            </div>\n                                            <div className=\"min-w-0 flex flex-col justify-center\">\n                                                <h4 className=\"text-sm font-bold text-slate-900 truncate tracking-tight\">{item.name}</h4>\n                                                <p className=\"text-slate-400 text-xs font-medium\">{(item.price * item.quantity).toLocaleString()} F</p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n\n                                <div className=\"pt-6 border-t border-slate-100 space-y-3\">\n                                    <div className=\"flex justify-between text-sm\">\n                                        <span className=\"text-slate-400 font-medium\">Sous-total</span>\n                                        <span className=\"text-slate-900 font-bold\">{subTotal.toLocaleString()} F</span>\n                                    </div>\n\n                                    <div className=\"flex justify-between text-sm\">\n                                        <span className=\"text-slate-400 font-medium\">Livraison</span>\n                                        <span className={deliveryFee === 0 ? \"text-slate-900 font-bold\" : \"text-slate-900 font-bold\"}>\n                                            {deliveryFee === 0 ? \"Gratuit\" : `${deliveryFee.toLocaleString()} F`}\n                                        </span>\n                                    </div>\n\n                                    {discountAmount > 0 && (\n                                        <div className=\"flex justify-between text-sm bg-slate-50 p-3 rounded-xl border border-dashed border-slate-200\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <div className=\"w-2 h-2 bg-slate-900 rounded-full\" />\n                                                <span className=\"text-slate-900 font-bold\">Réduction Vitalité (5%)</span>\n                                            </div>\n                                            <span className=\"text-slate-900 font-bold\">-{discountAmount.toLocaleString()} F</span>\n                                        </div>\n                                    )}\n\n                                    <div className=\"pt-6 mt-2\">\n                                        <div className=\"flex flex-col gap-1\">\n                                            <div className=\"flex justify-between items-end\">\n                                                <span className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-1\">Total Final</span>\n                                                <div className=\"flex items-baseline gap-1\">\n                                                    <span className=\"text-3xl font-bold tracking-tighter text-slate-900\">{total.toLocaleString()}</span>\n                                                    <span className=\"text-sm font-bold text-slate-900\">F</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"mt-8 space-y-3\">\n                                <button\n                                    onClick={handleSubmit}\n                                    disabled={isSubmitting}\n                                    className=\"w-full bg-slate-900 text-white px-8 py-5 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-xl shadow-slate-900/20 flex items-center justify-center gap-3 disabled:bg-slate-200 disabled:shadow-none relative group overflow-hidden\"\n                                >\n                                    {isSubmitting ? (\n                                        <>\n                                            <Loader2 className=\"w-6 h-6 animate-spin\" />\n                                            <span>Traitement...</span>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <ShieldCheck className=\"w-6 h-6 text-slate-400 group-hover:text-white transition-colors\" />\n                                            <span>Confirmer la commande</span>\n                                            <ArrowRight className=\"w-6 h-6 group-hover:translate-x-1 transition-transform\" />\n                                        </>\n                                    )}\n                                </button>\n                                <p className=\"text-[9px] text-center text-slate-300 font-bold uppercase tracking-widest\">Paiement 100% sécurisé & crypté</p>\n                            </div>\n                        </div>\n\n                        {/* Order Security Tag */}\n                        <div className=\"bg-slate-50/50 p-4 rounded-2xl border border-slate-200 border-dashed flex items-center justify-center gap-4 grayscale opacity-50\">\n                            <div className=\"flex items-center gap-1.5\">\n                                <ShieldCheck className=\"w-4 h-4\" />\n                                <span className=\"text-[8px] font-bold uppercase tracking-widest\">Protection Acheteur</span>\n                            </div>\n                            <div className=\"w-1 h-1 bg-slate-300 rounded-full\" />\n                            <div className=\"flex items-center gap-1.5\">\n                                <CheckCircle className=\"w-4 h-4\" />\n                                <span className=\"text-[8px] font-bold uppercase tracking-widest\">Qualité Garantie</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2567, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/app/%28store%29/panier/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useCart } from '@/context/CartContext';\nimport { CheckoutPage } from '@/components/CheckoutPage';\nimport { useRouter } from 'next/navigation';\n\nexport default function PanierPage() {\n    const { cart, clearCart } = useCart();\n    const router = useRouter();\n\n    const handleBack = () => {\n        router.push('/');\n    };\n\n    return (\n        <CheckoutPage\n            cart={cart}\n            onBack={handleBack}\n            onClearCart={clearCart}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAOe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,kIAAO;IACnC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa;QACf,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,8OAAC,2IAAY;QACT,MAAM;QACN,QAAQ;QACR,aAAa;;;;;;AAGzB"}}]
}