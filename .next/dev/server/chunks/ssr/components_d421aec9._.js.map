{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/AddToCartButton.tsx"],"sourcesContent":["'use client';\n\nimport { useCart } from '@/context/CartContext';\nimport { Product } from '@/types';\nimport { ArrowRight } from 'lucide-react';\n\ninterface AddToCartButtonProps {\n    product: Product;\n    className?: string; // e.g. \"bg-rose-600 hover:bg-rose-700\"\n}\n\nexport const AddToCartButton: React.FC<AddToCartButtonProps> = ({ product, className }) => {\n    const { addToCart } = useCart();\n\n    return (\n        <button\n            onClick={() => addToCart(product)}\n            className={`text-white px-8 py-4 rounded-xl font-bold transition-colors shadow-lg flex items-center ${className || 'bg-gray-900 hover:bg-gray-800'}`}\n        >\n            Commander <ArrowRight className=\"ml-2 w-5 h-5\" />\n        </button>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAWO,MAAM,kBAAkD,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE;IAClF,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,kIAAO;IAE7B,qBACI,8OAAC;QACG,SAAS,IAAM,UAAU;QACzB,WAAW,CAAC,wFAAwF,EAAE,aAAa,iCAAiC;;YACvJ;0BACa,8OAAC,gOAAU;gBAAC,WAAU;;;;;;;;;;;;AAG5C"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/ProductsClient.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { products } from '@/data/products';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { AddToCartButton } from '@/components/AddToCartButton';\nimport { formatCurrency, API_URL } from '@/lib/utils';\n\n\nexport function ProductsClient() {\n    const [dynamicProducts, setDynamicProducts] = useState(products);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                // Add timestamp to force fresh fetch and explicitly disable caching\n                const response = await fetch(`${API_URL}/api/products?t=${Date.now()}`, {\n                    cache: 'no-store',\n                    next: { revalidate: 0 }\n                });\n\n                if (response.ok) {\n                    const { products: dbProducts } = await response.json();\n                    const activeProducts = dbProducts.map((dbp: any) => {\n                        const sp = products.find(p => p.id === dbp.id);\n                        return {\n                            ...sp,\n                            id: dbp.id,\n                            name: dbp.name,\n                            price: dbp.price,\n                            stock: dbp.stock,\n                            inStock: dbp.stock > 0,\n                            description: dbp.description || sp?.description || '',\n                            is_active: dbp.is_active,\n                            image: (dbp.image && dbp.image.length > 0) ? dbp.image : (sp?.image || ''),\n                            tagline: dbp.tagline || sp?.tagline || '',\n                            category: dbp.category || sp?.category || '',\n                            ingredients_image: dbp.ingredients_image || sp?.ingredients_image,\n                            infographic_image: dbp.infographic_image || sp?.infographic_image,\n                            gallery: dbp.gallery\n                                ? (typeof dbp.gallery === 'string' ? JSON.parse(dbp.gallery) : dbp.gallery)\n                                : (sp?.gallery || []),\n                            benefits: dbp.benefits\n                                ? (typeof dbp.benefits === 'string' ? JSON.parse(dbp.benefits) : dbp.benefits)\n                                : (sp?.benefits || [])\n                        };\n                    });\n\n                    setDynamicProducts(activeProducts);\n                }\n            } catch (error) {\n                console.error('Failed to sync products:', error);\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    return (\n        <div className=\"bg-white min-h-screen text-black\">\n            {/* Minimalist Header - White/Black */}\n            <div className=\"pt-8 pb-8 px-4 sm:px-6 lg:px-8 border-b border-black/10\">\n                <div className=\"max-w-7xl mx-auto\">\n                    <h1 className=\"text-5xl md:text-7xl font-bold tracking-tighter mb-4 font-heading text-black\">\n                        Protocoles.\n                    </h1>\n                    <p className=\"text-xl md:text-2xl font-light text-black/70 max-w-2xl\">\n                        Formulations synergiques pour une santé restaurée.\n                    </p>\n                </div>\n            </div>\n\n            {/* Products Grid */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n                <div className=\"grid grid-cols-1 gap-24\">\n                    {dynamicProducts.map((product, index) => {\n                        // Dynamic Color Logic\n                        const isBioActif = product.id === 'bioactif';\n                        const accentColor = isBioActif ? 'text-red-600' : 'text-green-600';\n                        const borderColor = isBioActif ? 'border-red-600' : 'border-green-600';\n                        const bgAccent = isBioActif ? 'bg-red-600' : 'bg-green-600';\n\n                        return (\n                            <div key={product.id} className=\"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start group\">\n                                {/* Image Section */}\n                                <div className={`lg:col-span-5 relative w-full aspect-square sm:aspect-[4/5] lg:aspect-[3/4] bg-white border border-black/10 p-8 sm:p-12 max-w-[280px] sm:max-w-md lg:max-w-none mx-auto lg:mx-0 ${index % 2 === 1 ? 'lg:order-2' : ''}`}>\n                                    <Link href={`/produits/${product.id}`} className=\"block w-full h-full relative\">\n                                        <Image\n                                            src={product.image}\n                                            alt={`${product.name} - Protocole ${product.category} par BIO SANTÉ`}\n                                            fill\n                                            sizes=\"(max-width: 768px) 100vw, 40vw\"\n                                            className=\"object-contain transition-transform duration-700 group-hover:scale-105\"\n                                            priority={index === 0}\n                                            unoptimized\n                                        />\n                                    </Link>\n                                    <div className=\"absolute top-4 left-4 text-xs font-mono uppercase tracking-widest text-black/40\">\n                                        Fig. 0{index + 1}\n                                    </div>\n                                </div>\n\n                                {/* Content Section */}\n                                <div className={`lg:col-span-7 space-y-8 ${index % 2 === 1 ? 'lg:order-1 lg:text-right' : ''}`}>\n                                    <div>\n                                        <div className={`inline-block border ${borderColor} px-3 py-1 rounded-full mb-6 ${index % 2 === 1 ? 'ml-auto' : ''}`}>\n                                            <span className={`text-xs font-bold uppercase tracking-widest ${accentColor}`}>{product.category}</span>\n                                        </div>\n                                        <Link href={`/produits/${product.id}`}>\n                                            <h2 className={`text-5xl md:text-6xl font-bold tracking-tight mb-4 hover:opacity-70 transition-opacity ${accentColor}`}>{product.name}</h2>\n                                        </Link>\n                                        <p className=\"text-xl leading-relaxed font-light text-black/80 max-w-xl\">\n                                            {product.description}\n                                        </p>\n                                    </div>\n\n                                    <div className={`flex flex-col gap-3 pt-6 ${index % 2 === 1 ? 'items-end' : ''}`}>\n                                        {product.benefits.map((benefit, idx) => (\n                                            <div key={idx} className=\"flex items-center gap-3 text-sm font-medium opacity-80 text-black\">\n                                                {index % 2 === 0 && <span className={`w-1.5 h-1.5 ${bgAccent} rounded-full`}></span>}\n                                                {benefit}\n                                                {index % 2 === 1 && <span className={`w-1.5 h-1.5 ${bgAccent} rounded-full`}></span>}\n                                            </div>\n                                        ))}\n                                    </div>\n\n                                    <div className={`flex flex-col sm:flex-row gap-6 pt-8 items-center ${index % 2 === 1 ? 'sm:justify-end' : ''}`}>\n                                        <div className={index % 2 === 1 ? 'text-right' : 'text-left'}>\n                                            <p className=\"text-xs uppercase tracking-widest opacity-50 mb-1\">Prix Unitaire</p>\n                                            <p className=\"text-3xl font-bold font-mono text-black\">{formatCurrency(product.price)}</p>\n                                        </div>\n                                        <AddToCartButton product={product} className=\"w-full sm:w-auto h-14 px-12 bg-black text-white hover:bg-black/90 rounded-full text-base tracking-wide shadow-none\" />\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}