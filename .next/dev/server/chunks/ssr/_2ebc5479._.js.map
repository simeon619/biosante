{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/exp_cie.json"],"sourcesContent":["[{\"id\":\"utb\",\"name\":\"UTB (Union des Transports de Bouak√©)\",\"hub_principal\":\"Abidjan (Adjam√©, Koumassi, Yopougon)\",\"type\":\"National\",\"regions_desservies\":[\"Centre\",\"Nord\",\"Ouest\",\"Est\",\"Sud-Ouest\"],\"contact_colis\":\"0707000000\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouak√©\",\"Daloa\",\"Gagnoa\",\"San Pedro\",\"Man\",\"Korhogo\",\"Odienn√©\",\"Bondoukou\",\"Abengourou\",\"Soubr√©\",\"Bouafl√©\",\"Divo\",\"Toumodi\",\"Sinfra\",\"Issia\",\"Du√©kou√©\",\"Agnibil√©krou\",\"Tanda\",\"Bocanda\",\"Daoukro\"]},{\"id\":\"tsr\",\"name\":\"TSR (Transport Sans Rayon)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"National\",\"regions_desservies\":[\"Nord\",\"Ouest\",\"Est\",\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouak√©\",\"Korhogo\",\"Ferkess√©dougou\",\"Boundiali\",\"Tengr√©la\",\"Man\",\"Danan√©\",\"Du√©kou√©\",\"Guiglo\",\"Daloa\",\"Issia\",\"Vavoua\",\"S√©gu√©la\",\"Mankono\",\"Bondoukou\",\"Bouna\",\"Daoukro\"]},{\"id\":\"sbta\",\"name\":\"SBTA\",\"hub_principal\":\"Abidjan (Adjam√©, Yopougon, Koumassi)\",\"type\":\"Grand R√©gional\",\"regions_desservies\":[\"Sud-Ouest\",\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0576207777\",\"destinations\":[\"Abidjan\",\"Divo\",\"Lakota\",\"Gagnoa\",\"Soubr√©\",\"M√©agui\",\"San Pedro\",\"Sassandra\",\"Grand-B√©r√©by\",\"Oum√©\",\"Diegonefla\",\"Abengourou\",\"Bondoukou\"]},{\"id\":\"ot_ci\",\"name\":\"OT-CI (Omnis Transport)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"R√©gional & International\",\"regions_desservies\":[\"Ouest\",\"International\"],\"contact_colis\":\"0708611770\",\"destinations\":[\"Abidjan\",\"Man\",\"Danan√©\",\"Zouan-Hounien\",\"Du√©kou√©\",\"Toulepleu\"]},{\"id\":\"etv\",\"name\":\"ETV (Entente Transport Voyageurs)\",\"hub_principal\":\"Abidjan (Adjam√©, Abobo)\",\"type\":\"Sp√©cialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0777657448\",\"destinations\":[\"Abidjan\",\"Bouak√©\",\"Niakara\",\"Tafir√©\",\"Korhogo\",\"Ferkess√©dougou\",\"Ouangolodougou\",\"Pogo\",\"Diawala\",\"Niell√©\"]},{\"id\":\"ocean_ci\",\"name\":\"Oc√©an C√¥te d'Ivoire\",\"hub_principal\":\"Abidjan (Treichville, Adjam√©)\",\"type\":\"Sp√©cialiste Est\",\"regions_desservies\":[\"Est\",\"Sud-Est\"],\"contact_colis\":\"0799242366\",\"destinations\":[\"Abidjan\",\"Aboisso\",\"Adzop√©\",\"Akoup√©\",\"Abengourou\",\"Agnibil√©krou\",\"Bondoukou\",\"Koun-Fao\",\"Tanda\"]},{\"id\":\"jet_express\",\"name\":\"JET Express\",\"hub_principal\":\"Abidjan (Adjam√©, Koumassi)\",\"type\":\"Sp√©cialiste Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"0700146565\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Tabou\",\"Grand-B√©r√©by\",\"Gabiadiji\"]},{\"id\":\"stb\",\"name\":\"STB (Soci√©t√© de Transport Bakayoko)\",\"hub_principal\":\"Abidjan (Abobo, Adjam√©)\",\"type\":\"Sp√©cialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0504145580\",\"destinations\":[\"Abidjan\",\"Korhogo\"]},{\"id\":\"mt\",\"name\":\"MT (Massa Transport)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"R√©gional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Du√©kou√©\",\"Man\",\"Danan√©\",\"Bangolo\"]},{\"id\":\"avs\",\"name\":\"AVS (Aek Voyageurs)\",\"hub_principal\":\"Abidjan (Deux-Plateaux, Adjam√©)\",\"type\":\"Premium Centre\",\"regions_desservies\":[\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Toumodi\",\"Yamoussoukro\",\"Bouak√©\"]},{\"id\":\"gti\",\"name\":\"GTI Transport\",\"hub_principal\":\"Gagnoa / Abidjan\",\"type\":\"R√©gional\",\"regions_desservies\":[\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0545206204\",\"destinations\":[\"Abidjan\",\"Gagnoa\",\"Abengourou\",\"Oum√©\"]},{\"id\":\"cte\",\"name\":\"CTE\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bouak√©\",\"Katiola\",\"Korhogo\",\"Ferkess√©dougou\"]},{\"id\":\"bad\",\"name\":\"Badjan Transport\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"Historique Est\",\"regions_desservies\":[\"Est\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bondoukou\",\"Bouna\",\"Tanda\"]},{\"id\":\"sido\",\"name\":\"SIDO Transport\",\"hub_principal\":\"Abidjan (Abobo)\",\"type\":\"R√©gional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Boundiali\",\"Korhogo\",\"Tengr√©la\"]},{\"id\":\"waridi\",\"name\":\"Waridi Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"S√©gu√©la\",\"Kani\",\"Dianra\",\"Mankono\"]},{\"id\":\"adja\",\"name\":\"Adja Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Odienn√©\",\"Touba\",\"Madinani\"]},{\"id\":\"st\",\"name\":\"ST (Sama Transport)\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Man\",\"Issia\"]},{\"id\":\"ck\",\"name\":\"CK (Carrefour Kl√©ber)\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Sassandra\",\"Tabou\"]}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 3, "column": 4669}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/data/shippingCompanies.ts"],"sourcesContent":["import shippingCompaniesData from '../exp_cie.json';\n\nexport interface ShippingCompany {\n    id: string;\n    name: string;\n    hub_principal: string;\n    type: string;\n    regions_desservies: string[];\n    contact_colis: string;\n    destinations: string[];\n}\n\n// Typed data\nexport const shippingCompanies: ShippingCompany[] = shippingCompaniesData as ShippingCompany[];\n\n// Find companies that serve a specific city\nexport function findCompaniesByCity(city: string): ShippingCompany[] {\n    const normalizedCity = city.toLowerCase().trim();\n    return shippingCompanies.filter(company =>\n        company.destinations.some(dest => dest.toLowerCase().includes(normalizedCity))\n    );\n}\n\n// Get all unique destinations (cities) from all companies\nexport function getAllDestinations(): string[] {\n    const allDestinations = new Set<string>();\n    shippingCompanies.forEach(company => {\n        company.destinations.forEach(dest => {\n            // Exclude \"Abidjan\" since it's the local zone\n            if (dest.toLowerCase() !== 'abidjan') {\n                allDestinations.add(dest);\n            }\n        });\n    });\n    return Array.from(allDestinations).sort();\n}\n\n// Abidjan area communes for local delivery\nexport const ABIDJAN_AREA = [\n    'Abidjan',\n    'Plateau',\n    'Cocody',\n    'Marcory',\n    'Treichville',\n    'Yopougon',\n    'Abobo',\n    'Adjam√©',\n    'Koumassi',\n    'Port-Bou√´t',\n    'Anyama',\n    'Bingerville',\n    'Grand-Bassam',\n    'Songon',\n    'Brofodoum√©',\n    'Dabou',\n    'Assinie'\n];\n\n// Check if a location is in the Abidjan area\nexport function isInAbidjanArea(location: string): boolean {\n    const normalizedLocation = location.toLowerCase().trim();\n    return ABIDJAN_AREA.some(area => normalizedLocation.includes(area.toLowerCase()));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAaO,MAAM,oBAAuC,0FAAqB;AAGlE,SAAS,oBAAoB,IAAY;IAC5C,MAAM,iBAAiB,KAAK,WAAW,GAAG,IAAI;IAC9C,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAC5B,QAAQ,YAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC;AAEtE;AAGO,SAAS;IACZ,MAAM,kBAAkB,IAAI;IAC5B,kBAAkB,OAAO,CAAC,CAAA;QACtB,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAA;YACzB,8CAA8C;YAC9C,IAAI,KAAK,WAAW,OAAO,WAAW;gBAClC,gBAAgB,GAAG,CAAC;YACxB;QACJ;IACJ;IACA,OAAO,MAAM,IAAI,CAAC,iBAAiB,IAAI;AAC3C;AAGO,MAAM,eAAe;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAGM,SAAS,gBAAgB,QAAgB;IAC5C,MAAM,qBAAqB,SAAS,WAAW,GAAG,IAAI;IACtD,OAAO,aAAa,IAAI,CAAC,CAAA,OAAQ,mBAAmB,QAAQ,CAAC,KAAK,WAAW;AACjF"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/app/%28store%29/account/page.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { api } from '@/services/api';\nimport {\n    Package,\n    Truck,\n    CheckCircle2,\n    Clock,\n    LogOut,\n    User as UserIcon,\n    Phone,\n    Mail,\n    ChevronRight,\n    Search,\n    AlertCircle,\n    ShoppingBag,\n    MapPin,\n    Plus,\n    Trash2,\n    Home,\n    Edit2,\n    Loader2,\n    Crosshair,\n    Info,\n    CheckCircle,\n    UserCircle,\n    Map,\n    Building2,\n    Check,\n    Smartphone\n} from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { cn, formatCurrency } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { useUI } from '@/context/UIContext';\nimport { ShippingCompany, findCompaniesByCity, getAllDestinations, isInAbidjanArea } from '@/data/shippingCompanies';\nimport Script from 'next/script';\n\nexport default function AccountPage() {\n    const { user, addresses, logout, loading: authLoading, refreshAddresses, updateProfile } = useAuth();\n    const [orders, setOrders] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [currentPage, setCurrentPage] = useState(1);\n    const ORDERS_PER_PAGE = 3;\n    const [showAddAddress, setShowAddAddress] = useState(false);\n    const [editingAddressId, setEditingAddressId] = useState<string | null>(null);\n    const [newAddress, setNewAddress] = useState({ label: '', address_full: '', lat: 0, lon: 0 });\n\n    // Profile Edit State\n    const [isEditingProfile, setIsEditingProfile] = useState(false);\n    const [profileData, setProfileData] = useState({ name: '', phone: '', email: '' });\n    const [isUpdatingProfile, setIsUpdatingProfile] = useState(false);\n\n    // OTP Phone Change State\n    const [otpStep, setOtpStep] = useState<'idle' | 'requesting' | 'verifying' | 'success'>('idle');\n    const [otpCode, setOtpCode] = useState('');\n    const [otpError, setOtpError] = useState('');\n    const [otpTimer, setOtpTimer] = useState(0);\n    const [pendingNewPhone, setPendingNewPhone] = useState('');\n\n    // Address Search State (Nominatim)\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [isSearching, setIsSearching] = useState(false);\n\n    // Shipping State\n    const [deliveryMode, setDeliveryMode] = useState<'local' | 'shipping'>('local');\n    const [selectedCity, setSelectedCity] = useState<string>('');\n    const [citySearchQuery, setCitySearchQuery] = useState<string>('');\n    const [availableCompanies, setAvailableCompanies] = useState<ShippingCompany[]>([]);\n    const [selectedCompany, setSelectedCompany] = useState<ShippingCompany | null>(null);\n    const [showCitySuggestions, setShowCitySuggestions] = useState(false);\n    const [manualCompany, setManualCompany] = useState('');\n\n    // Map Refs\n    const mapRef = useRef<any>(null);\n    const markerRef = useRef<any>(null);\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const addressInputRef = useRef<HTMLInputElement>(null);\n\n    const router = useRouter();\n\n    useEffect(() => {\n        if (!authLoading && !user) {\n            router.push('/login?redirect=/account');\n        }\n\n        if (user) {\n            api.getOrders(user.id)\n                .then(res => setOrders(res.orders))\n                .catch(err => console.error('Error fetching orders:', err))\n                .finally(() => setLoading(false));\n\n            setProfileData({\n                name: user.name || '',\n                phone: user.phone || '',\n                email: user.email || ''\n            });\n        }\n    }, [user, authLoading, router]);\n\n    const handleUpdateProfile = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Check if phone number is being changed\n        if (profileData.phone !== user?.phone) {\n            // Need OTP verification for phone change\n            setPendingNewPhone(profileData.phone);\n            setOtpStep('requesting');\n            setOtpError('');\n\n            try {\n                const result = await api.requestPhoneChangeOtp(user?.id || '', profileData.phone);\n                if (result.success) {\n                    setOtpStep('verifying');\n                    setOtpTimer(result.expiresIn || 300);\n                } else {\n                    setOtpError(result.message);\n                    setOtpStep('idle');\n                }\n            } catch (err: any) {\n                setOtpError(err.response?.data?.message || 'Erreur lors de l\\'envoi du code');\n                setOtpStep('idle');\n            }\n            return;\n        }\n\n        // No phone change - update normally\n        setIsUpdatingProfile(true);\n        try {\n            await updateProfile({ name: profileData.name, email: profileData.email });\n            setIsEditingProfile(false);\n        } catch (err: any) {\n            console.error('Error updating profile:', err);\n            alert(err.response?.data?.message || 'Erreur lors de la mise √† jour');\n        } finally {\n            setIsUpdatingProfile(false);\n        }\n    };\n\n    const handleVerifyPhoneOtp = async () => {\n        if (!otpCode || otpCode.length !== 4) {\n            setOtpError('Veuillez entrer un code √† 4 chiffres');\n            return;\n        }\n\n        setOtpStep('requesting');\n        try {\n            const result = await api.verifyPhoneChangeOtp(user?.id || '', otpCode, pendingNewPhone);\n            if (result.success) {\n                setOtpStep('success');\n                // Update local profile data\n                setProfileData(prev => ({ ...prev, phone: pendingNewPhone }));\n                // Also update name/email if changed\n                await updateProfile({ name: profileData.name, email: profileData.email });\n\n                setTimeout(() => {\n                    setOtpStep('idle');\n                    setOtpCode('');\n                    setPendingNewPhone('');\n                    setIsEditingProfile(false);\n                    // Refresh user data\n                    window.location.reload();\n                }, 1500);\n            } else {\n                setOtpError(result.message);\n                setOtpStep('verifying');\n            }\n        } catch (err: any) {\n            setOtpError(err.response?.data?.message || 'Code invalide');\n            setOtpStep('verifying');\n        }\n    };\n\n    const handleCancelOtp = () => {\n        setOtpStep('idle');\n        setOtpCode('');\n        setOtpError('');\n        setPendingNewPhone('');\n        setProfileData(prev => ({ ...prev, phone: user?.phone || '' }));\n    };\n\n    // Address Search Logic\n    const handleAddressChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        setNewAddress(prev => ({ ...prev, address_full: value }));\n\n        if (value.length < 3) {\n            setSuggestions([]);\n            return;\n        }\n\n        setIsSearching(true);\n        try {\n            const response = await fetch(\n                `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(value)}&countrycodes=ci&limit=5`\n            );\n            const data = await response.json();\n            setSuggestions(data);\n            setShowSuggestions(true);\n        } catch (err) {\n            console.error(\"Geocoding error:\", err);\n        } finally {\n            setIsSearching(false);\n        }\n    };\n\n    const handleSuggestionClick = (place: any) => {\n        const lat = parseFloat(place.lat);\n        const lon = parseFloat(place.lon);\n        const addressIsInAbidjan = isInAbidjanArea(place.display_name);\n\n        if (deliveryMode === 'local' && !addressIsInAbidjan) {\n            alert('Cette zone n\\'est pas couverte par la livraison locale. Veuillez choisir \"Villes de l\\'Int√©rieur\" pour les destinations hors Abidjan.');\n            return;\n        }\n        if (deliveryMode === 'shipping' && addressIsInAbidjan) {\n            alert('Vous avez s√©lectionn√© une adresse √† Abidjan alors que vous √™tes en mode \"Villes de l\\'Int√©rieur\".');\n            return;\n        }\n\n        setNewAddress(prev => ({\n            ...prev,\n            address_full: place.display_name,\n            lat,\n            lon\n        }));\n        setShowSuggestions(false);\n\n        if (mapRef.current) {\n            mapRef.current.setView([lat, lon], 16);\n            if (markerRef.current) {\n                markerRef.current.setLatLng([lat, lon]);\n            }\n        }\n    };\n\n    const handleCitySelect = async (city: string) => {\n        setSelectedCity(city);\n        setCitySearchQuery(city);\n        setShowCitySuggestions(false);\n        const companies = findCompaniesByCity(city);\n        setAvailableCompanies(companies);\n        setSelectedCompany(companies.length > 0 ? companies[0] : null);\n\n        // Geocode city to center map\n        try {\n            const res = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(city + ', C√¥te d\\'Ivoire')}&limit=1`);\n            const data = await res.json();\n            if (data && data[0]) {\n                const lat = parseFloat(data[0].lat);\n                const lon = parseFloat(data[0].lon);\n                setNewAddress(prev => ({ ...prev, lat, lon }));\n                if (mapRef.current) {\n                    mapRef.current.setView([lat, lon], 12);\n                    if (markerRef.current) {\n                        markerRef.current.setLatLng([lat, lon]);\n                    }\n                }\n            }\n        } catch (e) { }\n    };\n\n    const highlightText = (text: string, term: string) => {\n        if (!term) return text;\n        const parts = text.split(new RegExp(`(${term})`, 'gi'));\n        return (\n            <span>\n                {parts.map((part, i) => (\n                    <span key={i} className={part.toLowerCase() === term.toLowerCase() ? 'bg-amber-100 text-amber-900 font-bold' : ''}>\n                        {part}\n                    </span>\n                ))}\n            </span>\n        );\n    };\n\n    const handleGeolocation = () => {\n        if (!navigator.geolocation) {\n            alert(\"La g√©olocalisation n'est pas support√©e par votre navigateur.\");\n            return;\n        }\n\n        navigator.geolocation.getCurrentPosition(async (position) => {\n            const { latitude, longitude } = position.coords;\n            try {\n                const response = await fetch(\n                    `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`\n                );\n                const data = await response.json();\n                const addressIsInAbidjan = isInAbidjanArea(data.display_name);\n\n                if (deliveryMode === 'local' && !addressIsInAbidjan) {\n                    alert('Votre position actuelle n\\'est pas couverte par la livraison locale. Veuillez choisir \"Villes de l\\'Int√©rieur\" pour les destinations hors Abidjan.');\n                    return;\n                }\n                if (deliveryMode === 'shipping' && addressIsInAbidjan) {\n                    alert('Votre position actuelle est √† Abidjan alors que vous √™tes en mode \"Villes de l\\'Int√©rieur\".');\n                    return;\n                }\n\n                setNewAddress(prev => ({\n                    ...prev,\n                    address_full: data.display_name || \"Ma position\",\n                    lat: latitude,\n                    lon: longitude\n                }));\n                if (mapRef.current) {\n                    mapRef.current.setView([latitude, longitude], 16);\n                    if (markerRef.current) {\n                        markerRef.current.setLatLng([latitude, longitude]);\n                    }\n                }\n            } catch (err) {\n                console.error(\"Geocoding current position failed:\", err);\n            }\n        }, (error) => {\n            console.error(\"Geolocation error:\", error);\n            alert(\"Impossible de r√©cup√©rer votre position.\");\n        });\n    };\n\n    useEffect(() => {\n        if (!mapContainerRef.current) return;\n\n        const L = (window as any).L;\n        if (!L) return;\n\n        const initialLat = newAddress.lat || 5.3484;\n        const initialLon = newAddress.lon || -4.0305;\n\n        const timer = setTimeout(() => {\n            try {\n                if (mapRef.current) {\n                    mapRef.current.remove();\n                }\n\n                mapRef.current = L.map(mapContainerRef.current, {\n                    minZoom: 7,\n                    maxZoom: 18\n                }).setView([initialLat, initialLon], 13);\n                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapRef.current);\n\n                markerRef.current = L.marker([initialLat, initialLon], { draggable: true }).addTo(mapRef.current);\n\n                markerRef.current.on('dragend', async () => {\n                    const pos = markerRef.current.getLatLng();\n                    setNewAddress(prev => ({ ...prev, lat: pos.lat, lon: pos.lng }));\n\n                    try {\n                        const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${pos.lat}&lon=${pos.lng}`);\n                        const data = await res.json();\n                        setNewAddress(prev => ({ ...prev, address_full: data.display_name }));\n                    } catch (e) { }\n                });\n            } catch (err) { }\n        }, 300);\n\n        return () => clearTimeout(timer);\n    }, [showAddAddress, newAddress.lat, newAddress.lon, deliveryMode]); // Re-initialize map if deliveryMode changes\n\n    const handleAddAddress = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!user) return;\n\n        let finalAddress = newAddress.address_full;\n        let finalLat = newAddress.lat;\n        let finalLon = newAddress.lon;\n\n        if (deliveryMode === 'shipping') {\n            if (!selectedCity) {\n                alert(\"Veuillez s√©lectionner une ville\");\n                return;\n            }\n            const companyName = manualCompany || selectedCompany?.name;\n            if (!companyName) {\n                alert(\"Veuillez s√©lectionner une compagnie de transport\");\n                return;\n            }\n            finalAddress = `${selectedCity} (Via ${companyName})`;\n            finalLat = 0;\n            finalLon = 0;\n        } else { // local delivery\n            if (!finalAddress || finalLat === 0 || finalLon === 0) {\n                alert(\"Veuillez sp√©cifier une adresse valide sur la carte pour Abidjan.\");\n                return;\n            }\n            if (!isInAbidjanArea(finalAddress)) {\n                alert('L\\'adresse s√©lectionn√©e n\\'est pas dans la zone de livraison locale d\\'Abidjan. Veuillez la corriger ou passer en mode \"Villes de l\\'Int√©rieur\".');\n                return;\n            }\n        }\n\n        try {\n            const addressData = {\n                ...newAddress,\n                address_full: finalAddress,\n                lat: finalLat,\n                lon: finalLon,\n            };\n\n            if (editingAddressId) {\n                await api.updateAddress(user.id, editingAddressId, addressData);\n            } else {\n                await api.addAddress(user.id, {\n                    ...addressData,\n                    is_default: addresses.length === 0\n                });\n            }\n            setNewAddress({ label: '', address_full: '', lat: 0, lon: 0 });\n            setDeliveryMode('local');\n            setSelectedCity('');\n            setCitySearchQuery('');\n            setManualCompany('');\n            setShowAddAddress(false);\n            setEditingAddressId(null);\n            await refreshAddresses();\n        } catch (err) {\n            console.error('Error saving address:', err);\n        }\n    };\n\n    const startEdit = (addr: any) => {\n        setNewAddress({\n            label: addr.label,\n            address_full: addr.address_full,\n            lat: addr.lat,\n            lon: addr.lon\n        });\n        setEditingAddressId(addr.id);\n        // Determine delivery mode based on address\n        if (addr.lat === 0 && addr.lon === 0 && addr.address_full.includes('(Via')) {\n            setDeliveryMode('shipping');\n            const cityMatch = addr.address_full.match(/(.*) \\(Via/);\n            if (cityMatch && cityMatch[1]) {\n                setSelectedCity(cityMatch[1].trim());\n                setCitySearchQuery(cityMatch[1].trim());\n                const companyMatch = addr.address_full.match(/Via (.*)\\)/);\n                if (companyMatch && companyMatch[1]) {\n                    const companyName = companyMatch[1].trim();\n                    const companies = findCompaniesByCity(cityMatch[1].trim());\n                    const foundCompany = companies.find(c => c.name === companyName);\n                    if (foundCompany) {\n                        setSelectedCompany(foundCompany);\n                        setManualCompany('');\n                    } else {\n                        setSelectedCompany(null);\n                        setManualCompany(companyName);\n                    }\n                }\n            }\n        } else {\n            setDeliveryMode('local');\n        }\n        setShowAddAddress(true);\n    };\n\n    const handleDeleteAddress = async (id: string) => {\n        if (!user) return;\n        try {\n            await api.deleteAddress(user.id, id);\n            await refreshAddresses();\n        } catch (err) {\n            console.error('Error deleting address:', err);\n        }\n    };\n\n    const handleSetDefault = async (id: string) => {\n        if (!user) return;\n        try {\n            await api.setDefaultAddress(user.id, id);\n            await refreshAddresses();\n        } catch (err) {\n            console.error('Error setting default address:', err);\n        }\n    };\n\n    const handleLogout = () => {\n        logout();\n        router.push('/');\n    };\n\n    if (authLoading || (loading && !orders.length)) {\n        return (\n            <div className=\"min-h-screen bg-white flex items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <Loader2 className=\"w-8 h-8 text-slate-900 animate-spin\" />\n                    <p className=\"text-slate-400 font-bold uppercase tracking-[0.2em] text-[10px]\">Chargement de votre compte...</p>\n                </div>\n            </div>\n        );\n    }\n\n    const getStatusInfo = (status: string) => {\n        switch (status.toLowerCase()) {\n            case 'pending':\n                return { label: 'En attente', color: 'text-amber-700 bg-amber-50', icon: Clock };\n            case 'paid':\n                return { label: 'Pay√©', color: 'text-emerald-700 bg-emerald-50', icon: CheckCircle2 };\n            case 'confirmed':\n                return { label: 'Confirm√©e', color: 'text-blue-700 bg-blue-50', icon: CheckCircle2 };\n            case 'processing':\n                return { label: 'En pr√©paration', color: 'text-indigo-700 bg-indigo-50', icon: Package };\n            case 'shipped':\n                return { label: 'Exp√©di√©e', color: 'text-purple-700 bg-purple-50', icon: Truck };\n            case 'delivered':\n                return { label: 'Livr√©e', color: 'text-slate-700 bg-slate-50', icon: Truck };\n            case 'completed':\n                return { label: 'Termin√©e', color: 'text-green-700 bg-green-50', icon: CheckCircle2 };\n            case 'cancelled':\n                return { label: 'Annul√©e', color: 'text-rose-700 bg-rose-50', icon: AlertCircle };\n            default:\n                return { label: 'En attente', color: 'text-amber-700 bg-amber-50', icon: Clock };\n        }\n    };\n\n\n    return (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-12 items-start\">\n                <Script\n                    src=\"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js\"\n                    onLoad={() => {\n                        // Trigger a state change or similar if needed to re-init map\n                        // But since we use useLayoutEffect or similar, it might be fine\n                    }}\n                />\n                <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css\" />\n\n                {/* Sidebar / Profile Info */}\n                <div className=\"lg:col-span-4 space-y-4\">\n                    {/* Profile Card */}\n                    <div className=\"bg-white rounded-xl p-5 border border-slate-100\">\n                        <div className=\"flex items-start justify-between mb-4\">\n                            <div className=\"flex items-center gap-3\">\n                                <div className=\"w-11 h-11 bg-slate-100 rounded-full flex items-center justify-center text-slate-500\">\n                                    <UserIcon className=\"w-5 h-5\" />\n                                </div>\n                                <div>\n                                    <h2 className=\"text-base font-semibold text-slate-900\">{user?.name}</h2>\n                                    <p className=\"text-xs text-slate-400\">{user?.phone}</p>\n                                </div>\n                            </div>\n                            {!isEditingProfile && (\n                                <button\n                                    onClick={() => setIsEditingProfile(true)}\n                                    className=\"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-all\"\n                                >\n                                    <Edit2 className=\"w-4 h-4\" />\n                                </button>\n                            )}\n                        </div>\n\n                        {isEditingProfile ? (\n                            <>\n                                {/* OTP Modal */}\n                                {(otpStep === 'verifying' || otpStep === 'requesting' || otpStep === 'success') && (\n                                    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n                                        <div className=\"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl\">\n                                            {otpStep === 'success' ? (\n                                                <div className=\"text-center py-4\">\n                                                    <div className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                                        <Check className=\"w-8 h-8 text-white\" />\n                                                    </div>\n                                                    <h3 className=\"text-lg font-bold text-slate-900\">Num√©ro mis √† jour !</h3>\n                                                    <p className=\"text-sm text-slate-500 mt-1\">Un SMS de confirmation a √©t√© envoy√© au nouveau num√©ro.</p>\n                                                </div>\n                                            ) : (\n                                                <>\n                                                    <div className=\"text-center mb-6\">\n                                                        <div className=\"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                                                            <Smartphone className=\"w-6 h-6 text-slate-600\" />\n                                                        </div>\n                                                        <h3 className=\"text-lg font-bold text-slate-900\">V√©rification du nouveau num√©ro</h3>\n                                                        <p className=\"text-sm text-slate-500 mt-1\">\n                                                            Un code a √©t√© envoy√© au<br />\n                                                            <span className=\"font-medium text-slate-700\">{pendingNewPhone}</span>\n                                                        </p>\n                                                    </div>\n\n                                                    <div className=\"mb-4\">\n                                                        <label className=\"text-xs font-medium text-slate-500 mb-2 block text-center\">Code √† 4 chiffres</label>\n                                                        <input\n                                                            type=\"text\"\n                                                            maxLength={4}\n                                                            value={otpCode}\n                                                            onChange={(e) => setOtpCode(e.target.value.replace(/\\D/g, ''))}\n                                                            className=\"w-full text-center text-2xl tracking-[0.5em] font-bold bg-slate-50 border border-slate-200 rounded-xl px-4 py-4 focus:outline-none focus:border-slate-400\"\n                                                            placeholder=\"‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢\"\n                                                            autoFocus\n                                                        />\n                                                    </div>\n\n                                                    {otpError && (\n                                                        <p className=\"text-center text-sm text-red-500 mb-4\">{otpError}</p>\n                                                    )}\n\n                                                    <div className=\"flex gap-2\">\n                                                        <button\n                                                            onClick={handleCancelOtp}\n                                                            className=\"flex-1 px-4 py-3 border border-slate-200 rounded-xl text-sm font-medium text-slate-500 hover:bg-slate-50\"\n                                                        >\n                                                            Annuler\n                                                        </button>\n                                                        <button\n                                                            onClick={handleVerifyPhoneOtp}\n                                                            disabled={otpStep === 'requesting' || otpCode.length !== 4}\n                                                            className=\"flex-1 bg-slate-900 text-white py-3 rounded-xl text-sm font-medium hover:bg-slate-800 disabled:opacity-50\"\n                                                        >\n                                                            {otpStep === 'requesting' ? <Loader2 className=\"w-4 h-4 animate-spin mx-auto\" /> : 'V√©rifier'}\n                                                        </button>\n                                                    </div>\n                                                </>\n                                            )}\n                                        </div>\n                                    </div>\n                                )}\n\n                                <form onSubmit={handleUpdateProfile} className=\"space-y-3\">\n                                    <div>\n                                        <label className=\"text-xs font-medium text-slate-500 mb-1 block\">Nom</label>\n                                        <input\n                                            type=\"text\"\n                                            value={profileData.name}\n                                            onChange={e => setProfileData({ ...profileData, name: e.target.value })}\n                                            className=\"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-slate-400 focus:outline-none transition-all\"\n                                            required\n                                        />\n                                    </div>\n                                    <div>\n                                        <label className=\"text-xs font-medium text-slate-500 mb-1 block\">\n                                            T√©l√©phone\n                                            {profileData.phone !== user?.phone && (\n                                                <span className=\"ml-2 text-amber-600 text-xs\">(üîê OTP requis)</span>\n                                            )}\n                                        </label>\n                                        <input\n                                            type=\"tel\"\n                                            value={profileData.phone}\n                                            onChange={e => setProfileData({ ...profileData, phone: e.target.value })}\n                                            className=\"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-slate-400 focus:outline-none transition-all\"\n                                            required\n                                        />\n                                    </div>\n                                    <div>\n                                        <label className=\"text-xs font-medium text-slate-500 mb-1 block\">Email</label>\n                                        <input\n                                            type=\"email\"\n                                            value={profileData.email}\n                                            onChange={e => setProfileData({ ...profileData, email: e.target.value })}\n                                            className=\"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-slate-400 focus:outline-none transition-all\"\n                                            placeholder=\"Optionnel\"\n                                        />\n                                    </div>\n                                    <div className=\"flex gap-2 pt-1\">\n                                        <button\n                                            type=\"submit\"\n                                            disabled={isUpdatingProfile || otpStep !== 'idle'}\n                                            className=\"flex-1 bg-slate-900 text-white font-medium py-2.5 rounded-lg text-sm hover:bg-slate-800 disabled:opacity-50 transition-all\"\n                                        >\n                                            {isUpdatingProfile || otpStep === 'requesting' ? <Loader2 className=\"w-4 h-4 animate-spin mx-auto\" /> : 'Enregistrer'}\n                                        </button>\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => setIsEditingProfile(false)}\n                                            className=\"px-4 py-2.5 border border-slate-200 rounded-lg text-sm font-medium text-slate-500 hover:bg-slate-50 transition-all\"\n                                        >\n                                            Annuler\n                                        </button>\n                                    </div>\n                                </form>\n                            </>\n                        ) : (\n                            <>\n                                {user?.email && (\n                                    <div className=\"flex items-center gap-2 text-xs text-slate-400 mt-2\">\n                                        <Mail className=\"w-3.5 h-3.5\" />\n                                        <span>{user.email}</span>\n                                    </div>\n                                )}\n                                <button\n                                    onClick={handleLogout}\n                                    className=\"mt-4 pt-4 border-t border-slate-100 flex items-center gap-2 text-rose-500 text-sm font-medium hover:text-rose-600 transition-colors w-full\"\n                                >\n                                    <LogOut className=\"w-4 h-4\" />\n                                    D√©connexion\n                                </button>\n                            </>\n                        )}\n                    </div>\n\n                    {/* Addresses Section */}\n                    <div className=\"bg-white rounded-xl p-5 border border-slate-100\">\n                        <div className=\"flex items-center justify-between mb-4\">\n                            <h3 className=\"text-base font-semibold text-slate-900\">Adresses de livraison</h3>\n                            <button\n                                onClick={() => {\n                                    setEditingAddressId(null);\n                                    setNewAddress({ label: '', address_full: '', lat: 5.3484, lon: -4.0305 });\n                                    setDeliveryMode('local');\n                                    setSelectedCity('');\n                                    setCitySearchQuery('');\n                                    setManualCompany('');\n                                    setShowAddAddress(!showAddAddress);\n                                }}\n                                className=\"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all\"\n                            >\n                                <Plus className=\"w-4 h-4\" />\n                            </button>\n                        </div>\n\n                        {showAddAddress && (\n                            <form onSubmit={handleAddAddress} className=\"mb-4 p-4 bg-slate-50 rounded-lg border border-slate-100 space-y-4\">\n                                <div>\n                                    <label className=\"text-xs font-medium text-slate-500 mb-1 block\">Libell√©</label>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Bureau, Domicile...\"\n                                        required\n                                        value={newAddress.label}\n                                        onChange={(e) => setNewAddress({ ...newAddress, label: e.target.value })}\n                                        className=\"w-full bg-white border border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-slate-400 focus:outline-none\"\n                                    />\n                                </div>\n\n                                {/* Delivery Mode Toggle */}\n                                <div className=\"grid grid-cols-2 gap-2 p-1 bg-white border-2 border-slate-100 rounded-2xl\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setDeliveryMode('local')}\n                                        className={cn(\n                                            \"flex items-center justify-center gap-2 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all\",\n                                            deliveryMode === 'local' ? \"bg-slate-900 text-white shadow-lg\" : \"text-slate-400 hover:bg-slate-50\"\n                                        )}\n                                    >\n                                        <MapPin className=\"w-3 h-3\" />\n                                        Abidjan & Environs\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setDeliveryMode('shipping')}\n                                        className={cn(\n                                            \"flex items-center justify-center gap-2 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all\",\n                                            deliveryMode === 'shipping' ? \"bg-slate-900 text-white shadow-lg\" : \"text-slate-400 hover:bg-slate-50\"\n                                        )}\n                                    >\n                                        <Building2 className=\"w-3 h-3\" />\n                                        Villes de l'Int√©rieur\n                                    </button>\n                                </div>\n\n                                {deliveryMode === 'local' ? (\n                                    <>\n                                        <div className=\"space-y-1 relative\">\n                                            <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Adresse Compl√®te (Abidjan)</label>\n                                            <div className=\"relative group\">\n                                                <input\n                                                    ref={addressInputRef}\n                                                    type=\"text\"\n                                                    placeholder=\"Saisissez votre quartier...\"\n                                                    required={deliveryMode === 'local'}\n                                                    value={newAddress.address_full}\n                                                    onChange={handleAddressChange}\n                                                    className=\"w-full bg-white border-2 border-slate-100 rounded-xl px-4 py-3 pl-10 text-sm focus:border-slate-900 outline-none font-bold pr-12\"\n                                                />\n                                                <MapPin className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300\" />\n\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={handleGeolocation}\n                                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-all\"\n                                                >\n                                                    <Crosshair className=\"w-4 h-4\" />\n                                                </button>\n\n                                                {showSuggestions && suggestions.length > 0 && (\n                                                    <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate-100 rounded-2xl shadow-2xl z-[60] overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                                                        {suggestions.map((place, idx) => (\n                                                            <button\n                                                                key={idx}\n                                                                type=\"button\"\n                                                                onClick={() => handleSuggestionClick(place)}\n                                                                className=\"w-full p-4 text-left hover:bg-slate-50 flex items-start gap-3 transition-colors border-b border-slate-50 last:border-0\"\n                                                            >\n                                                                <MapPin className=\"w-4 h-4 text-slate-200 mt-1 flex-shrink-0\" />\n                                                                <p className=\"text-xs text-slate-600 font-bold\">{place.display_name}</p>\n                                                            </button>\n                                                        ))}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </>\n                                ) : (\n                                    <div className=\"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                        <div className=\"space-y-1\">\n                                            <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Ville de destination</label>\n                                            <div className=\"relative group\">\n                                                <input\n                                                    type=\"text\"\n                                                    value={citySearchQuery}\n                                                    onChange={(e) => {\n                                                        setCitySearchQuery(e.target.value);\n                                                        setShowCitySuggestions(true);\n                                                        setSelectedCity('');\n                                                    }}\n                                                    onFocus={() => setShowCitySuggestions(true)}\n                                                    placeholder=\"Cherchez votre ville (ex: Bouak√©, Korhogo...)\"\n                                                    className=\"w-full bg-white border-2 border-slate-100 rounded-xl px-4 py-3 pl-10 text-sm focus:border-slate-900 outline-none font-bold\"\n                                                />\n                                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300\" />\n\n                                                {showCitySuggestions && (\n                                                    <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate-100 rounded-2xl shadow-2xl z-[60] max-h-60 overflow-y-auto overflow-x-hidden\">\n                                                        {getAllDestinations()\n                                                            .filter(city => city.toLowerCase().includes(citySearchQuery.toLowerCase()))\n                                                            .map((city, idx) => (\n                                                                <button\n                                                                    key={idx}\n                                                                    type=\"button\"\n                                                                    onClick={() => handleCitySelect(city)}\n                                                                    className=\"w-full p-4 text-left hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 font-bold text-xs text-slate-600\"\n                                                                >\n                                                                    {highlightText(city, citySearchQuery)}\n                                                                </button>\n                                                            ))}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n\n                                        {selectedCity && (\n                                            <div className=\"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                                <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Compagnie de transport</label>\n                                                <div className=\"grid grid-cols-1 gap-2\">\n                                                    {availableCompanies.map((company, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => {\n                                                                setSelectedCompany(company);\n                                                                setManualCompany('');\n                                                            }}\n                                                            className={cn(\n                                                                \"p-3 rounded-xl border-2 text-left transition-all\",\n                                                                selectedCompany?.name === company.name\n                                                                    ? \"border-slate-900 bg-slate-900 text-white shadow-lg\"\n                                                                    : \"border-slate-100 bg-white hover:border-slate-200 text-slate-900\"\n                                                            )}\n                                                        >\n                                                            <div className=\"font-bold text-xs\">{company.name}</div>\n                                                            <div className={cn(\"text-[8px] uppercase tracking-wider font-bold\", selectedCompany?.name === company.name ? \"text-white/60\" : \"text-slate-400\")}>{company.hub_principal}</div>\n                                                        </button>\n                                                    ))}\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() => {\n                                                            setSelectedCompany(null);\n                                                            setManualCompany('');\n                                                        }}\n                                                        className={cn(\n                                                            \"p-3 rounded-xl border-2 text-left transition-all\",\n                                                            !selectedCompany && !manualCompany\n                                                                ? \"border-slate-900 bg-slate-900 text-white\"\n                                                                : \"border-slate-100 bg-white hover:border-slate-200 text-slate-900\"\n                                                        )}\n                                                    >\n                                                        <div className=\"font-bold text-xs\">Autre compagnie</div>\n                                                    </button>\n                                                </div>\n\n                                                {(!selectedCompany || availableCompanies.length === 0) && (\n                                                    <input\n                                                        type=\"text\"\n                                                        value={manualCompany}\n                                                        onChange={(e) => setManualCompany(e.target.value)}\n                                                        placeholder=\"Nom de la compagnie...\"\n                                                        className=\"w-full bg-white border-2 border-slate-100 rounded-xl px-4 py-3 text-sm focus:border-slate-900 outline-none font-bold\"\n                                                    />\n                                                )}\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n\n                                <div className=\"relative rounded-2xl overflow-hidden border-2 border-slate-100 h-48 bg-slate-200\">\n                                    <div ref={mapContainerRef} className=\"h-full w-full\" />\n                                    <div className=\"absolute bottom-2 left-2 right-2 pointer-events-none\">\n                                        <div className=\"bg-white/90 backdrop-blur px-3 py-1.5 rounded-lg border border-slate-100 shadow-sm inline-flex items-center gap-2\">\n                                            <Map className=\"w-3 h-3 text-slate-400\" />\n                                            <span className=\"text-[9px] font-black text-slate-500 uppercase tracking-tight\">D√©placez le marqueur pour pr√©ciser</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"flex gap-2 pt-2\">\n                                    <button type=\"submit\" className=\"flex-1 bg-slate-900 text-white py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10\">\n                                        {editingAddressId ? 'Modifier' : 'Enregistrer'}\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => {\n                                            setShowAddAddress(false);\n                                            setEditingAddressId(null);\n                                            setNewAddress({ label: '', address_full: '', lat: 0, lon: 0 });\n                                            setDeliveryMode('local');\n                                            setSelectedCity('');\n                                            setManualCompany('');\n                                        }}\n                                        className=\"px-6 py-3 border-2 border-slate-100 rounded-xl text-xs font-black text-slate-400 uppercase tracking-widest hover:bg-slate-50 transition-all\"\n                                    >\n                                        Annuler\n                                    </button>\n                                </div>\n                            </form>\n                        )}\n\n                        <div className=\"space-y-4\">\n                            {addresses.length === 0 ? (\n                                <div className=\"text-center py-12 px-6 border-2 border-dashed border-slate-100 rounded-3xl\">\n                                    <Map className=\"w-12 h-12 text-slate-100 mx-auto mb-4\" />\n                                    <p className=\"text-xs font-bold text-slate-300 uppercase tracking-widest\">Aucune adresse enregistr√©e</p>\n                                </div>\n                            ) : (\n                                addresses.map((addr) => (\n                                    <div key={addr.id} className=\"group relative bg-slate-50 hover:bg-white p-5 rounded-[2rem] border-2 border-transparent hover:border-slate-100 transition-all duration-300\">\n                                        <div className=\"flex items-start justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className={cn(\n                                                    \"w-12 h-12 rounded-2xl flex items-center justify-center transition-all\",\n                                                    addr.is_default ? \"bg-slate-900 text-white shadow-lg shadow-slate-900/10\" : \"bg-white text-slate-400 border-2 border-slate-100\"\n                                                )}>\n                                                    <Home className=\"w-5 h-5\" />\n                                                </div>\n                                                <div className=\"min-w-0\">\n                                                    <p className=\"text-sm font-black text-slate-900\">{addr.label}</p>\n                                                    <p className=\"text-[10px] text-slate-400 font-bold truncate max-w-[150px] uppercase tracking-tighter\">{addr.address_full}</p>\n                                                </div>\n                                            </div>\n                                            <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all\">\n                                                <button\n                                                    onClick={() => startEdit(addr)}\n                                                    className=\"p-2 text-slate-400 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-all\"\n                                                >\n                                                    <Edit2 className=\"w-4 h-4\" />\n                                                </button>\n                                                <button\n                                                    onClick={() => handleDeleteAddress(addr.id)}\n                                                    className=\"p-2 text-rose-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all\"\n                                                >\n                                                    <Trash2 className=\"w-4 h-4\" />\n                                                </button>\n                                            </div>\n                                        </div>\n                                        {!addr.is_default && (\n                                            <button\n                                                onClick={() => handleSetDefault(addr.id)}\n                                                className=\"mt-4 text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] hover:text-slate-900 transition-colors\"\n                                            >\n                                                D√©finir par d√©faut\n                                            </button>\n                                        )}\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Order History */}\n                <div className=\"lg:col-span-8 space-y-6\">\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between\">\n                        <h2 className=\"text-lg sm:text-xl font-bold text-slate-900\">Mes Commandes</h2>\n                        <span className=\"text-xs font-medium text-slate-400\">{orders.length} commande{orders.length > 1 ? 's' : ''}</span>\n                    </div>\n\n                    {orders.length === 0 ? (\n                        <div className=\"bg-white rounded-xl p-8 sm:p-12 text-center border border-slate-100\">\n                            <ShoppingBag className=\"w-12 h-12 text-slate-200 mx-auto mb-4\" />\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-2\">Aucune commande</h3>\n                            <p className=\"text-slate-400 text-sm mb-6\">Vous n'avez pas encore pass√© de commande.</p>\n                            <Link href=\"/\" className=\"inline-block bg-slate-900 text-white px-6 py-3 rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors\">\n                                D√©couvrir nos produits\n                            </Link>\n                        </div>\n                    ) : (\n                        <>\n                            {/* Orders List */}\n                            <div className=\"space-y-4\">\n                                {orders\n                                    .slice((currentPage - 1) * ORDERS_PER_PAGE, currentPage * ORDERS_PER_PAGE)\n                                    .map((order) => {\n                                        const { label, color, icon: Icon } = getStatusInfo(order.status);\n                                        const items = typeof order.items === 'string' ? JSON.parse(order.items) : order.items;\n\n                                        return (\n                                            <Link\n                                                key={order.id}\n                                                href={`/payment/${order.id}`}\n                                                className=\"block bg-white rounded-xl p-4 sm:p-5 border border-slate-100 hover:border-slate-200 hover:shadow-md transition-all group\"\n                                            >\n                                                {/* Order Header */}\n                                                <div className=\"flex items-start justify-between mb-3\">\n                                                    <div>\n                                                        <div className=\"flex items-center gap-2 mb-1\">\n                                                            <span className=\"text-xs font-medium text-slate-500\">#{order.id.slice(0, 8).toUpperCase()}</span>\n                                                            <span className={cn(\"px-2 py-0.5 rounded text-[10px] font-semibold flex items-center gap-1\", color)}>\n                                                                <Icon className=\"w-3 h-3\" />\n                                                                {label}\n                                                            </span>\n                                                        </div>\n                                                        <p className=\"text-xs text-slate-400\">\n                                                            {format(new Date(order.created_at), \"d MMM yyyy, HH:mm\", { locale: fr })}\n                                                        </p>\n                                                    </div>\n                                                    <div className=\"text-right\">\n                                                        <p className=\"text-lg font-bold text-slate-900\">{formatCurrency(Number(order.total))}</p>\n                                                    </div>\n                                                </div>\n\n                                                {/* Products */}\n                                                <div className=\"bg-slate-50 rounded-lg p-3 mb-3\">\n                                                    <p className=\"text-[10px] font-semibold text-slate-400 uppercase mb-2\">Produits</p>\n                                                    <div className=\"space-y-1\">\n                                                        {items?.slice(0, 3).map((item: any, idx: number) => (\n                                                            <div key={idx} className=\"flex items-center justify-between text-sm\">\n                                                                <span className=\"text-slate-700 font-medium truncate flex-1\">{item.name}</span>\n                                                                <span className=\"text-slate-500 ml-2\">√ó{item.quantity}</span>\n                                                            </div>\n                                                        ))}\n                                                        {items?.length > 3 && (\n                                                            <p className=\"text-xs text-slate-400 mt-1\">+{items.length - 3} autre{items.length - 3 > 1 ? 's' : ''}</p>\n                                                        )}\n                                                    </div>\n                                                </div>\n\n                                                {/* Footer */}\n                                                <div className=\"flex items-center justify-between\">\n                                                    <div className=\"flex items-center gap-1 text-xs text-slate-400\">\n                                                        <MapPin className=\"w-3 h-3\" />\n                                                        <span className=\"truncate max-w-[180px]\">{order.address_full}</span>\n                                                    </div>\n                                                    <ChevronRight className=\"w-4 h-4 text-slate-300 group-hover:text-slate-600 group-hover:translate-x-0.5 transition-all\" />\n                                                </div>\n                                            </Link>\n                                        );\n                                    })}\n                            </div>\n\n                            {/* Pagination */}\n                            {orders.length > ORDERS_PER_PAGE && (\n                                <div className=\"flex items-center justify-center gap-2 pt-4\">\n                                    <button\n                                        onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                                        disabled={currentPage === 1}\n                                        className=\"px-4 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n                                    >\n                                        Pr√©c√©dent\n                                    </button>\n                                    <span className=\"px-3 py-2 text-sm font-medium text-slate-500\">\n                                        {currentPage} / {Math.ceil(orders.length / ORDERS_PER_PAGE)}\n                                    </span>\n                                    <button\n                                        onClick={() => setCurrentPage(p => Math.min(Math.ceil(orders.length / ORDERS_PER_PAGE), p + 1))}\n                                        disabled={currentPage >= Math.ceil(orders.length / ORDERS_PER_PAGE)}\n                                        className=\"px-4 py-2 text-sm font-medium text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-all\"\n                                    >\n                                        Suivant\n                                    </button>\n                                </div>\n                            )}\n                        </>\n                    )}\n                </div>\n\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AACA;AACA;AACA;AACA;AAEA;AACA;AAxCA;;;;;;;;;;;;;AA0Ce,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,WAAW,EAAE,gBAAgB,EAAE,aAAa,EAAE,GAAG,IAAA,kIAAO;IAClG,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,kBAAkB;IACxB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAgB;IACxE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;QAAE,OAAO;QAAI,cAAc;QAAI,KAAK;QAAG,KAAK;IAAE;IAE3F,qBAAqB;IACrB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;QAAE,MAAM;QAAI,OAAO;QAAI,OAAO;IAAG;IAChF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAE3D,yBAAyB;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAkD;IACxF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,mCAAmC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,iBAAiB;IACjB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAuB;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAS;IAC/D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAoB,EAAE;IAClF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAyB;IAC/E,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,iNAAQ,EAAC;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,WAAW;IACX,MAAM,SAAS,IAAA,+MAAM,EAAM;IAC3B,MAAM,YAAY,IAAA,+MAAM,EAAM;IAC9B,MAAM,kBAAkB,IAAA,+MAAM,EAAiB;IAC/C,MAAM,kBAAkB,IAAA,+MAAM,EAAmB;IAEjD,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,eAAe,CAAC,MAAM;YACvB,OAAO,IAAI,CAAC;QAChB;QAEA,IAAI,MAAM;YACN,sHAAG,CAAC,SAAS,CAAC,KAAK,EAAE,EAChB,IAAI,CAAC,CAAA,MAAO,UAAU,IAAI,MAAM,GAChC,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,0BAA0B,MACrD,OAAO,CAAC,IAAM,WAAW;YAE9B,eAAe;gBACX,MAAM,KAAK,IAAI,IAAI;gBACnB,OAAO,KAAK,KAAK,IAAI;gBACrB,OAAO,KAAK,KAAK,IAAI;YACzB;QACJ;IACJ,GAAG;QAAC;QAAM;QAAa;KAAO;IAE9B,MAAM,sBAAsB,OAAO;QAC/B,EAAE,cAAc;QAEhB,yCAAyC;QACzC,IAAI,YAAY,KAAK,KAAK,MAAM,OAAO;YACnC,yCAAyC;YACzC,mBAAmB,YAAY,KAAK;YACpC,WAAW;YACX,YAAY;YAEZ,IAAI;gBACA,MAAM,SAAS,MAAM,sHAAG,CAAC,qBAAqB,CAAC,MAAM,MAAM,IAAI,YAAY,KAAK;gBAChF,IAAI,OAAO,OAAO,EAAE;oBAChB,WAAW;oBACX,YAAY,OAAO,SAAS,IAAI;gBACpC,OAAO;oBACH,YAAY,OAAO,OAAO;oBAC1B,WAAW;gBACf;YACJ,EAAE,OAAO,KAAU;gBACf,YAAY,IAAI,QAAQ,EAAE,MAAM,WAAW;gBAC3C,WAAW;YACf;YACA;QACJ;QAEA,oCAAoC;QACpC,qBAAqB;QACrB,IAAI;YACA,MAAM,cAAc;gBAAE,MAAM,YAAY,IAAI;gBAAE,OAAO,YAAY,KAAK;YAAC;YACvE,oBAAoB;QACxB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM,IAAI,QAAQ,EAAE,MAAM,WAAW;QACzC,SAAU;YACN,qBAAqB;QACzB;IACJ;IAEA,MAAM,uBAAuB;QACzB,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;YAClC,YAAY;YACZ;QACJ;QAEA,WAAW;QACX,IAAI;YACA,MAAM,SAAS,MAAM,sHAAG,CAAC,oBAAoB,CAAC,MAAM,MAAM,IAAI,SAAS;YACvE,IAAI,OAAO,OAAO,EAAE;gBAChB,WAAW;gBACX,4BAA4B;gBAC5B,eAAe,CAAA,OAAQ,CAAC;wBAAE,GAAG,IAAI;wBAAE,OAAO;oBAAgB,CAAC;gBAC3D,oCAAoC;gBACpC,MAAM,cAAc;oBAAE,MAAM,YAAY,IAAI;oBAAE,OAAO,YAAY,KAAK;gBAAC;gBAEvE,WAAW;oBACP,WAAW;oBACX,WAAW;oBACX,mBAAmB;oBACnB,oBAAoB;oBACpB,oBAAoB;oBACpB,OAAO,QAAQ,CAAC,MAAM;gBAC1B,GAAG;YACP,OAAO;gBACH,YAAY,OAAO,OAAO;gBAC1B,WAAW;YACf;QACJ,EAAE,OAAO,KAAU;YACf,YAAY,IAAI,QAAQ,EAAE,MAAM,WAAW;YAC3C,WAAW;QACf;IACJ;IAEA,MAAM,kBAAkB;QACpB,WAAW;QACX,WAAW;QACX,YAAY;QACZ,mBAAmB;QACnB,eAAe,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,OAAO,MAAM,SAAS;YAAG,CAAC;IACjE;IAEA,uBAAuB;IACvB,MAAM,sBAAsB,OAAO;QAC/B,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,cAAc,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,cAAc;YAAM,CAAC;QAEvD,IAAI,MAAM,MAAM,GAAG,GAAG;YAClB,eAAe,EAAE;YACjB;QACJ;QAEA,eAAe;QACf,IAAI;YACA,MAAM,WAAW,MAAM,MACnB,CAAC,yDAAyD,EAAE,mBAAmB,OAAO,wBAAwB,CAAC;YAEnH,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,eAAe;YACf,mBAAmB;QACvB,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,oBAAoB;QACtC,SAAU;YACN,eAAe;QACnB;IACJ;IAEA,MAAM,wBAAwB,CAAC;QAC3B,MAAM,MAAM,WAAW,MAAM,GAAG;QAChC,MAAM,MAAM,WAAW,MAAM,GAAG;QAChC,MAAM,qBAAqB,IAAA,4IAAe,EAAC,MAAM,YAAY;QAE7D,IAAI,iBAAiB,WAAW,CAAC,oBAAoB;YACjD,MAAM;YACN;QACJ;QACA,IAAI,iBAAiB,cAAc,oBAAoB;YACnD,MAAM;YACN;QACJ;QAEA,cAAc,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,cAAc,MAAM,YAAY;gBAChC;gBACA;YACJ,CAAC;QACD,mBAAmB;QAEnB,IAAI,OAAO,OAAO,EAAE;YAChB,OAAO,OAAO,CAAC,OAAO,CAAC;gBAAC;gBAAK;aAAI,EAAE;YACnC,IAAI,UAAU,OAAO,EAAE;gBACnB,UAAU,OAAO,CAAC,SAAS,CAAC;oBAAC;oBAAK;iBAAI;YAC1C;QACJ;IACJ;IAEA,MAAM,mBAAmB,OAAO;QAC5B,gBAAgB;QAChB,mBAAmB;QACnB,uBAAuB;QACvB,MAAM,YAAY,IAAA,gJAAmB,EAAC;QACtC,sBAAsB;QACtB,mBAAmB,UAAU,MAAM,GAAG,IAAI,SAAS,CAAC,EAAE,GAAG;QAEzD,6BAA6B;QAC7B,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,CAAC,yDAAyD,EAAE,mBAAmB,OAAO,oBAAoB,QAAQ,CAAC;YAC3I,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,QAAQ,IAAI,CAAC,EAAE,EAAE;gBACjB,MAAM,MAAM,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;gBAClC,MAAM,MAAM,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;gBAClC,cAAc,CAAA,OAAQ,CAAC;wBAAE,GAAG,IAAI;wBAAE;wBAAK;oBAAI,CAAC;gBAC5C,IAAI,OAAO,OAAO,EAAE;oBAChB,OAAO,OAAO,CAAC,OAAO,CAAC;wBAAC;wBAAK;qBAAI,EAAE;oBACnC,IAAI,UAAU,OAAO,EAAE;wBACnB,UAAU,OAAO,CAAC,SAAS,CAAC;4BAAC;4BAAK;yBAAI;oBAC1C;gBACJ;YACJ;QACJ,EAAE,OAAO,GAAG,CAAE;IAClB;IAEA,MAAM,gBAAgB,CAAC,MAAc;QACjC,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,QAAQ,KAAK,KAAK,CAAC,IAAI,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE;QACjD,qBACI,8OAAC;sBACI,MAAM,GAAG,CAAC,CAAC,MAAM,kBACd,8OAAC;oBAAa,WAAW,KAAK,WAAW,OAAO,KAAK,WAAW,KAAK,0CAA0C;8BAC1G;mBADM;;;;;;;;;;IAM3B;IAEA,MAAM,oBAAoB;QACtB,IAAI,CAAC,UAAU,WAAW,EAAE;YACxB,MAAM;YACN;QACJ;QAEA,UAAU,WAAW,CAAC,kBAAkB,CAAC,OAAO;YAC5C,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,SAAS,MAAM;YAC/C,IAAI;gBACA,MAAM,WAAW,MAAM,MACnB,CAAC,4DAA4D,EAAE,SAAS,KAAK,EAAE,WAAW;gBAE9F,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,MAAM,qBAAqB,IAAA,4IAAe,EAAC,KAAK,YAAY;gBAE5D,IAAI,iBAAiB,WAAW,CAAC,oBAAoB;oBACjD,MAAM;oBACN;gBACJ;gBACA,IAAI,iBAAiB,cAAc,oBAAoB;oBACnD,MAAM;oBACN;gBACJ;gBAEA,cAAc,CAAA,OAAQ,CAAC;wBACnB,GAAG,IAAI;wBACP,cAAc,KAAK,YAAY,IAAI;wBACnC,KAAK;wBACL,KAAK;oBACT,CAAC;gBACD,IAAI,OAAO,OAAO,EAAE;oBAChB,OAAO,OAAO,CAAC,OAAO,CAAC;wBAAC;wBAAU;qBAAU,EAAE;oBAC9C,IAAI,UAAU,OAAO,EAAE;wBACnB,UAAU,OAAO,CAAC,SAAS,CAAC;4BAAC;4BAAU;yBAAU;oBACrD;gBACJ;YACJ,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,sCAAsC;YACxD;QACJ,GAAG,CAAC;YACA,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM;QACV;IACJ;IAEA,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAE9B,MAAM,IAAI,AAAC,OAAe,CAAC;QAC3B,IAAI,CAAC,GAAG;QAER,MAAM,aAAa,WAAW,GAAG,IAAI;QACrC,MAAM,aAAa,WAAW,GAAG,IAAI,CAAC;QAEtC,MAAM,QAAQ,WAAW;YACrB,IAAI;gBACA,IAAI,OAAO,OAAO,EAAE;oBAChB,OAAO,OAAO,CAAC,MAAM;gBACzB;gBAEA,OAAO,OAAO,GAAG,EAAE,GAAG,CAAC,gBAAgB,OAAO,EAAE;oBAC5C,SAAS;oBACT,SAAS;gBACb,GAAG,OAAO,CAAC;oBAAC;oBAAY;iBAAW,EAAE;gBACrC,EAAE,SAAS,CAAC,sDAAsD,KAAK,CAAC,OAAO,OAAO;gBAEtF,UAAU,OAAO,GAAG,EAAE,MAAM,CAAC;oBAAC;oBAAY;iBAAW,EAAE;oBAAE,WAAW;gBAAK,GAAG,KAAK,CAAC,OAAO,OAAO;gBAEhG,UAAU,OAAO,CAAC,EAAE,CAAC,WAAW;oBAC5B,MAAM,MAAM,UAAU,OAAO,CAAC,SAAS;oBACvC,cAAc,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,KAAK,IAAI,GAAG;4BAAE,KAAK,IAAI,GAAG;wBAAC,CAAC;oBAE9D,IAAI;wBACA,MAAM,MAAM,MAAM,MAAM,CAAC,4DAA4D,EAAE,IAAI,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,EAAE;wBAC/G,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,cAAc,CAAA,OAAQ,CAAC;gCAAE,GAAG,IAAI;gCAAE,cAAc,KAAK,YAAY;4BAAC,CAAC;oBACvE,EAAE,OAAO,GAAG,CAAE;gBAClB;YACJ,EAAE,OAAO,KAAK,CAAE;QACpB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;QAAgB,WAAW,GAAG;QAAE,WAAW,GAAG;QAAE;KAAa,GAAG,4CAA4C;IAEhH,MAAM,mBAAmB,OAAO;QAC5B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;QAEX,IAAI,eAAe,WAAW,YAAY;QAC1C,IAAI,WAAW,WAAW,GAAG;QAC7B,IAAI,WAAW,WAAW,GAAG;QAE7B,IAAI,iBAAiB,YAAY;YAC7B,IAAI,CAAC,cAAc;gBACf,MAAM;gBACN;YACJ;YACA,MAAM,cAAc,iBAAiB,iBAAiB;YACtD,IAAI,CAAC,aAAa;gBACd,MAAM;gBACN;YACJ;YACA,eAAe,GAAG,aAAa,MAAM,EAAE,YAAY,CAAC,CAAC;YACrD,WAAW;YACX,WAAW;QACf,OAAO;YACH,IAAI,CAAC,gBAAgB,aAAa,KAAK,aAAa,GAAG;gBACnD,MAAM;gBACN;YACJ;YACA,IAAI,CAAC,IAAA,4IAAe,EAAC,eAAe;gBAChC,MAAM;gBACN;YACJ;QACJ;QAEA,IAAI;YACA,MAAM,cAAc;gBAChB,GAAG,UAAU;gBACb,cAAc;gBACd,KAAK;gBACL,KAAK;YACT;YAEA,IAAI,kBAAkB;gBAClB,MAAM,sHAAG,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,kBAAkB;YACvD,OAAO;gBACH,MAAM,sHAAG,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE;oBAC1B,GAAG,WAAW;oBACd,YAAY,UAAU,MAAM,KAAK;gBACrC;YACJ;YACA,cAAc;gBAAE,OAAO;gBAAI,cAAc;gBAAI,KAAK;gBAAG,KAAK;YAAE;YAC5D,gBAAgB;YAChB,gBAAgB;YAChB,mBAAmB;YACnB,iBAAiB;YACjB,kBAAkB;YAClB,oBAAoB;YACpB,MAAM;QACV,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,yBAAyB;QAC3C;IACJ;IAEA,MAAM,YAAY,CAAC;QACf,cAAc;YACV,OAAO,KAAK,KAAK;YACjB,cAAc,KAAK,YAAY;YAC/B,KAAK,KAAK,GAAG;YACb,KAAK,KAAK,GAAG;QACjB;QACA,oBAAoB,KAAK,EAAE;QAC3B,2CAA2C;QAC3C,IAAI,KAAK,GAAG,KAAK,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,YAAY,CAAC,QAAQ,CAAC,SAAS;YACxE,gBAAgB;YAChB,MAAM,YAAY,KAAK,YAAY,CAAC,KAAK,CAAC;YAC1C,IAAI,aAAa,SAAS,CAAC,EAAE,EAAE;gBAC3B,gBAAgB,SAAS,CAAC,EAAE,CAAC,IAAI;gBACjC,mBAAmB,SAAS,CAAC,EAAE,CAAC,IAAI;gBACpC,MAAM,eAAe,KAAK,YAAY,CAAC,KAAK,CAAC;gBAC7C,IAAI,gBAAgB,YAAY,CAAC,EAAE,EAAE;oBACjC,MAAM,cAAc,YAAY,CAAC,EAAE,CAAC,IAAI;oBACxC,MAAM,YAAY,IAAA,gJAAmB,EAAC,SAAS,CAAC,EAAE,CAAC,IAAI;oBACvD,MAAM,eAAe,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;oBACpD,IAAI,cAAc;wBACd,mBAAmB;wBACnB,iBAAiB;oBACrB,OAAO;wBACH,mBAAmB;wBACnB,iBAAiB;oBACrB;gBACJ;YACJ;QACJ,OAAO;YACH,gBAAgB;QACpB;QACA,kBAAkB;IACtB;IAEA,MAAM,sBAAsB,OAAO;QAC/B,IAAI,CAAC,MAAM;QACX,IAAI;YACA,MAAM,sHAAG,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE;YACjC,MAAM;QACV,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,2BAA2B;QAC7C;IACJ;IAEA,MAAM,mBAAmB,OAAO;QAC5B,IAAI,CAAC,MAAM;QACX,IAAI;YACA,MAAM,sHAAG,CAAC,iBAAiB,CAAC,KAAK,EAAE,EAAE;YACrC,MAAM;QACV,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,kCAAkC;QACpD;IACJ;IAEA,MAAM,eAAe;QACjB;QACA,OAAO,IAAI,CAAC;IAChB;IAEA,IAAI,eAAgB,WAAW,CAAC,OAAO,MAAM,EAAG;QAC5C,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,4NAAO;wBAAC,WAAU;;;;;;kCACnB,8OAAC;wBAAE,WAAU;kCAAkE;;;;;;;;;;;;;;;;;IAI/F;IAEA,MAAM,gBAAgB,CAAC;QACnB,OAAQ,OAAO,WAAW;YACtB,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAc,OAAO;oBAA8B,MAAM,6MAAK;gBAAC;YACnF,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAQ,OAAO;oBAAkC,MAAM,qOAAY;gBAAC;YACxF,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAa,OAAO;oBAA4B,MAAM,qOAAY;gBAAC;YACvF,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAkB,OAAO;oBAAgC,MAAM,mNAAO;gBAAC;YAC3F,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAY,OAAO;oBAAgC,MAAM,6MAAK;gBAAC;YACnF,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAU,OAAO;oBAA8B,MAAM,6MAAK;gBAAC;YAC/E,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAY,OAAO;oBAA8B,MAAM,qOAAY;gBAAC;YACxF,KAAK;gBACD,OAAO;oBAAE,OAAO;oBAAW,OAAO;oBAA4B,MAAM,mOAAW;gBAAC;YACpF;gBACI,OAAO;oBAAE,OAAO;oBAAc,OAAO;oBAA8B,MAAM,6MAAK;gBAAC;QACvF;IACJ;IAGA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,yIAAM;oBACH,KAAI;oBACJ,QAAQ;oBACJ,6DAA6D;oBAC7D,gEAAgE;oBACpE;;;;;;8BAEJ,8OAAC;oBAAK,KAAI;oBAAa,MAAK;;;;;;8BAG5B,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC,0MAAQ;wDAAC,WAAU;;;;;;;;;;;8DAExB,8OAAC;;sEACG,8OAAC;4DAAG,WAAU;sEAA0C,MAAM;;;;;;sEAC9D,8OAAC;4DAAE,WAAU;sEAA0B,MAAM;;;;;;;;;;;;;;;;;;wCAGpD,CAAC,kCACE,8OAAC;4CACG,SAAS,IAAM,oBAAoB;4CACnC,WAAU;sDAEV,cAAA,8OAAC,2MAAK;gDAAC,WAAU;;;;;;;;;;;;;;;;;gCAK5B,iCACG;;wCAEK,CAAC,YAAY,eAAe,YAAY,gBAAgB,YAAY,SAAS,mBAC1E,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAI,WAAU;0DACV,YAAY,0BACT,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC,6MAAK;gEAAC,WAAU;;;;;;;;;;;sEAErB,8OAAC;4DAAG,WAAU;sEAAmC;;;;;;sEACjD,8OAAC;4DAAE,WAAU;sEAA8B;;;;;;;;;;;yEAG/C;;sEACI,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEAAI,WAAU;8EACX,cAAA,8OAAC,4NAAU;wEAAC,WAAU;;;;;;;;;;;8EAE1B,8OAAC;oEAAG,WAAU;8EAAmC;;;;;;8EACjD,8OAAC;oEAAE,WAAU;;wEAA8B;sFAChB,8OAAC;;;;;sFACxB,8OAAC;4EAAK,WAAU;sFAA8B;;;;;;;;;;;;;;;;;;sEAItD,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEAAM,WAAU;8EAA4D;;;;;;8EAC7E,8OAAC;oEACG,MAAK;oEACL,WAAW;oEACX,OAAO;oEACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;oEAC1D,WAAU;oEACV,aAAY;oEACZ,SAAS;;;;;;;;;;;;wDAIhB,0BACG,8OAAC;4DAAE,WAAU;sEAAyC;;;;;;sEAG1D,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEACG,SAAS;oEACT,WAAU;8EACb;;;;;;8EAGD,8OAAC;oEACG,SAAS;oEACT,UAAU,YAAY,gBAAgB,QAAQ,MAAM,KAAK;oEACzD,WAAU;8EAET,YAAY,6BAAe,8OAAC,4NAAO;wEAAC,WAAU;;;;;+EAAoC;;;;;;;;;;;;;;;;;;;;;;;;sDAS/G,8OAAC;4CAAK,UAAU;4CAAqB,WAAU;;8DAC3C,8OAAC;;sEACG,8OAAC;4DAAM,WAAU;sEAAgD;;;;;;sEACjE,8OAAC;4DACG,MAAK;4DACL,OAAO,YAAY,IAAI;4DACvB,UAAU,CAAA,IAAK,eAAe;oEAAE,GAAG,WAAW;oEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACrE,WAAU;4DACV,QAAQ;;;;;;;;;;;;8DAGhB,8OAAC;;sEACG,8OAAC;4DAAM,WAAU;;gEAAgD;gEAE5D,YAAY,KAAK,KAAK,MAAM,uBACzB,8OAAC;oEAAK,WAAU;8EAA8B;;;;;;;;;;;;sEAGtD,8OAAC;4DACG,MAAK;4DACL,OAAO,YAAY,KAAK;4DACxB,UAAU,CAAA,IAAK,eAAe;oEAAE,GAAG,WAAW;oEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACtE,WAAU;4DACV,QAAQ;;;;;;;;;;;;8DAGhB,8OAAC;;sEACG,8OAAC;4DAAM,WAAU;sEAAgD;;;;;;sEACjE,8OAAC;4DACG,MAAK;4DACL,OAAO,YAAY,KAAK;4DACxB,UAAU,CAAA,IAAK,eAAe;oEAAE,GAAG,WAAW;oEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACtE,WAAU;4DACV,aAAY;;;;;;;;;;;;8DAGpB,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DACG,MAAK;4DACL,UAAU,qBAAqB,YAAY;4DAC3C,WAAU;sEAET,qBAAqB,YAAY,6BAAe,8OAAC,4NAAO;gEAAC,WAAU;;;;;uEAAoC;;;;;;sEAE5G,8OAAC;4DACG,MAAK;4DACL,SAAS,IAAM,oBAAoB;4DACnC,WAAU;sEACb;;;;;;;;;;;;;;;;;;;iEAOb;;wCACK,MAAM,uBACH,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC;8DAAM,KAAK,KAAK;;;;;;;;;;;;sDAGzB,8OAAC;4CACG,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;sCAQ9C,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAG,WAAU;sDAAyC;;;;;;sDACvD,8OAAC;4CACG,SAAS;gDACL,oBAAoB;gDACpB,cAAc;oDAAE,OAAO;oDAAI,cAAc;oDAAI,KAAK;oDAAQ,KAAK,CAAC;gDAAO;gDACvE,gBAAgB;gDAChB,gBAAgB;gDAChB,mBAAmB;gDACnB,iBAAiB;gDACjB,kBAAkB,CAAC;4CACvB;4CACA,WAAU;sDAEV,cAAA,8OAAC,0MAAI;gDAAC,WAAU;;;;;;;;;;;;;;;;;gCAIvB,gCACG,8OAAC;oCAAK,UAAU;oCAAkB,WAAU;;sDACxC,8OAAC;;8DACG,8OAAC;oDAAM,WAAU;8DAAgD;;;;;;8DACjE,8OAAC;oDACG,MAAK;oDACL,aAAY;oDACZ,QAAQ;oDACR,OAAO,WAAW,KAAK;oDACvB,UAAU,CAAC,IAAM,cAAc;4DAAE,GAAG,UAAU;4DAAE,OAAO,EAAE,MAAM,CAAC,KAAK;wDAAC;oDACtE,WAAU;;;;;;;;;;;;sDAKlB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDACG,MAAK;oDACL,SAAS,IAAM,gBAAgB;oDAC/B,WAAW,IAAA,kHAAE,EACT,0HACA,iBAAiB,UAAU,sCAAsC;;sEAGrE,8OAAC,oNAAM;4DAAC,WAAU;;;;;;wDAAY;;;;;;;8DAGlC,8OAAC;oDACG,MAAK;oDACL,SAAS,IAAM,gBAAgB;oDAC/B,WAAW,IAAA,kHAAE,EACT,0HACA,iBAAiB,aAAa,sCAAsC;;sEAGxE,8OAAC,6NAAS;4DAAC,WAAU;;;;;;wDAAY;;;;;;;;;;;;;wCAKxC,iBAAiB,wBACd;sDACI,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAM,WAAU;kEAAuE;;;;;;kEACxF,8OAAC;wDAAI,WAAU;;0EACX,8OAAC;gEACG,KAAK;gEACL,MAAK;gEACL,aAAY;gEACZ,UAAU,iBAAiB;gEAC3B,OAAO,WAAW,YAAY;gEAC9B,UAAU;gEACV,WAAU;;;;;;0EAEd,8OAAC,oNAAM;gEAAC,WAAU;;;;;;0EAElB,8OAAC;gEACG,MAAK;gEACL,SAAS;gEACT,WAAU;0EAEV,cAAA,8OAAC,yNAAS;oEAAC,WAAU;;;;;;;;;;;4DAGxB,mBAAmB,YAAY,MAAM,GAAG,mBACrC,8OAAC;gEAAI,WAAU;0EACV,YAAY,GAAG,CAAC,CAAC,OAAO,oBACrB,8OAAC;wEAEG,MAAK;wEACL,SAAS,IAAM,sBAAsB;wEACrC,WAAU;;0FAEV,8OAAC,oNAAM;gFAAC,WAAU;;;;;;0FAClB,8OAAC;gFAAE,WAAU;0FAAoC,MAAM,YAAY;;;;;;;uEAN9D;;;;;;;;;;;;;;;;;;;;;;0EAejC,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAM,WAAU;sEAAuE;;;;;;sEACxF,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEACG,MAAK;oEACL,OAAO;oEACP,UAAU,CAAC;wEACP,mBAAmB,EAAE,MAAM,CAAC,KAAK;wEACjC,uBAAuB;wEACvB,gBAAgB;oEACpB;oEACA,SAAS,IAAM,uBAAuB;oEACtC,aAAY;oEACZ,WAAU;;;;;;8EAEd,8OAAC,gNAAM;oEAAC,WAAU;;;;;;gEAEjB,qCACG,8OAAC;oEAAI,WAAU;8EACV,IAAA,+IAAkB,IACd,MAAM,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC,gBAAgB,WAAW,KACtE,GAAG,CAAC,CAAC,MAAM,oBACR,8OAAC;4EAEG,MAAK;4EACL,SAAS,IAAM,iBAAiB;4EAChC,WAAU;sFAET,cAAc,MAAM;2EALhB;;;;;;;;;;;;;;;;;;;;;;gDAahC,8BACG,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAM,WAAU;sEAAuE;;;;;;sEACxF,8OAAC;4DAAI,WAAU;;gEACV,mBAAmB,GAAG,CAAC,CAAC,SAAS,oBAC9B,8OAAC;wEAEG,MAAK;wEACL,SAAS;4EACL,mBAAmB;4EACnB,iBAAiB;wEACrB;wEACA,WAAW,IAAA,kHAAE,EACT,oDACA,iBAAiB,SAAS,QAAQ,IAAI,GAChC,uDACA;;0FAGV,8OAAC;gFAAI,WAAU;0FAAqB,QAAQ,IAAI;;;;;;0FAChD,8OAAC;gFAAI,WAAW,IAAA,kHAAE,EAAC,iDAAiD,iBAAiB,SAAS,QAAQ,IAAI,GAAG,kBAAkB;0FAAoB,QAAQ,aAAa;;;;;;;uEAdnK;;;;;8EAiBb,8OAAC;oEACG,MAAK;oEACL,SAAS;wEACL,mBAAmB;wEACnB,iBAAiB;oEACrB;oEACA,WAAW,IAAA,kHAAE,EACT,oDACA,CAAC,mBAAmB,CAAC,gBACf,6CACA;8EAGV,cAAA,8OAAC;wEAAI,WAAU;kFAAoB;;;;;;;;;;;;;;;;;wDAI1C,CAAC,CAAC,mBAAmB,mBAAmB,MAAM,KAAK,CAAC,mBACjD,8OAAC;4DACG,MAAK;4DACL,OAAO;4DACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;4DAChD,aAAY;4DACZ,WAAU;;;;;;;;;;;;;;;;;;sDAQlC,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,KAAK;oDAAiB,WAAU;;;;;;8DACrC,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC;wDAAI,WAAU;;0EACX,8OAAC,uMAAG;gEAAC,WAAU;;;;;;0EACf,8OAAC;gEAAK,WAAU;0EAAgE;;;;;;;;;;;;;;;;;;;;;;;sDAK5F,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAO,MAAK;oDAAS,WAAU;8DAC3B,mBAAmB,aAAa;;;;;;8DAErC,8OAAC;oDACG,MAAK;oDACL,SAAS;wDACL,kBAAkB;wDAClB,oBAAoB;wDACpB,cAAc;4DAAE,OAAO;4DAAI,cAAc;4DAAI,KAAK;4DAAG,KAAK;wDAAE;wDAC5D,gBAAgB;wDAChB,gBAAgB;wDAChB,iBAAiB;oDACrB;oDACA,WAAU;8DACb;;;;;;;;;;;;;;;;;;8CAOb,8OAAC;oCAAI,WAAU;8CACV,UAAU,MAAM,KAAK,kBAClB,8OAAC;wCAAI,WAAU;;0DACX,8OAAC,uMAAG;gDAAC,WAAU;;;;;;0DACf,8OAAC;gDAAE,WAAU;0DAA6D;;;;;;;;;;;+CAG9E,UAAU,GAAG,CAAC,CAAC,qBACX,8OAAC;4CAAkB,WAAU;;8DACzB,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEAAI,WAAW,IAAA,kHAAE,EACd,yEACA,KAAK,UAAU,GAAG,0DAA0D;8EAE5E,cAAA,8OAAC,2MAAI;wEAAC,WAAU;;;;;;;;;;;8EAEpB,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAE,WAAU;sFAAqC,KAAK,KAAK;;;;;;sFAC5D,8OAAC;4EAAE,WAAU;sFAA0F,KAAK,YAAY;;;;;;;;;;;;;;;;;;sEAGhI,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEACG,SAAS,IAAM,UAAU;oEACzB,WAAU;8EAEV,cAAA,8OAAC,2MAAK;wEAAC,WAAU;;;;;;;;;;;8EAErB,8OAAC;oEACG,SAAS,IAAM,oBAAoB,KAAK,EAAE;oEAC1C,WAAU;8EAEV,cAAA,8OAAC,oNAAM;wEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;gDAI7B,CAAC,KAAK,UAAU,kBACb,8OAAC;oDACG,SAAS,IAAM,iBAAiB,KAAK,EAAE;oDACvC,WAAU;8DACb;;;;;;;2CAjCC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;8BA6CrC,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAA8C;;;;;;8CAC5D,8OAAC;oCAAK,WAAU;;wCAAsC,OAAO,MAAM;wCAAC;wCAAU,OAAO,MAAM,GAAG,IAAI,MAAM;;;;;;;;;;;;;wBAG3G,OAAO,MAAM,KAAK,kBACf,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,mOAAW;oCAAC,WAAU;;;;;;8CACvB,8OAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,8OAAC,uKAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAqH;;;;;;;;;;;iDAKlJ;;8CAEI,8OAAC;oCAAI,WAAU;8CACV,OACI,KAAK,CAAC,CAAC,cAAc,CAAC,IAAI,iBAAiB,cAAc,iBACzD,GAAG,CAAC,CAAC;wCACF,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,GAAG,cAAc,MAAM,MAAM;wCAC/D,MAAM,QAAQ,OAAO,MAAM,KAAK,KAAK,WAAW,KAAK,KAAK,CAAC,MAAM,KAAK,IAAI,MAAM,KAAK;wCAErF,qBACI,8OAAC,uKAAI;4CAED,MAAM,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE;4CAC5B,WAAU;;8DAGV,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;;8EACG,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAK,WAAU;;gFAAqC;gFAAE,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,WAAW;;;;;;;sFACvF,8OAAC;4EAAK,WAAW,IAAA,kHAAE,EAAC,yEAAyE;;8FACzF,8OAAC;oFAAK,WAAU;;;;;;gFACf;;;;;;;;;;;;;8EAGT,8OAAC;oEAAE,WAAU;8EACR,IAAA,+JAAM,EAAC,IAAI,KAAK,MAAM,UAAU,GAAG,qBAAqB;wEAAE,QAAQ,iJAAE;oEAAC;;;;;;;;;;;;sEAG9E,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC;gEAAE,WAAU;0EAAoC,IAAA,8HAAc,EAAC,OAAO,MAAM,KAAK;;;;;;;;;;;;;;;;;8DAK1F,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAE,WAAU;sEAA0D;;;;;;sEACvE,8OAAC;4DAAI,WAAU;;gEACV,OAAO,MAAM,GAAG,GAAG,IAAI,CAAC,MAAW,oBAChC,8OAAC;wEAAc,WAAU;;0FACrB,8OAAC;gFAAK,WAAU;0FAA8C,KAAK,IAAI;;;;;;0FACvE,8OAAC;gFAAK,WAAU;;oFAAsB;oFAAE,KAAK,QAAQ;;;;;;;;uEAF/C;;;;;gEAKb,OAAO,SAAS,mBACb,8OAAC;oEAAE,WAAU;;wEAA8B;wEAAE,MAAM,MAAM,GAAG;wEAAE;wEAAO,MAAM,MAAM,GAAG,IAAI,IAAI,MAAM;;;;;;;;;;;;;;;;;;;8DAM9G,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;;8EACX,8OAAC,oNAAM;oEAAC,WAAU;;;;;;8EAClB,8OAAC;oEAAK,WAAU;8EAA0B,MAAM,YAAY;;;;;;;;;;;;sEAEhE,8OAAC,sOAAY;4DAAC,WAAU;;;;;;;;;;;;;2CA7CvB,MAAM,EAAE;;;;;oCAiDzB;;;;;;gCAIP,OAAO,MAAM,GAAG,iCACb,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CACG,SAAS,IAAM,eAAe,CAAA,IAAK,KAAK,GAAG,CAAC,GAAG,IAAI;4CACnD,UAAU,gBAAgB;4CAC1B,WAAU;sDACb;;;;;;sDAGD,8OAAC;4CAAK,WAAU;;gDACX;gDAAY;gDAAI,KAAK,IAAI,CAAC,OAAO,MAAM,GAAG;;;;;;;sDAE/C,8OAAC;4CACG,SAAS,IAAM,eAAe,CAAA,IAAK,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,OAAO,MAAM,GAAG,kBAAkB,IAAI;4CAC5F,UAAU,eAAe,KAAK,IAAI,CAAC,OAAO,MAAM,GAAG;4CACnD,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYrC"}}]
}