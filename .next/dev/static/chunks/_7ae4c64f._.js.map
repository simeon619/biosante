{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/exp_cie.json"],"sourcesContent":["[{\"id\":\"utb\",\"name\":\"UTB (Union des Transports de Bouaké)\",\"hub_principal\":\"Abidjan (Adjamé, Koumassi, Yopougon)\",\"type\":\"National\",\"regions_desservies\":[\"Centre\",\"Nord\",\"Ouest\",\"Est\",\"Sud-Ouest\"],\"contact_colis\":\"0707000000\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouaké\",\"Daloa\",\"Gagnoa\",\"San Pedro\",\"Man\",\"Korhogo\",\"Odienné\",\"Bondoukou\",\"Abengourou\",\"Soubré\",\"Bouaflé\",\"Divo\",\"Toumodi\",\"Sinfra\",\"Issia\",\"Duékoué\",\"Agnibilékrou\",\"Tanda\",\"Bocanda\",\"Daoukro\"]},{\"id\":\"tsr\",\"name\":\"TSR (Transport Sans Rayon)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"National\",\"regions_desservies\":[\"Nord\",\"Ouest\",\"Est\",\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouaké\",\"Korhogo\",\"Ferkessédougou\",\"Boundiali\",\"Tengréla\",\"Man\",\"Danané\",\"Duékoué\",\"Guiglo\",\"Daloa\",\"Issia\",\"Vavoua\",\"Séguéla\",\"Mankono\",\"Bondoukou\",\"Bouna\",\"Daoukro\"]},{\"id\":\"sbta\",\"name\":\"SBTA\",\"hub_principal\":\"Abidjan (Adjamé, Yopougon, Koumassi)\",\"type\":\"Grand Régional\",\"regions_desservies\":[\"Sud-Ouest\",\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0576207777\",\"destinations\":[\"Abidjan\",\"Divo\",\"Lakota\",\"Gagnoa\",\"Soubré\",\"Méagui\",\"San Pedro\",\"Sassandra\",\"Grand-Béréby\",\"Oumé\",\"Diegonefla\",\"Abengourou\",\"Bondoukou\"]},{\"id\":\"ot_ci\",\"name\":\"OT-CI (Omnis Transport)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Régional & International\",\"regions_desservies\":[\"Ouest\",\"International\"],\"contact_colis\":\"0708611770\",\"destinations\":[\"Abidjan\",\"Man\",\"Danané\",\"Zouan-Hounien\",\"Duékoué\",\"Toulepleu\"]},{\"id\":\"etv\",\"name\":\"ETV (Entente Transport Voyageurs)\",\"hub_principal\":\"Abidjan (Adjamé, Abobo)\",\"type\":\"Spécialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0777657448\",\"destinations\":[\"Abidjan\",\"Bouaké\",\"Niakara\",\"Tafiré\",\"Korhogo\",\"Ferkessédougou\",\"Ouangolodougou\",\"Pogo\",\"Diawala\",\"Niellé\"]},{\"id\":\"ocean_ci\",\"name\":\"Océan Côte d'Ivoire\",\"hub_principal\":\"Abidjan (Treichville, Adjamé)\",\"type\":\"Spécialiste Est\",\"regions_desservies\":[\"Est\",\"Sud-Est\"],\"contact_colis\":\"0799242366\",\"destinations\":[\"Abidjan\",\"Aboisso\",\"Adzopé\",\"Akoupé\",\"Abengourou\",\"Agnibilékrou\",\"Bondoukou\",\"Koun-Fao\",\"Tanda\"]},{\"id\":\"jet_express\",\"name\":\"JET Express\",\"hub_principal\":\"Abidjan (Adjamé, Koumassi)\",\"type\":\"Spécialiste Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"0700146565\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Tabou\",\"Grand-Béréby\",\"Gabiadiji\"]},{\"id\":\"stb\",\"name\":\"STB (Société de Transport Bakayoko)\",\"hub_principal\":\"Abidjan (Abobo, Adjamé)\",\"type\":\"Spécialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0504145580\",\"destinations\":[\"Abidjan\",\"Korhogo\"]},{\"id\":\"mt\",\"name\":\"MT (Massa Transport)\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Régional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Duékoué\",\"Man\",\"Danané\",\"Bangolo\"]},{\"id\":\"avs\",\"name\":\"AVS (Aek Voyageurs)\",\"hub_principal\":\"Abidjan (Deux-Plateaux, Adjamé)\",\"type\":\"Premium Centre\",\"regions_desservies\":[\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Toumodi\",\"Yamoussoukro\",\"Bouaké\"]},{\"id\":\"gti\",\"name\":\"GTI Transport\",\"hub_principal\":\"Gagnoa / Abidjan\",\"type\":\"Régional\",\"regions_desservies\":[\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0545206204\",\"destinations\":[\"Abidjan\",\"Gagnoa\",\"Abengourou\",\"Oumé\"]},{\"id\":\"cte\",\"name\":\"CTE\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bouaké\",\"Katiola\",\"Korhogo\",\"Ferkessédougou\"]},{\"id\":\"bad\",\"name\":\"Badjan Transport\",\"hub_principal\":\"Abidjan (Adjamé)\",\"type\":\"Historique Est\",\"regions_desservies\":[\"Est\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bondoukou\",\"Bouna\",\"Tanda\"]},{\"id\":\"sido\",\"name\":\"SIDO Transport\",\"hub_principal\":\"Abidjan (Abobo)\",\"type\":\"Régional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Boundiali\",\"Korhogo\",\"Tengréla\"]},{\"id\":\"waridi\",\"name\":\"Waridi Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Séguéla\",\"Kani\",\"Dianra\",\"Mankono\"]},{\"id\":\"adja\",\"name\":\"Adja Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Odienné\",\"Touba\",\"Madinani\"]},{\"id\":\"st\",\"name\":\"ST (Sama Transport)\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Man\",\"Issia\"]},{\"id\":\"ck\",\"name\":\"CK (Carrefour Kléber)\",\"hub_principal\":\"Abidjan\",\"type\":\"Régional Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Sassandra\",\"Tabou\"]}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 3, "column": 4669}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/data/shippingCompanies.ts"],"sourcesContent":["import shippingCompaniesData from '../exp_cie.json';\n\nexport interface ShippingCompany {\n    id: string;\n    name: string;\n    hub_principal: string;\n    type: string;\n    regions_desservies: string[];\n    contact_colis: string;\n    destinations: string[];\n}\n\n// Typed data\nexport const shippingCompanies: ShippingCompany[] = shippingCompaniesData as ShippingCompany[];\n\n// Find companies that serve a specific city\nexport function findCompaniesByCity(city: string): ShippingCompany[] {\n    const normalizedCity = city.toLowerCase().trim();\n    return shippingCompanies.filter(company =>\n        company.destinations.some(dest => dest.toLowerCase().includes(normalizedCity))\n    );\n}\n\n// Get all unique destinations (cities) from all companies\nexport function getAllDestinations(): string[] {\n    const allDestinations = new Set<string>();\n    shippingCompanies.forEach(company => {\n        company.destinations.forEach(dest => {\n            // Exclude \"Abidjan\" since it's the local zone\n            if (dest.toLowerCase() !== 'abidjan') {\n                allDestinations.add(dest);\n            }\n        });\n    });\n    return Array.from(allDestinations).sort();\n}\n\n// Abidjan area communes for local delivery\nexport const ABIDJAN_AREA = [\n    'Abidjan',\n    'Plateau',\n    'Cocody',\n    'Marcory',\n    'Treichville',\n    'Yopougon',\n    'Abobo',\n    'Adjamé',\n    'Koumassi',\n    'Port-Bouët',\n    'Anyama',\n    'Bingerville',\n    'Grand-Bassam',\n    'Songon',\n    'Brofodoumé',\n    'Dabou',\n    'Assinie'\n];\n\n// Check if a location is in the Abidjan area\nexport function isInAbidjanArea(location: string): boolean {\n    const normalizedLocation = location.toLowerCase().trim();\n    return ABIDJAN_AREA.some(area => normalizedLocation.includes(area.toLowerCase()));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAaO,MAAM,oBAAuC,0FAAqB;AAGlE,SAAS,oBAAoB,IAAY;IAC5C,MAAM,iBAAiB,KAAK,WAAW,GAAG,IAAI;IAC9C,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAC5B,QAAQ,YAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC;AAEtE;AAGO,SAAS;IACZ,MAAM,kBAAkB,IAAI;IAC5B,kBAAkB,OAAO,CAAC,CAAA;QACtB,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAA;YACzB,8CAA8C;YAC9C,IAAI,KAAK,WAAW,OAAO,WAAW;gBAClC,gBAAgB,GAAG,CAAC;YACxB;QACJ;IACJ;IACA,OAAO,MAAM,IAAI,CAAC,iBAAiB,IAAI;AAC3C;AAGO,MAAM,eAAe;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAGM,SAAS,gBAAgB,QAAgB;IAC5C,MAAM,qBAAqB,SAAS,WAAW,GAAG,IAAI;IACtD,OAAO,aAAa,IAAI,CAAC,CAAA,OAAQ,mBAAmB,QAAQ,CAAC,KAAK,WAAW;AACjF"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/ui/map.tsx"],"sourcesContent":["\"use client\";\n\nimport MapLibreGL, { type PopupOptions, type MarkerOptions } from \"maplibre-gl\";\nimport \"maplibre-gl/dist/maplibre-gl.css\";\nimport { useTheme } from \"next-themes\";\nimport {\n    createContext,\n    useCallback,\n    useContext,\n    useEffect,\n    useId,\n    useMemo,\n    useRef,\n    useState,\n    type ReactNode,\n} from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { X, Minus, Plus, Locate, Maximize, Loader2 } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\ntype MapContextValue = {\n    map: MapLibreGL.Map | null;\n    isLoaded: boolean;\n};\n\nconst MapContext = createContext<MapContextValue | null>(null);\n\nfunction useMap() {\n    const context = useContext(MapContext);\n    if (!context) {\n        throw new Error(\"useMap must be used within a Map component\");\n    }\n    return context;\n}\n\nconst defaultStyles = {\n    dark: \"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json\",\n    light: \"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json\",\n};\n\ntype MapStyleOption = string | MapLibreGL.StyleSpecification;\n\ntype MapProps = {\n    children?: ReactNode;\n    /** Custom map styles for light and dark themes. Overrides the default Carto styles. */\n    styles?: {\n        light?: MapStyleOption;\n        dark?: MapStyleOption;\n    };\n    onClick?: (e: MapLibreGL.MapMouseEvent) => void;\n} & Omit<MapLibreGL.MapOptions, \"container\" | \"style\">;\n\nconst DefaultLoader = () => (\n    <div className=\"absolute inset-0 flex items-center justify-center\">\n        <div className=\"flex gap-1\">\n            <span className=\"size-1.5 rounded-full bg-muted-foreground/60 animate-pulse\" />\n            <span className=\"size-1.5 rounded-full bg-muted-foreground/60 animate-pulse [animation-delay:150ms]\" />\n            <span className=\"size-1.5 rounded-full bg-muted-foreground/60 animate-pulse [animation-delay:300ms]\" />\n        </div>\n    </div>\n);\n\nfunction Map({ children, styles, onClick, ...props }: MapProps) {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const mapRef = useRef<MapLibreGL.Map | null>(null);\n    const [isMounted, setIsMounted] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [isStyleLoaded, setIsStyleLoaded] = useState(false);\n    const [isThemeSafe, setIsThemeSafe] = useState(false);\n\n    // Use a fallback for useTheme to avoid errors if ThemeProvider is missing\n    let themeContext;\n    try {\n        themeContext = useTheme();\n    } catch (e) {\n        themeContext = { resolvedTheme: 'light' };\n    }\n    const { resolvedTheme } = themeContext;\n\n    const mapStyles = useMemo(\n        () => ({\n            dark: styles?.dark ?? defaultStyles.dark,\n            light: styles?.light ?? defaultStyles.light,\n        }),\n        [styles]\n    );\n\n    useEffect(() => {\n        setIsMounted(true);\n        // Give a small delay to ensure ThemeProvider (if any) is available\n        setIsThemeSafe(true);\n    }, []);\n\n    useEffect(() => {\n        if (!isMounted || !containerRef.current) return;\n\n        const mapStyle =\n            resolvedTheme === \"dark\" ? mapStyles.dark : mapStyles.light;\n\n        const mapInstance = new MapLibreGL.Map({\n            container: containerRef.current,\n            style: mapStyle,\n            renderWorldCopies: false,\n            attributionControl: {\n                compact: true,\n            },\n            ...props,\n        });\n\n        const styleDataHandler = () => setIsStyleLoaded(true);\n        const loadHandler = () => setIsLoaded(true);\n        const clickHandler = (e: MapLibreGL.MapMouseEvent) => onClick?.(e);\n\n        mapInstance.on(\"load\", loadHandler);\n        mapInstance.on(\"styledata\", styleDataHandler);\n        mapInstance.on(\"click\", clickHandler);\n        mapRef.current = mapInstance;\n\n        return () => {\n            mapInstance.off(\"load\", loadHandler);\n            mapInstance.off(\"styledata\", styleDataHandler);\n            mapInstance.off(\"click\", clickHandler);\n            mapInstance.remove();\n            mapRef.current = null;\n        };\n    }, [isMounted, onClick]);\n\n    useEffect(() => {\n        if (mapRef.current) {\n            setIsStyleLoaded(false);\n            mapRef.current.setStyle(\n                resolvedTheme === \"dark\" ? mapStyles.dark : mapStyles.light,\n                { diff: true }\n            );\n        }\n    }, [resolvedTheme, mapStyles]);\n\n    const isLoading = !isMounted || !isLoaded || !isStyleLoaded;\n\n    return (\n        <MapContext.Provider\n            value={{\n                map: mapRef.current,\n                isLoaded: isMounted && isLoaded && isStyleLoaded,\n            }}\n        >\n            <div ref={containerRef} className=\"relative w-full h-full min-h-[inherit]\">\n                {isLoading && <DefaultLoader />}\n                {/* guard against hydration error */}\n                {isMounted && children}\n            </div>\n        </MapContext.Provider>\n    );\n}\n\ntype MarkerContextValue = {\n    markerRef: React.RefObject<MapLibreGL.Marker | null>;\n    markerElementRef: React.RefObject<HTMLDivElement | null>;\n    map: MapLibreGL.Map | null;\n    isReady: boolean;\n};\n\nconst MarkerContext = createContext<MarkerContextValue | null>(null);\n\nfunction useMarkerContext() {\n    const context = useContext(MarkerContext);\n    if (!context) {\n        throw new Error(\"Marker components must be used within MapMarker\");\n    }\n    return context;\n}\n\ntype MapMarkerProps = {\n    longitude: number;\n    latitude: number;\n    children: ReactNode;\n    onClick?: (e: MouseEvent) => void;\n    onMouseEnter?: (e: MouseEvent) => void;\n    onMouseLeave?: (e: MouseEvent) => void;\n    onDragStart?: (lngLat: { lng: number; lat: number }) => void;\n    onDrag?: (lngLat: { lng: number; lat: number }) => void;\n    onDragEnd?: (lngLat: { lng: number; lat: number }) => void;\n} & Omit<MarkerOptions, \"element\">;\n\nfunction MapMarker({\n    longitude,\n    latitude,\n    children,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    draggable = false,\n    ...markerOptions\n}: MapMarkerProps) {\n    const { map, isLoaded } = useMap();\n    const markerRef = useRef<MapLibreGL.Marker | null>(null);\n    const markerElementRef = useRef<HTMLDivElement | null>(null);\n    const [isReady, setIsReady] = useState(false);\n    const markerOptionsRef = useRef(markerOptions);\n\n    useEffect(() => {\n        if (!isLoaded || !map) return;\n\n        const container = document.createElement(\"div\");\n        markerElementRef.current = container;\n\n        const marker = new MapLibreGL.Marker({\n            ...markerOptions,\n            element: container,\n            draggable,\n        })\n            .setLngLat([longitude, latitude])\n            .addTo(map);\n\n        markerRef.current = marker;\n\n        const handleClick = (e: MouseEvent) => onClick?.(e);\n        const handleMouseEnter = (e: MouseEvent) => onMouseEnter?.(e);\n        const handleMouseLeave = (e: MouseEvent) => onMouseLeave?.(e);\n\n        container.addEventListener(\"click\", handleClick);\n        container.addEventListener(\"mouseenter\", handleMouseEnter);\n        container.addEventListener(\"mouseleave\", handleMouseLeave);\n\n        const handleDragStart = () => {\n            const lngLat = marker.getLngLat();\n            onDragStart?.({ lng: lngLat.lng, lat: lngLat.lat });\n        };\n        const handleDrag = () => {\n            const lngLat = marker.getLngLat();\n            onDrag?.({ lng: lngLat.lng, lat: lngLat.lat });\n        };\n        const handleDragEnd = () => {\n            const lngLat = marker.getLngLat();\n            onDragEnd?.({ lng: lngLat.lng, lat: lngLat.lat });\n        };\n\n        marker.on(\"dragstart\", handleDragStart);\n        marker.on(\"drag\", handleDrag);\n        marker.on(\"dragend\", handleDragEnd);\n\n        setIsReady(true);\n\n        return () => {\n            container.removeEventListener(\"click\", handleClick);\n            container.removeEventListener(\"mouseenter\", handleMouseEnter);\n            container.removeEventListener(\"mouseleave\", handleMouseLeave);\n\n            marker.off(\"dragstart\", handleDragStart);\n            marker.off(\"drag\", handleDrag);\n            marker.off(\"dragend\", handleDragEnd);\n\n            marker.remove();\n            markerRef.current = null;\n            markerElementRef.current = null;\n            setIsReady(false);\n        };\n    }, [map, isLoaded, draggable]);\n\n    useEffect(() => {\n        markerRef.current?.setLngLat([longitude, latitude]);\n    }, [longitude, latitude]);\n\n    useEffect(() => {\n        markerRef.current?.setDraggable(draggable);\n    }, [draggable]);\n\n    useEffect(() => {\n        if (!markerRef.current) return;\n        const prev = markerOptionsRef.current;\n\n        if (prev.offset !== markerOptions.offset) {\n            markerRef.current.setOffset(markerOptions.offset ?? [0, 0]);\n        }\n        if (prev.rotation !== markerOptions.rotation) {\n            markerRef.current.setRotation(markerOptions.rotation ?? 0);\n        }\n        if (prev.rotationAlignment !== markerOptions.rotationAlignment) {\n            markerRef.current.setRotationAlignment(\n                markerOptions.rotationAlignment ?? \"auto\"\n            );\n        }\n        if (prev.pitchAlignment !== markerOptions.pitchAlignment) {\n            markerRef.current.setPitchAlignment(\n                markerOptions.pitchAlignment ?? \"auto\"\n            );\n        }\n\n        markerOptionsRef.current = markerOptions;\n    }, [markerOptions]);\n\n    return (\n        <MarkerContext.Provider\n            value={{ markerRef, markerElementRef, map, isReady }}\n        >\n            {children}\n        </MarkerContext.Provider>\n    );\n}\n\ntype MarkerContentProps = {\n    children?: ReactNode;\n    className?: string;\n};\n\nfunction MarkerContent({ children, className }: MarkerContentProps) {\n    const { markerElementRef, isReady } = useMarkerContext();\n\n    if (!isReady || !markerElementRef.current) return null;\n\n    return createPortal(\n        <div className={cn(\"relative cursor-pointer\", className)}>\n            {children || <DefaultMarkerIcon />}\n        </div>,\n        markerElementRef.current\n    );\n}\n\nfunction DefaultMarkerIcon() {\n    return (\n        <div className=\"relative h-4 w-4 rounded-full border-2 border-white bg-blue-500 shadow-lg\" />\n    );\n}\n\ntype MarkerPopupProps = {\n    children: ReactNode;\n    className?: string;\n    closeButton?: boolean;\n} & Omit<PopupOptions, \"className\">;\n\nfunction MarkerPopup({\n    children,\n    className,\n    closeButton = false,\n    ...popupOptions\n}: MarkerPopupProps) {\n    const { markerRef, isReady } = useMarkerContext();\n    const containerRef = useRef<HTMLDivElement | null>(null);\n    const popupRef = useRef<MapLibreGL.Popup | null>(null);\n    const [mounted, setMounted] = useState(false);\n    const popupOptionsRef = useRef(popupOptions);\n\n    useEffect(() => {\n        if (!isReady || !markerRef.current) return;\n\n        const container = document.createElement(\"div\");\n        containerRef.current = container;\n\n        const popup = new MapLibreGL.Popup({\n            offset: 16,\n            ...popupOptions,\n            closeButton: false,\n        })\n            .setMaxWidth(\"none\")\n            .setDOMContent(container);\n\n        popupRef.current = popup;\n        markerRef.current.setPopup(popup);\n        setMounted(true);\n\n        return () => {\n            popup.remove();\n            popupRef.current = null;\n            containerRef.current = null;\n            setMounted(false);\n        };\n    }, [isReady]);\n\n    useEffect(() => {\n        if (!popupRef.current) return;\n        const prev = popupOptionsRef.current;\n\n        if (prev.offset !== popupOptions.offset) {\n            popupRef.current.setOffset(popupOptions.offset ?? 16);\n        }\n        if (prev.maxWidth !== popupOptions.maxWidth && popupOptions.maxWidth) {\n            popupRef.current.setMaxWidth(popupOptions.maxWidth ?? \"none\");\n        }\n\n        popupOptionsRef.current = popupOptions;\n    }, [popupOptions]);\n\n    const handleClose = () => popupRef.current?.remove();\n\n    if (!mounted || !containerRef.current) return null;\n\n    return createPortal(\n        <div\n            className={cn(\n                \"relative rounded-md border bg-popover p-3 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95\",\n                className\n            )}\n        >\n            {closeButton && (\n                <button\n                    type=\"button\"\n                    onClick={handleClose}\n                    className=\"absolute top-1 right-1 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n                    aria-label=\"Close popup\"\n                >\n                    <X className=\"h-4 w-4\" />\n                    <span className=\"sr-only\">Close</span>\n                </button>\n            )}\n            {children}\n        </div>,\n        containerRef.current\n    );\n}\n\ntype MarkerTooltipProps = {\n    children: ReactNode;\n    className?: string;\n} & Omit<PopupOptions, \"className\" | \"closeButton\" | \"closeOnClick\">;\n\nfunction MarkerTooltip({\n    children,\n    className,\n    ...popupOptions\n}: MarkerTooltipProps) {\n    const { markerRef, markerElementRef, map, isReady } = useMarkerContext();\n    const containerRef = useRef<HTMLDivElement | null>(null);\n    const popupRef = useRef<MapLibreGL.Popup | null>(null);\n    const [mounted, setMounted] = useState(false);\n    const popupOptionsRef = useRef(popupOptions);\n\n    useEffect(() => {\n        if (!isReady || !markerRef.current || !markerElementRef.current || !map)\n            return;\n\n        const container = document.createElement(\"div\");\n        containerRef.current = container;\n\n        const popup = new MapLibreGL.Popup({\n            offset: 16,\n            ...popupOptions,\n            closeOnClick: true,\n            closeButton: false,\n        })\n            .setMaxWidth(\"none\")\n            .setDOMContent(container);\n\n        popupRef.current = popup;\n\n        const markerElement = markerElementRef.current;\n        const marker = markerRef.current;\n\n        const handleMouseEnter = () => {\n            popup.setLngLat(marker.getLngLat()).addTo(map);\n        };\n        const handleMouseLeave = () => popup.remove();\n\n        markerElement.addEventListener(\"mouseenter\", handleMouseEnter);\n        markerElement.addEventListener(\"mouseleave\", handleMouseLeave);\n        setMounted(true);\n\n        return () => {\n            markerElement.removeEventListener(\"mouseenter\", handleMouseEnter);\n            markerElement.removeEventListener(\"mouseleave\", handleMouseLeave);\n            popup.remove();\n            popupRef.current = null;\n            containerRef.current = null;\n            setMounted(false);\n        };\n    }, [isReady, map]);\n\n    useEffect(() => {\n        if (!popupRef.current) return;\n        const prev = popupOptionsRef.current;\n\n        if (prev.offset !== popupOptions.offset) {\n            popupRef.current.setOffset(popupOptions.offset ?? 16);\n        }\n        if (prev.maxWidth !== popupOptions.maxWidth && popupOptions.maxWidth) {\n            popupRef.current.setMaxWidth(popupOptions.maxWidth ?? \"none\");\n        }\n\n        popupOptionsRef.current = popupOptions;\n    }, [popupOptions]);\n\n    if (!mounted || !containerRef.current) return null;\n\n    return createPortal(\n        <div\n            className={cn(\n                \"rounded-md bg-foreground px-2 py-1 text-xs text-background shadow-md animate-in fade-in-0 zoom-in-95\",\n                className\n            )}\n        >\n            {children}\n        </div>,\n        containerRef.current\n    );\n}\n\ntype MarkerLabelProps = {\n    children: ReactNode;\n    className?: string;\n    position?: \"top\" | \"bottom\";\n};\n\nfunction MarkerLabel({\n    children,\n    className,\n    position = \"top\",\n}: MarkerLabelProps) {\n    const positionClasses = {\n        top: \"bottom-full mb-1\",\n        bottom: \"top-full mt-1\",\n    };\n\n    return (\n        <div\n            className={cn(\n                \"absolute left-1/2 -translate-x-1/2 whitespace-nowrap\",\n                \"text-[10px] font-medium text-foreground\",\n                positionClasses[position],\n                className\n            )}\n        >\n            {children}\n        </div>\n    );\n}\n\ntype MapControlsProps = {\n    position?: \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\";\n    showZoom?: boolean;\n    showCompass?: boolean;\n    showLocate?: boolean;\n    showFullscreen?: boolean;\n    className?: string;\n    onLocate?: (coords: { longitude: number; latitude: number }) => void;\n};\n\nconst positionClasses = {\n    \"top-left\": \"top-2 left-2\",\n    \"top-right\": \"top-2 right-2\",\n    \"bottom-left\": \"bottom-2 left-2\",\n    \"bottom-right\": \"bottom-10 right-2\",\n};\n\nfunction ControlGroup({ children }: { children: React.ReactNode }) {\n    return (\n        <div className=\"flex flex-col rounded-md border border-border bg-background shadow-sm overflow-hidden [&>button:not(:last-child)]:border-b [&>button:not(:last-child)]:border-border\">\n            {children}\n        </div>\n    );\n}\n\nfunction ControlButton({\n    onClick,\n    label,\n    children,\n    disabled = false,\n}: {\n    onClick: () => void;\n    label: string;\n    children: React.ReactNode;\n    disabled?: boolean;\n}) {\n    return (\n        <button\n            onClick={onClick}\n            aria-label={label}\n            type=\"button\"\n            className={cn(\n                \"flex items-center justify-center size-8 hover:bg-accent dark:hover:bg-accent/40 transition-colors\",\n                disabled && \"opacity-50 pointer-events-none cursor-not-allowed\"\n            )}\n            disabled={disabled}\n        >\n            {children}\n        </button>\n    );\n}\n\nfunction MapControls({\n    position = \"bottom-right\",\n    showZoom = true,\n    showCompass = false,\n    showLocate = false,\n    showFullscreen = false,\n    className,\n    onLocate,\n}: MapControlsProps) {\n    const { map, isLoaded } = useMap();\n    const [waitingForLocation, setWaitingForLocation] = useState(false);\n\n    const handleZoomIn = useCallback(() => {\n        map?.zoomTo(map.getZoom() + 1, { duration: 300 });\n    }, [map]);\n\n    const handleZoomOut = useCallback(() => {\n        map?.zoomTo(map.getZoom() - 1, { duration: 300 });\n    }, [map]);\n\n    const handleResetBearing = useCallback(() => {\n        map?.resetNorthPitch({ duration: 300 });\n    }, [map]);\n\n    const handleLocate = useCallback(() => {\n        setWaitingForLocation(true);\n        if (\"geolocation\" in navigator) {\n            navigator.geolocation.getCurrentPosition(\n                (pos) => {\n                    const coords = {\n                        longitude: pos.coords.longitude,\n                        latitude: pos.coords.latitude,\n                    };\n                    map?.flyTo({\n                        center: [coords.longitude, coords.latitude],\n                        zoom: 14,\n                        duration: 1500,\n                    });\n                    onLocate?.(coords);\n                    setWaitingForLocation(false);\n                },\n                (error) => {\n                    console.error(\"Error getting location:\", error);\n                    setWaitingForLocation(false);\n                }\n            );\n        }\n    }, [map, onLocate]);\n\n    const handleFullscreen = useCallback(() => {\n        const container = map?.getContainer();\n        if (!container) return;\n        if (document.fullscreenElement) {\n            document.exitFullscreen();\n        } else {\n            container.requestFullscreen();\n        }\n    }, [map]);\n\n    if (!isLoaded) return null;\n\n    return (\n        <div\n            className={cn(\n                \"absolute z-10 flex flex-col gap-1.5\",\n                positionClasses[position],\n                className\n            )}\n        >\n            {showZoom && (\n                <ControlGroup>\n                    <ControlButton onClick={handleZoomIn} label=\"Zoom in\">\n                        <Plus className=\"size-4\" />\n                    </ControlButton>\n                    <ControlButton onClick={handleZoomOut} label=\"Zoom out\">\n                        <Minus className=\"size-4\" />\n                    </ControlButton>\n                </ControlGroup>\n            )}\n            {showCompass && (\n                <ControlGroup>\n                    <CompassButton onClick={handleResetBearing} />\n                </ControlGroup>\n            )}\n            {showLocate && (\n                <ControlGroup>\n                    <ControlButton\n                        onClick={handleLocate}\n                        label=\"Find my location\"\n                        disabled={waitingForLocation}\n                    >\n                        {waitingForLocation ? (\n                            <Loader2 className=\"size-4 animate-spin\" />\n                        ) : (\n                            <Locate className=\"size-4\" />\n                        )}\n                    </ControlButton>\n                </ControlGroup>\n            )}\n            {showFullscreen && (\n                <ControlGroup>\n                    <ControlButton onClick={handleFullscreen} label=\"Toggle fullscreen\">\n                        <Maximize className=\"size-4\" />\n                    </ControlButton>\n                </ControlGroup>\n            )}\n        </div>\n    );\n}\n\nfunction CompassButton({ onClick }: { onClick: () => void }) {\n    const { isLoaded, map } = useMap();\n    const compassRef = useRef<SVGSVGElement>(null);\n\n    useEffect(() => {\n        if (!isLoaded || !map || !compassRef.current) return;\n\n        const compass = compassRef.current;\n\n        const updateRotation = () => {\n            const bearing = map.getBearing();\n            const pitch = map.getPitch();\n            compass.style.transform = `rotateX(${pitch}deg) rotateZ(${-bearing}deg)`;\n        };\n\n        map.on(\"rotate\", updateRotation);\n        map.on(\"pitch\", updateRotation);\n        updateRotation();\n\n        return () => {\n            map.off(\"rotate\", updateRotation);\n            map.off(\"pitch\", updateRotation);\n        };\n    }, [isLoaded, map]);\n\n    return (\n        <ControlButton onClick={onClick} label=\"Reset bearing to north\">\n            <svg\n                ref={compassRef}\n                viewBox=\"0 0 24 24\"\n                className=\"size-5 transition-transform duration-200\"\n                style={{ transformStyle: \"preserve-3d\" }}\n            >\n                <path d=\"M12 2L16 12H12V2Z\" className=\"fill-red-500\" />\n                <path d=\"M12 2L8 12H12V2Z\" className=\"fill-red-300\" />\n                <path d=\"M12 22L16 12H12V22Z\" className=\"fill-muted-foreground/60\" />\n                <path d=\"M12 22L8 12H12V22Z\" className=\"fill-muted-foreground/30\" />\n            </svg>\n        </ControlButton>\n    );\n}\n\ntype MapPopupProps = {\n    longitude: number;\n    latitude: number;\n    onClose?: () => void;\n    children: ReactNode;\n    className?: string;\n    closeButton?: boolean;\n} & Omit<PopupOptions, \"className\">;\n\nfunction MapPopup({\n    longitude,\n    latitude,\n    onClose,\n    children,\n    className,\n    closeButton = false,\n    ...popupOptions\n}: MapPopupProps) {\n    const { map } = useMap();\n    const popupRef = useRef<MapLibreGL.Popup | null>(null);\n    const popupOptionsRef = useRef(popupOptions);\n\n    const container = useMemo(() => document.createElement(\"div\"), []);\n\n    useEffect(() => {\n        if (!map) return;\n\n        const popup = new MapLibreGL.Popup({\n            offset: 16,\n            ...popupOptions,\n            closeButton: false,\n        })\n            .setMaxWidth(\"none\")\n            .setDOMContent(container)\n            .setLngLat([longitude, latitude])\n            .addTo(map);\n\n        const onCloseProp = () => onClose?.();\n\n        popup.on(\"close\", onCloseProp);\n\n        popupRef.current = popup;\n\n        return () => {\n            popup.off(\"close\", onCloseProp);\n            if (popup.isOpen()) {\n                popup.remove();\n            }\n            popupRef.current = null;\n        };\n    }, [map]);\n\n    useEffect(() => {\n        popupRef.current?.setLngLat([longitude, latitude]);\n    }, [longitude, latitude]);\n\n    useEffect(() => {\n        if (!popupRef.current) return;\n        const prev = popupOptionsRef.current;\n\n        if (prev.offset !== popupOptions.offset) {\n            popupRef.current.setOffset(popupOptions.offset ?? 16);\n        }\n        if (prev.maxWidth !== popupOptions.maxWidth && popupOptions.maxWidth) {\n            popupRef.current.setMaxWidth(popupOptions.maxWidth ?? \"none\");\n        }\n\n        popupOptionsRef.current = popupOptions;\n    }, [popupOptions]);\n\n    const handleClose = () => {\n        popupRef.current?.remove();\n        onClose?.();\n    };\n\n    return createPortal(\n        <div\n            className={cn(\n                \"relative rounded-md border bg-popover p-3 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95\",\n                className\n            )}\n        >\n            {closeButton && (\n                <button\n                    type=\"button\"\n                    onClick={handleClose}\n                    className=\"absolute top-1 right-1 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n                    aria-label=\"Close popup\"\n                >\n                    <X className=\"h-4 w-4\" />\n                    <span className=\"sr-only\">Close</span>\n                </button>\n            )}\n            {children}\n        </div>,\n        container\n    );\n}\n\ntype MapRouteProps = {\n    coordinates: [number, number][];\n    color?: string;\n    width?: number;\n    opacity?: number;\n    dashArray?: [number, number];\n};\n\nfunction MapRoute({\n    coordinates,\n    color = \"#4285F4\",\n    width = 3,\n    opacity = 0.8,\n    dashArray,\n}: MapRouteProps) {\n    const { map, isLoaded } = useMap();\n    const id = useId();\n    const sourceId = `route-source-${id}`;\n    const layerId = `route-layer-${id}`;\n\n    // Add source and layer on mount\n    useEffect(() => {\n        if (!isLoaded || !map) return;\n\n        map.addSource(sourceId, {\n            type: \"geojson\",\n            data: {\n                type: \"Feature\",\n                properties: {},\n                geometry: { type: \"LineString\", coordinates: [] },\n            },\n        });\n\n        map.addLayer({\n            id: layerId,\n            type: \"line\",\n            source: sourceId,\n            layout: { \"line-join\": \"round\", \"line-cap\": \"round\" },\n            paint: {\n                \"line-color\": color,\n                \"line-width\": width,\n                \"line-opacity\": opacity,\n                ...(dashArray && { \"line-dasharray\": dashArray }),\n            },\n        });\n\n        return () => {\n            try {\n                if (map.getLayer(layerId)) map.removeLayer(layerId);\n                if (map.getSource(sourceId)) map.removeSource(sourceId);\n            } catch {\n                // ignore\n            }\n        };\n    }, [isLoaded, map, sourceId, layerId]);\n\n    // When coordinates change, update the source data\n    useEffect(() => {\n        if (!isLoaded || !map || coordinates.length < 2) return;\n\n        const source = map.getSource(sourceId) as MapLibreGL.GeoJSONSource;\n        if (source) {\n            source.setData({\n                type: \"Feature\",\n                properties: {},\n                geometry: { type: \"LineString\", coordinates },\n            });\n        }\n    }, [isLoaded, map, coordinates, sourceId]);\n\n    useEffect(() => {\n        if (!isLoaded || !map || !map.getLayer(layerId)) return;\n\n        map.setPaintProperty(layerId, \"line-color\", color);\n        map.setPaintProperty(layerId, \"line-width\", width);\n        map.setPaintProperty(layerId, \"line-opacity\", opacity);\n        if (dashArray) {\n            map.setPaintProperty(layerId, \"line-dasharray\", dashArray);\n        }\n    }, [isLoaded, map, layerId, color, width, opacity, dashArray]);\n\n    return null;\n}\n\nexport {\n    Map,\n    useMap,\n    MapMarker,\n    MarkerContent,\n    MarkerPopup,\n    MarkerTooltip,\n    MarkerLabel,\n    MapPopup,\n    MapControls,\n    MapRoute,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/CheckoutPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { MapPin, Phone, User, CheckCircle, Loader2, ArrowLeft, ArrowRight, Truck, Crosshair, Mail, Wallet, Banknote, Building2, Search, Info, ShieldCheck, Lock, Plus, Trash2, Home, Smartphone, MessageSquare } from 'lucide-react';\nimport { CartItem, DeliveryEstimate } from '../types';\nimport { api } from '../services/api';\nimport { ShippingCompany, findCompaniesByCity, getAllDestinations, ABIDJAN_AREA, isInAbidjanArea } from '../data/shippingCompanies';\nimport { useRouter } from 'next/navigation';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { getPublicSettings, PublicSettings, defaultSettings, formatPhoneDisplay } from '../services/settings';\n\nimport { Map, MapMarker, MarkerContent, MapControls } from '@/components/ui/map';\nimport { cn } from '@/lib/utils';\n\ninterface CheckoutPageProps {\n    cart: CartItem[];\n    onBack: () => void;\n    onClearCart: () => void;\n}\n\nexport const CheckoutPage: React.FC<CheckoutPageProps> = (props) => {\n    const { cart, onBack, onClearCart } = props;\n    const { isInitialized } = useCart();\n    const { user, addresses, loading: authLoading, refreshAddresses } = useAuth();\n    const router = useRouter();\n\n    // 1. All Refs\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const addressInputRef = useRef<HTMLInputElement>(null);\n    const nameInputRef = useRef<HTMLInputElement>(null);\n    const phoneInputRef = useRef<HTMLInputElement>(null);\n    const cityInputRef = useRef<HTMLInputElement>(null);\n    const searchTimeoutRef = useRef<any>(null);\n\n    // 2. All State\n    const [deliveryMode, setDeliveryMode] = useState<'local' | 'shipping'>('local');\n    const [deliverySpeed, setDeliverySpeed] = useState<'standard' | 'express'>('standard'); // standard = lendemain (1000F), express = jour même (2000F)\n    const [selectedCity, setSelectedCity] = useState<string>('');\n    const [citySearchQuery, setCitySearchQuery] = useState<string>('');\n    const [availableCompanies, setAvailableCompanies] = useState<ShippingCompany[]>([]);\n    const [selectedCompany, setSelectedCompany] = useState<ShippingCompany | null>(null);\n    const [showCitySuggestions, setShowCitySuggestions] = useState(false);\n    const [manualCompany, setManualCompany] = useState('');\n    const [formData, setFormData] = useState({ name: '', phone: '', email: '', addressNote: '', address: '' });\n    const [paymentError, setPaymentError] = useState<string | null>(null);\n    const [validationError, setValidationError] = useState<string | null>(null);\n    const [paymentMethod, setPaymentMethod] = useState<'cash' | 'manual' | 'wave'>('wave');\n    const [manualConfirmed, setManualConfirmed] = useState(false);\n    const [waveLinkSent, setWaveLinkSent] = useState(false);\n    const [location, setLocation] = useState<{ lat: number, lng: number } | null>(null);\n    const [orderPlaced, setOrderPlaced] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isMounted, setIsMounted] = useState(false);\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [saveNewAddress, setSaveNewAddress] = useState(false);\n    const [settings, setSettings] = useState<PublicSettings>(defaultSettings);\n\n    // 3. All Effects\n    useEffect(() => {\n        setIsMounted(true);\n        if (user) {\n            setFormData(prev => ({\n                ...prev,\n                name: user.name || '',\n                phone: user.phone || '',\n                email: user.email || ''\n            }));\n\n            // Auto-select default address\n            const defaultAddr = addresses.find(a => a.is_default);\n            if (defaultAddr && deliveryMode === 'local') {\n                setFormData(prev => ({ ...prev, address: defaultAddr.address_full }));\n                // We'll update map later when markers are ready\n            }\n        }\n    }, [user, addresses, deliveryMode]);\n\n    useEffect(() => {\n        const loadSettings = async () => {\n            const data = await getPublicSettings();\n            setSettings(data);\n        };\n        loadSettings();\n    }, []);\n\n    const updateLocation = async (lat: number, lng: number, fromMapDrag: boolean = false) => {\n        try {\n            if (fromMapDrag) {\n                // Reverse geocode to get address\n                const results = await api.searchPlaces(`${lat},${lng}`);\n                if (results && results.length > 0) {\n                    const address = results[0].display_name;\n                    const addressIsInAbidjan = isInAbidjanArea(address);\n                    if (!addressIsInAbidjan && deliveryMode === 'local') {\n                        // Reset location if out of bounds - mapcn handles this via state synchronization if we don't update local location state\n                        alert('Cette zone n\\'est pas couverte par la livraison locale. Veuillez choisir \"Villes de l\\'Intérieur\" pour les destinations hors Abidjan.');\n                        return;\n                    }\n                    setFormData(prev => ({ ...prev, address }));\n                }\n            }\n            setLocation({ lat, lng });\n        } catch (e) {\n            console.error(e);\n        }\n    };\n\n    useEffect(() => {\n        setIsMounted(true);\n        // Default location\n        if (!location) {\n            setLocation({ lat: 5.3484, lng: -4.0305 });\n        }\n    }, []);\n\n    // 4. Calculations\n    const allDestinations = getAllDestinations();\n    const subTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n    const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);\n\n    // OFFRES CUMULABLES :\n    // 1. Wave = -4% (toujours, quel que soit le nombre de produits)\n    // 2. 2+ produits OU seuil atteint = Livraison gratuite\n\n    const isEligibleForFreeDelivery = totalItems >= 2 || subTotal >= settings.delivery_free_threshold;\n    const isWavePayment = paymentMethod === 'wave';\n\n    // Wave discount (4%) - applies always when Wave is selected\n    const waveDiscountAmount = isWavePayment ? Math.round(subTotal * 0.04 / 10) * 10 : 0;\n\n    // Check if express delivery is available (before 15h)\n    const currentHour = new Date().getHours();\n    const isExpressAvailable = currentHour < 15;\n\n    // Delivery fee calculation:\n    // - Shipping mode (interior cities): 0 (customer pays transport company)\n    // - Local mode with eligibility: FREE\n    // - Local mode without eligibility: Standard (dynamic) or Express (dynamic + premium)\n    const standardFee = settings.delivery_local_fee;\n    const expressFee = Math.round(standardFee * 1.5 / 100) * 100; // 50% premium for express, rounded\n    const baseDeliveryFee = deliverySpeed === 'express' ? expressFee : standardFee;\n    const deliveryFee = deliveryMode === 'shipping' ? 0 : (isEligibleForFreeDelivery ? 0 : baseDeliveryFee);\n\n    // Total = Sous-total + Livraison - Réduction Wave\n    const total = Math.round(subTotal + deliveryFee - waveDiscountAmount);\n\n    const filteredCities = citySearchQuery.length > 0\n        ? allDestinations.filter(city => city.toLowerCase().includes(citySearchQuery.toLowerCase()))\n        : allDestinations;\n\n    // 5. Early Returns (MUST be after ALL hooks)\n    // IMPORTANT: No hooks are allowed below this point\n    if (!isMounted || !isInitialized || authLoading) {\n        return (\n            <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <Loader2 className=\"w-8 h-8 text-slate-400 animate-spin\" />\n                    <p className=\"text-slate-400 font-medium text-sm\">Chargement...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!user) {\n        return (\n            <div className=\"min-h-screen bg-white flex flex-col items-center justify-center p-6 text-center\">\n                <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-8 border border-slate-100\">\n                    <Lock className=\"w-10 h-10 text-slate-900\" />\n                </div>\n                <h2 className=\"text-3xl font-black text-slate-900 mb-3 tracking-tight\">Connexion requise</h2>\n                <p className=\"text-slate-500 mb-8 max-w-sm font-medium\">\n                    Pour valider votre commande et suivre sa livraison, vous devez être connecté à votre compte.\n                </p>\n                <div className=\"flex flex-col gap-4 w-full max-w-xs\">\n                    <button\n                        onClick={() => router.push('/login?redirect=/panier')}\n                        className=\"w-full bg-slate-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-slate-700 transition-all shadow-lg shadow-slate-900/20\"\n                    >\n                        Se connecter ou s'inscrire\n                    </button>\n                    <button\n                        onClick={onBack}\n                        className=\"w-full bg-white text-slate-600 px-8 py-4 rounded-xl font-bold border border-slate-200 hover:bg-slate-50 transition-all\"\n                    >\n                        Retour\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (cart.length === 0 && !orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-white flex flex-col items-center justify-center p-4\">\n                <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-6 border border-slate-100\">\n                    <Truck className=\"w-10 h-10 text-slate-200\" />\n                </div>\n                <h2 className=\"text-2xl font-bold text-slate-900 mb-2\">Votre panier est vide</h2>\n                <p className=\"text-slate-500 mb-8 text-center max-w-sm\">\n                    Il semble que vous n'ayez pas encore ajouté de produits à votre panier. Prolongez votre vitalité en découvrant nos solutions.\n                </p>\n                <button\n                    onClick={onBack}\n                    className=\"flex items-center gap-2 bg-slate-900 text-white px-8 py-3.5 rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10\"\n                >\n                    <ArrowLeft className=\"w-5 h-5\" />\n                    Retour à la boutique\n                </button>\n            </div>\n        );\n    }\n\n    // 6. Event Handlers\n    const handleCitySelect = (city: string) => {\n        setSelectedCity(city);\n        setCitySearchQuery(city);\n        setShowCitySuggestions(false);\n        const companies = findCompaniesByCity(city);\n        setAvailableCompanies(companies);\n        setSelectedCompany(companies.length > 0 ? companies[0] : null);\n    };\n\n    const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const query = e.target.value;\n        setFormData({ ...formData, address: query });\n        if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n        if (query.length < 3) {\n            setSuggestions([]);\n            setShowSuggestions(false);\n            return;\n        }\n        searchTimeoutRef.current = setTimeout(async () => {\n            try {\n                const results = await api.searchPlaces(query);\n                const filteredResults = results.filter((place: any) => {\n                    if (deliveryMode === 'local') {\n                        const combinedAddress = `${place.display_name} ${place.address?.city || ''} ${place.address?.state || ''} ${place.address?.suburb || ''}`;\n                        return isInAbidjanArea(combinedAddress);\n                    }\n                    return true;\n                });\n                setSuggestions(filteredResults);\n                setShowSuggestions(true);\n            } catch (err) {\n                console.error(err);\n            }\n        }, 300);\n    };\n\n    const handleSuggestionClick = (place: any) => {\n        const lat = parseFloat(place.lat);\n        const lon = parseFloat(place.lon);\n        const address = place.display_name;\n        setFormData({ ...formData, address });\n        setShowSuggestions(false);\n        setLocation({ lat, lng: lon });\n    };\n\n    const handleGeolocation = () => {\n        if (!navigator.geolocation) {\n            alert(\"La géolocalisation n'est pas supportée par votre navigateur.\");\n            return;\n        }\n        navigator.geolocation.getCurrentPosition(async (position) => {\n            const { latitude, longitude } = position.coords;\n            try {\n                const results = await api.searchPlaces(`${latitude},${longitude}`);\n                if (results && results.length > 0) {\n                    const address = results[0].display_name;\n                    if (!isInAbidjanArea(address)) {\n                        alert(\"Votre position actuelle semble être hors de la zone d'Abidjan. Veuillez choisir 'Villes de l'Intérieur'.\");\n                        return;\n                    }\n                }\n                setLocation({ lat: latitude, lng: longitude });\n            } catch (err) {\n                console.error(\"Geocoding current position failed:\", err);\n            }\n        }, (error) => {\n            console.error(\"Geolocation error:\", error);\n            alert(\"Impossible de récupérer votre position.\");\n        });\n    };\n\n    const handleAddressBlur = () => {\n        setTimeout(() => setShowSuggestions(false), 200);\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setPaymentError(null);\n        setValidationError(null);\n        if (!formData.name.trim()) {\n            setValidationError(\"Veuillez entrer votre nom complet.\");\n            nameInputRef.current?.focus();\n            return;\n        }\n        if (!formData.phone.trim() || formData.phone.length < 8) {\n            setValidationError(\"Veuillez entrer un numéro de téléphone valide.\");\n            phoneInputRef.current?.focus();\n            return;\n        }\n        if (deliveryMode === 'local') {\n            if (!formData.address.trim() || !location) {\n                setValidationError(\"Veuillez sélectionner votre lieu de livraison sur la carte.\");\n                addressInputRef.current?.focus();\n                return;\n            }\n        } else {\n            if (!selectedCity) {\n                setValidationError(\"Veuillez sélectionner une ville de destination.\");\n                return;\n            }\n            if (availableCompanies.length > 0 && !selectedCompany && !manualCompany.trim()) {\n                setValidationError(\"Veuillez sélectionner une compagnie de transport.\");\n                return;\n            }\n            if (availableCompanies.length === 0 && !manualCompany.trim()) {\n                setValidationError(\"Veuillez préciser la compagnie de transport souhaitée.\");\n                return;\n            }\n        }\n        setIsSubmitting(true);\n        try {\n            const paymentData = {\n                cart,\n                customer: {\n                    name: formData.name,\n                    phone: formData.phone,\n                    email: formData.email\n                },\n                delivery: {\n                    address: deliveryMode === 'local' ? formData.address : `${selectedCity} (Via ${manualCompany || selectedCompany?.name})`,\n                    lat: location?.lat || 0,\n                    lon: location?.lng || 0,\n                    fee: deliveryFee,\n                    addressNote: formData.addressNote,\n                    shippingCompany: deliveryMode === 'shipping' ? (manualCompany || selectedCompany?.name) : undefined,\n                    shippingCity: deliveryMode === 'shipping' ? selectedCity : undefined\n                },\n                paymentMethod,\n                deliveryMode\n            };\n\n            const response = await api.initiatePayment(paymentData);\n\n            // If saveNewAddress is checked, add it to user's profile\n            if (saveNewAddress && user && location) {\n                try {\n                    await api.addAddress(user.id, {\n                        label: `Livraison - ${new Date().toLocaleDateString('fr-FR')}`,\n                        address_full: formData.address,\n                        lat: location.lat,\n                        lon: location.lng,\n                        is_default: addresses.length === 0\n                    });\n                    await refreshAddresses();\n                } catch (e) {\n                    console.error(\"Failed to save address from checkout:\", e);\n                }\n            }\n\n            if (paymentMethod === 'manual' || paymentMethod === 'wave') {\n                router.push(`/payment/${response.orderId}`);\n                onClearCart();\n            } else {\n                setOrderPlaced(true);\n                onClearCart();\n            }\n        } catch (err: any) {\n            console.error(err);\n            setPaymentError(err.message || \"Une erreur est survenue lors de la commande.\");\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleWhatsApp = () => {\n        const message = `Bonjour Santé Vitalité, je souhaite passer une commande : \\n\\n${cart.map(item => `- ${item.name} x${item.quantity}`).join('\\n')}\\n\\nTotal: ${total.toLocaleString()} F`;\n        const whatsappNumber = settings.contact_whatsapp.replace(/\\+/g, '');\n        window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`, '_blank');\n    };\n\n    const highlightText = (text: string, term: string) => {\n        if (!term) return text;\n        const parts = text.split(new RegExp(`(${term})`, 'gi'));\n        return (\n            <span>\n                {parts.map((part, i) => (\n                    <span key={i} className={part.toLowerCase() === term.toLowerCase() ? 'bg-amber-100 text-amber-900 font-bold' : ''}>\n                        {part}\n                    </span>\n                ))}\n            </span>\n        );\n    };\n\n    if (orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4\">\n                <div className=\"bg-white p-8 md:p-12 rounded-3xl border border-slate-200 shadow-sm text-center max-w-md w-full\">\n                    <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-8 border border-slate-100\">\n                        <CheckCircle className=\"w-10 h-10 text-slate-900\" />\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-slate-900 mb-3 tracking-tight\">Commande Reçue !</h2>\n                    <p className=\"text-slate-500 mb-8 leading-relaxed\">\n                        Merci <span className=\"text-slate-900 font-semibold\">{formData.name}</span>. Nous vous contacterons au <span className=\"text-slate-900 font-semibold\">{formData.phone}</span> pour confirmer la livraison.\n                    </p>\n                    <div className=\"space-y-3\">\n                        <button\n                            onClick={onBack}\n                            className=\"w-full bg-slate-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10 flex items-center justify-center gap-2 group\"\n                        >\n                            Retour à la boutique\n                            <ArrowRight className=\"w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                        </button>\n                        <button\n                            onClick={handleWhatsApp}\n                            className=\"w-full bg-white text-slate-600 px-8 py-4 rounded-xl font-bold border border-slate-200 hover:bg-slate-50 transition-all flex items-center justify-center gap-2\"\n                        >\n                            Suivre sur WhatsApp\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-slate-50\">\n            {/* Header */}\n            <div className=\"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-4 md:py-6 md:px-8\">\n                <div className=\"max-w-7xl mx-auto flex items-center gap-4 md:gap-6\">\n                    <button onClick={onBack} className=\"p-2 md:p-3 hover:bg-slate-50 rounded-full transition-colors group flex-shrink-0 border border-slate-100\">\n                        <ArrowLeft className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform text-slate-600\" />\n                    </button>\n                    <div className=\"min-w-0\">\n                        <h1 className=\"text-lg md:text-2xl font-bold tracking-tight text-slate-900 truncate\">Finaliser la commande</h1>\n                        <p className=\"text-[9px] md:text-[10px] uppercase tracking-[0.15em] text-slate-900 font-bold mt-0.5 hidden sm:block\">Étape finale — Paiement Sécurisé</p>\n                    </div>\n                    <div className=\"ml-auto flex items-center gap-2 text-slate-400\">\n                        <ShieldCheck className=\"w-5 h-5\" />\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest hidden sm:block\">SSL Secure</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"max-w-7xl mx-auto px-4 py-6 md:px-8 md:py-12\">\n                <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-12 items-start\">\n                    {/* Main Content */}\n                    <form onSubmit={handleSubmit} className=\"lg:col-span-7 space-y-8\">\n\n                        {/* Delivery Method Selection */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm\">\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2\">\n                                <Truck className=\"w-5 h-5 text-slate-400\" />\n                                Mode de Livraison\n                            </h3>\n\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setDeliveryMode('local')}\n                                    className={`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 text-center ${deliveryMode === 'local'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-200 bg-slate-50 text-slate-900 hover:border-slate-300'\n                                        }`}\n                                >\n                                    <MapPin className=\"w-6 h-6\" />\n                                    <span className=\"text-sm font-bold\">Abidjan & Environs</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setDeliveryMode('shipping')}\n                                    className={`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 text-center ${deliveryMode === 'shipping'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-200 bg-slate-50 text-slate-900 hover:border-slate-300'\n                                        }`}\n                                >\n                                    <Building2 className=\"w-6 h-6\" />\n                                    <span className=\"text-sm font-bold\">Villes de l'Intérieur</span>\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Local Delivery UI */}\n                        {deliveryMode === 'local' && (\n                            <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                                <div className=\"space-y-6\">\n                                    {/* Saved Addresses */}\n                                    {addresses.length > 0 && (\n                                        <div className=\"space-y-3\">\n                                            <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Mes adresses enregistrées</label>\n                                            <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                                                {addresses.map((addr) => (\n                                                    <button\n                                                        key={addr.id}\n                                                        type=\"button\"\n                                                        onClick={() => {\n                                                            setFormData({ ...formData, address: addr.address_full });\n                                                            if (markerRef.current && mapRef.current) {\n                                                                markerRef.current.setLatLng([addr.lat, addr.lon]);\n                                                                mapRef.current.setView([addr.lat, addr.lon], 16);\n                                                                updateLocation(addr.lat, addr.lon);\n                                                            }\n                                                        }}\n                                                        className={cn(\n                                                            \"flex-shrink-0 px-4 py-3 rounded-2xl border-2 transition-all flex items-center gap-3\",\n                                                            formData.address === addr.address_full\n                                                                ? \"border-slate-900 bg-slate-50 text-slate-900\"\n                                                                : \"border-slate-100 bg-white text-slate-600 hover:border-slate-200\"\n                                                        )}\n                                                    >\n                                                        <Home className=\"w-4 h-4\" />\n                                                        <div className=\"text-left\">\n                                                            <p className=\"text-xs font-black\">{addr.label}</p>\n                                                            <p className=\"text-[10px] opacity-60 font-medium truncate max-w-[100px]\">{addr.address_full}</p>\n                                                        </div>\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    )}\n\n                                    {/* Address Input */}\n                                    <div className=\"space-y-2\">\n                                        <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Lieu de livraison</label>\n                                        <div className=\"relative group\">\n                                            <input\n                                                ref={addressInputRef}\n                                                type=\"text\"\n                                                value={formData.address}\n                                                onChange={handleAddressChange}\n                                                onBlur={handleAddressBlur}\n                                                placeholder=\"Saisissez votre quartier ou repère...\"\n                                                className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2\"\n                                            />\n                                            <MapPin className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n\n                                            {/* Geolocation Button */}\n                                            <button\n                                                type=\"button\"\n                                                onClick={handleGeolocation}\n                                                className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 hover:bg-white rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-transparent hover:border-slate-100\"\n                                                title=\"Ma position actuelle\"\n                                            >\n                                                <Crosshair className=\"w-5 h-5\" />\n                                            </button>\n\n                                            {/* Suggestions Dropdown */}\n                                            {showSuggestions && suggestions.length > 0 && (\n                                                <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-2xl shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                                                    {suggestions.map((place, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => handleSuggestionClick(place)}\n                                                            className=\"w-full p-4 text-left hover:bg-slate-50 flex items-start gap-3 transition-colors border-b border-slate-50 last:border-0\"\n                                                        >\n                                                            <MapPin className=\"w-4 h-4 text-slate-300 mt-1 flex-shrink-0\" />\n                                                            <div>\n                                                                <p className=\"text-sm text-slate-900 font-medium\">\n                                                                    {highlightText(place.display_name, formData.address)}\n                                                                </p>\n                                                            </div>\n                                                        </button>\n                                                    ))}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    {/* Map Container */}\n                                    <div className=\"relative rounded-2xl overflow-hidden border-2 border-slate-100 group shadow-inner bg-slate-100 h-64 sm:h-80\">\n                                        <Map\n                                            center={location ? [location.lng, location.lat] : [-4.0305, 5.3484]}\n                                            zoom={12}\n                                            onClick={(e) => {\n                                                const { lng, lat } = e.lngLat;\n                                                updateLocation(lat, lng, true);\n                                            }}\n                                        >\n                                            <MapControls showLocate showZoom onLocate={(c) => updateLocation(c.latitude, c.longitude, true)} />\n                                            {location && (\n                                                <MapMarker\n                                                    longitude={location.lng}\n                                                    latitude={location.lat}\n                                                    draggable\n                                                    onDragEnd={(c) => updateLocation(c.lat, c.lng, true)}\n                                                >\n                                                    <MarkerContent>\n                                                        <div className=\"w-10 h-10 bg-black rounded-full border-4 border-white shadow-xl flex items-center justify-center animate-in zoom-in duration-300\">\n                                                            <div className=\"w-2 h-2 bg-white rounded-full\"></div>\n                                                        </div>\n                                                    </MarkerContent>\n                                                </MapMarker>\n                                            )}\n                                        </Map>\n                                        <div className=\"absolute top-4 left-4 right-4 pointer-events-none z-10\">\n                                            <div className=\"bg-white/90 backdrop-blur-md px-4 py-2 rounded-full border border-slate-200/50 shadow-sm inline-flex items-center gap-2\">\n                                                <Info className=\"w-3.5 h-3.5 text-slate-400\" />\n                                                <span className=\"text-[10px] font-bold text-slate-600 uppercase tracking-tight\">Déplacez le marqueur pour ajuster</span>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {user && (\n                                        <div className=\"flex items-center gap-3 px-2 py-3 bg-slate-50 rounded-2xl border border-dashed border-slate-200\">\n                                            <input\n                                                type=\"checkbox\"\n                                                id=\"save-address\"\n                                                checked={saveNewAddress}\n                                                onChange={(e) => setSaveNewAddress(e.target.checked)}\n                                                className=\"w-5 h-5 rounded-lg border-slate-300 text-slate-900 focus:ring-slate-900 cursor-pointer\"\n                                            />\n                                            <label htmlFor=\"save-address\" className=\"text-[10px] font-black text-slate-500 uppercase tracking-[0.1em] cursor-pointer\">\n                                                Sauvegarder cette adresse dans mon profil pour plus tard\n                                            </label>\n                                        </div>\n                                    )}\n\n                                    {/* Delivery Speed Selection */}\n                                    {!isEligibleForFreeDelivery && (\n                                        <div className=\"bg-slate-50 rounded-2xl p-4 md:p-6 border border-slate-100 space-y-4\">\n                                            <div className=\"flex items-center gap-2 text-slate-900 text-[10px] font-bold uppercase tracking-widest\">\n                                                <Truck className=\"w-3.5 h-3.5\" />\n                                                Choisir la vitesse de livraison\n                                            </div>\n\n                                            <div className=\"grid grid-cols-2 gap-3\">\n                                                {/* Standard - Next Day */}\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => setDeliverySpeed('standard')}\n                                                    className={`p-4 rounded-xl border-2 transition-all text-left ${deliverySpeed === 'standard'\n                                                        ? 'border-slate-900 bg-slate-900 text-white'\n                                                        : 'border-slate-200 bg-white text-slate-900 hover:border-slate-300'\n                                                        }`}\n                                                >\n                                                    <div className=\"text-lg font-bold\">{standardFee.toLocaleString()} F</div>\n                                                    <div className={`text-[10px] uppercase font-bold tracking-wide ${deliverySpeed === 'standard' ? 'text-slate-300' : 'text-slate-500'}`}>\n                                                        Livraison Lendemain\n                                                    </div>\n                                                </button>\n\n                                                {/* Express - Same Day (if before 15h) */}\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => isExpressAvailable && setDeliverySpeed('express')}\n                                                    disabled={!isExpressAvailable}\n                                                    className={`p-4 rounded-xl border-2 transition-all text-left ${!isExpressAvailable\n                                                        ? 'border-slate-100 bg-slate-50 text-slate-300 cursor-not-allowed'\n                                                        : deliverySpeed === 'express'\n                                                            ? 'border-slate-900 bg-slate-900 text-white'\n                                                            : 'border-slate-200 bg-white text-slate-900 hover:border-slate-300'\n                                                        }`}\n                                                >\n                                                    <div className=\"text-lg font-bold\">{expressFee.toLocaleString()} F</div>\n                                                    <div className={`text-[10px] uppercase font-bold tracking-wide ${!isExpressAvailable ? 'text-slate-300' : deliverySpeed === 'express' ? 'text-slate-300' : 'text-slate-500'\n                                                        }`}>\n                                                        Jour Même {!isExpressAvailable && '(après 15h)'}\n                                                    </div>\n                                                </button>\n                                            </div>\n\n                                            {!isExpressAvailable && (\n                                                <p className=\"text-[10px] text-slate-400 italic text-center\">\n                                                    La livraison jour même est disponible uniquement avant 15h.\n                                                </p>\n                                            )}\n                                        </div>\n                                    )}\n\n                                    {/* Free Delivery Message */}\n                                    {isEligibleForFreeDelivery && (\n                                        <div className=\"bg-green-50 rounded-2xl p-4 border border-green-100 flex items-center gap-3\">\n                                            <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                                                <Truck className=\"w-5 h-5 text-green-600\" />\n                                            </div>\n                                            <div>\n                                                <div className=\"text-sm font-bold text-green-800\">Livraison Gratuite !</div>\n                                                <div className=\"text-[10px] text-green-600 uppercase font-bold tracking-wide\">\n                                                    {totalItems >= 2 ? 'Offerte dès 2 produits' : `Offerte dès ${settings.delivery_free_threshold.toLocaleString()} F d'achat`}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n\n                        {/* Shipping Mode UI */}\n                        {deliveryMode === 'shipping' && (\n                            <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8 text-slate-900\">\n                                {/* City Selection */}\n                                <div className=\"space-y-4\">\n                                    <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Ville de destination</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            type=\"text\"\n                                            value={citySearchQuery}\n                                            onChange={(e) => {\n                                                setCitySearchQuery(e.target.value);\n                                                setShowCitySuggestions(true);\n                                                setSelectedCity('');\n                                            }}\n                                            onFocus={() => setShowCitySuggestions(true)}\n                                            placeholder=\"Cherchez votre ville (ex: Bouaké, Korhogo...)\"\n                                            className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2\"\n                                        />\n                                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n\n                                        {showCitySuggestions && (\n                                            <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto scrollbar-thin\">\n                                                {filteredCities.length > 0 ? (\n                                                    filteredCities.map((city, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => handleCitySelect(city)}\n                                                            className=\"w-full p-4 text-left hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 font-medium\"\n                                                        >\n                                                            {highlightText(city, citySearchQuery)}\n                                                        </button>\n                                                    ))\n                                                ) : (\n                                                    <div className=\"p-4 text-center text-slate-400 text-sm italic\">Aucune ville trouvée</div>\n                                                )}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Transport Company Selection */}\n                                {selectedCity ? (\n                                    <div className=\"space-y-6 animate-in fade-in slide-in-from-top-4 duration-500\">\n                                        <div className=\"space-y-4\">\n                                            <label className=\"text-xs font-bold uppercase tracking-widest text-slate-900 ml-1\">Compagnie de transport préférée</label>\n\n                                            {availableCompanies.length > 0 ? (\n                                                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                                                    {availableCompanies.map((company, idx) => (\n                                                        <button\n                                                            key={idx}\n                                                            type=\"button\"\n                                                            onClick={() => {\n                                                                setSelectedCompany(company);\n                                                                setManualCompany('');\n                                                            }}\n                                                            className={`p-4 rounded-2xl border-2 text-left transition-all flex flex-col gap-1 items-start group ${selectedCompany?.name === company.name\n                                                                ? 'border-slate-900 bg-slate-900 text-white shadow-lg'\n                                                                : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                                                }`}\n                                                        >\n                                                            <span className=\"font-bold\">{company.name}</span>\n                                                            <div className={`text-[10px] uppercase tracking-wider font-bold ${selectedCompany?.name === company.name ? 'text-white' : 'text-slate-900'\n                                                                }`}>{company.hub_principal}</div>\n                                                        </button>\n                                                    ))}\n\n                                                    {/* Other Option */}\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() => {\n                                                            setSelectedCompany(null);\n                                                            setManualCompany('');\n                                                        }}\n                                                        className={`p-4 rounded-2xl border-2 text-left transition-all flex flex-col gap-1 items-start ${!selectedCompany && manualCompany === ''\n                                                            ? 'border-slate-900 bg-slate-900 text-white'\n                                                            : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                                            }`}\n                                                    >\n                                                        <span className=\"font-extrabold\">Autre compagnie</span>\n                                                        <div className=\"text-[10px] uppercase tracking-wider opacity-60 font-bold\">Précisez votre choix</div>\n                                                    </button>\n                                                </div>\n                                            ) : (\n                                                <div className=\"bg-slate-50 p-6 rounded-2xl border border-slate-100 text-center\">\n                                                    <p className=\"text-sm text-slate-500 font-medium\">Nous n'avons pas de compagnie suggérée pour cette ville.</p>\n                                                    <p className=\"text-[10px] text-slate-400 uppercase font-bold mt-1\">Veuillez préciser votre compagnie ci-dessous</p>\n                                                </div>\n                                            )}\n                                        </div>\n\n                                        {/* Manual Entry or Other selected */}\n                                        {(!selectedCompany || availableCompanies.length === 0) && (\n                                            <div className=\"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                                <div className=\"relative\">\n                                                    <input\n                                                        type=\"text\"\n                                                        value={manualCompany}\n                                                        onChange={(e) => setManualCompany(e.target.value)}\n                                                        placeholder=\"Ex: AVS, Sala Transport, UTB...\"\n                                                        className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-bold\"\n                                                    />\n                                                    <Building2 className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900\" />\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        {/* Info Box */}\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex gap-4\">\n                                            <div className=\"bg-white p-2.5 rounded-xl border border-slate-100 h-fit\">\n                                                <Info className=\"w-5 h-5 text-slate-400 font-bold\" />\n                                            </div>\n                                            <div className=\"space-y-1\">\n                                                <p className=\"text-xs font-bold text-slate-900 uppercase tracking-tight\">À propos des frais</p>\n                                                <p className=\"text-sm text-slate-500 leading-relaxed font-medium\">Pour l'intérieur, vous réglez les frais de colis directement auprès de la compagnie à la réception.</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"p-12 text-center text-slate-400 space-y-4 bg-slate-50/50 rounded-3xl border border-dashed border-slate-200\">\n                                        <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto border border-slate-100\">\n                                            <Search className=\"w-8 h-8 opacity-20\" />\n                                        </div>\n                                        <p className=\"text-sm font-medium\">En attente du choix de votre ville...</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Contact Form */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n                            <h3 className=\"text-lg font-bold text-slate-900 flex items-center gap-2\">\n                                <User className=\"w-5 h-5 text-slate-400\" />\n                                Informations de Contact\n                            </h3>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-900 ml-1\">Nom complet *</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            ref={nameInputRef}\n                                            type=\"text\"\n                                            value={formData.name}\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                                            placeholder=\"Jean Kouassi\"\n                                            className=\"w-full bg-slate-50 border-slate-200 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-500 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                        />\n                                        <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-900 group-focus-within:text-slate-900 transition-colors\" />\n                                    </div>\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Téléphone *</label>\n                                    <div className=\"relative group\">\n                                        <input\n                                            ref={phoneInputRef}\n                                            type=\"tel\"\n                                            value={formData.phone}\n                                            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                                            placeholder=\"07 00 00 00 00\"\n                                            className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                        />\n                                        <Phone className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 group-focus-within:text-slate-900 transition-colors\" />\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Email (Optionnel)</label>\n                                <div className=\"relative group\">\n                                    <input\n                                        type=\"email\"\n                                        value={formData.email}\n                                        onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                                        placeholder=\"jean.kouassi@email.com\"\n                                        className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 pl-12 pr-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 font-medium\"\n                                    />\n                                    <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 group-focus-within:text-slate-900 transition-colors\" />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1\">Notes de livraison (Ex: Porte 3, Bâtiment B...)</label>\n                                <textarea\n                                    value={formData.addressNote}\n                                    onChange={(e) => setFormData({ ...formData, addressNote: e.target.value })}\n                                    className=\"w-full bg-slate-50 border-slate-100 rounded-2xl py-4 px-4 text-slate-900 placeholder:text-slate-300 focus:bg-white focus:ring-0 focus:border-slate-900 transition-all outline-none border-2 min-h-[100px] resize-none font-medium\"\n                                    placeholder=\"Indications précises pour le livreur...\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Payment Method Selector */}\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n                            <h3 className=\"text-lg font-bold text-slate-900 flex items-center gap-2\">\n                                <Wallet className=\"w-5 h-5 text-slate-400\" />\n                                Méthode de Paiement\n                            </h3>\n\n                            <div className=\"space-y-3\">\n\n                                {/* Wave Payment - Recommended option */}\n                                <label\n                                    className={`group relative p-5 rounded-2xl border-2 transition-all duration-300 flex flex-col cursor-pointer ${paymentMethod === 'wave'\n                                        ? 'border-blue-600 bg-gradient-to-br from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-600/20'\n                                        : 'border-slate-100 bg-slate-50 hover:border-blue-200 text-slate-900'\n                                        }`}\n                                >\n                                    <input\n                                        type=\"radio\"\n                                        name=\"payment\"\n                                        value=\"wave\"\n                                        checked={paymentMethod === 'wave'}\n                                        onChange={() => setPaymentMethod('wave')}\n                                        className=\"hidden\"\n                                    />\n                                    <div className=\"flex items-center justify-between w-full\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`p-2.5 rounded-xl border transition-colors ${paymentMethod === 'wave' ? 'bg-white/20 border-white/30' : 'bg-[#1DC1EC]/10 border-[#1DC1EC]/20'}`}>\n                                                <div className=\"w-6 h-6 rounded-full bg-[#1DC1EC] flex items-center justify-center text-white font-bold text-xs\">W</div>\n                                            </div>\n                                            <div>\n                                                <span className=\"block font-bold flex items-center gap-2\">\n                                                    Wave\n                                                    {totalItems >= 2 && (\n                                                        <span className={`text-[9px] px-2 py-0.5 rounded-full font-bold ${paymentMethod === 'wave' ? 'bg-white/20 text-white' : 'bg-[#1DC1EC]/20 text-[#1DC1EC]'}`}>-4%</span>\n                                                    )}\n                                                </span>\n                                                <span className={`text-[10px] uppercase font-bold tracking-tight opacity-80 ${paymentMethod === 'wave' ? 'text-blue-100' : 'text-slate-400'}`}>\n                                                    methode recommander\n                                                </span>\n                                            </div>\n                                        </div>\n                                        {paymentMethod === 'wave' && (\n                                            <div className=\"bg-white text-blue-600 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-sm\">Actif</div>\n                                        )}\n                                    </div>\n                                </label>\n\n                                {/* Cash on delivery - Secondary option */}\n                                <label\n                                    className={`group p-5 rounded-2xl border-2 transition-all duration-300 flex items-center justify-between ${deliveryMode === 'shipping'\n                                        ? 'border-slate-50 bg-slate-50 text-slate-200 cursor-not-allowed'\n                                        : paymentMethod === 'cash'\n                                            ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                            : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900 cursor-pointer'\n                                        }`}\n                                >\n                                    <input\n                                        type=\"radio\"\n                                        name=\"payment\"\n                                        value=\"cash\"\n                                        disabled={deliveryMode === 'shipping'}\n                                        checked={paymentMethod === 'cash'}\n                                        onChange={() => setPaymentMethod('cash')}\n                                        className=\"hidden\"\n                                    />\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className={`p-2.5 rounded-xl border transition-colors ${paymentMethod === 'cash' ? 'bg-white/10 border-white/20' : 'bg-white border-slate-100'}`}>\n                                            <Banknote className={`w-6 h-6 ${paymentMethod === 'cash' ? 'text-white' : 'text-slate-400'}`} />\n                                        </div>\n                                        <div>\n                                            <span className=\"block font-bold\">Paiement à la livraison</span>\n                                            <span className={`text-[10px] uppercase font-bold tracking-tight opacity-60 ${paymentMethod === 'cash' ? 'text-slate-300' : 'text-slate-400'}`}>\n                                                {deliveryMode === 'shipping' ? 'Indisponible pour l\\'intérieur' : 'Payez cash à la réception'}\n                                            </span>\n                                        </div>\n                                    </div>\n                                    {paymentMethod === 'cash' && deliveryMode !== 'shipping' && (\n                                        <div className=\"bg-white text-slate-900 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-sm\">Actif</div>\n                                    )}\n                                </label>\n\n                                {/* Manual Mobile Money - New option */}\n                                <label\n                                    className={`group relative p-5 rounded-2xl border-2 transition-all duration-300 flex flex-col cursor-pointer ${paymentMethod === 'manual'\n                                        ? 'border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10'\n                                        : 'border-slate-100 bg-slate-50 hover:border-slate-200 text-slate-900'\n                                        }`}\n                                >\n                                    <input\n                                        type=\"radio\"\n                                        name=\"payment\"\n                                        value=\"manual\"\n                                        checked={paymentMethod === 'manual'}\n                                        onChange={() => setPaymentMethod('manual')}\n                                        className=\"hidden\"\n                                    />\n                                    <div className=\"flex items-center justify-between w-full\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`p-2.5 rounded-xl border transition-colors ${paymentMethod === 'manual' ? 'bg-white/10 border-white/20' : 'bg-white border-slate-100'}`}>\n                                                <Phone className={`w-6 h-6 ${paymentMethod === 'manual' ? 'text-white' : 'text-slate-400'}`} />\n                                            </div>\n                                            <div>\n                                                <span className=\"block font-bold\">Transfert Mobile Money (Manuel)</span>\n                                                <span className={`text-[10px] uppercase font-bold tracking-tight opacity-60 ${paymentMethod === 'manual' ? 'text-slate-300' : 'text-slate-400'}`}>MTN / ORANGE / MOOV</span>\n                                            </div>\n                                        </div>\n                                        {paymentMethod === 'manual' && (\n                                            <div className=\"bg-white text-slate-900 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-sm\">Actif</div>\n                                        )}\n                                    </div>\n\n                                    {paymentMethod === 'manual' && (\n                                        <div className=\"mt-6 pt-6 border-t border-white/10 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                            {/* Wave incentive - clickable to switch */}\n                                            <button\n                                                type=\"button\"\n                                                onClick={(e) => {\n                                                    e.preventDefault();\n                                                    e.stopPropagation();\n                                                    setPaymentMethod('wave');\n                                                }}\n                                                className=\"w-full bg-[#1DC1EC]/20 p-4 rounded-2xl border border-[#1DC1EC]/30 flex items-center gap-3 hover:bg-[#1DC1EC]/30 transition-all cursor-pointer group\"\n                                            >\n                                                <div className=\"w-8 h-8 rounded-full bg-[#1DC1EC] flex items-center justify-center text-white font-bold text-xs flex-shrink-0 group-hover:scale-110 transition-transform\">W</div>\n                                                <p className=\"text-xs text-white font-medium text-left\">\n                                                    💡 Payez avec <span className=\"font-bold\">Wave</span> et économisez <span className=\"font-bold text-[#1DC1EC]\">4%</span> soit <span className=\"font-bold text-[#1DC1EC]\">{Math.round(subTotal * 0.04 / 10) * 10} F</span> !\n                                                </p>\n                                                <ArrowRight className=\"w-4 h-4 text-[#1DC1EC] ml-auto group-hover:translate-x-1 transition-transform\" />\n                                            </button>\n                                        </div>\n                                    )}\n                                </label>\n                            </div>\n\n                            {paymentError && (\n                                <div className=\"p-4 bg-slate-50 border border-slate-100 rounded-2xl text-slate-900 text-sm font-bold flex items-center gap-3 animate-shake\">\n                                    <div className=\"bg-white p-1.5 rounded-lg border border-slate-100\">\n                                        <Info className=\"w-4 h-4 text-slate-400\" />\n                                    </div>\n                                    {paymentError}\n                                </div>\n                            )}\n\n                            {validationError && (\n                                <div className=\"p-4 bg-slate-50 border border-slate-100 rounded-2xl text-slate-900 text-sm font-bold flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                    <div className=\"bg-white p-1.5 rounded-lg border border-slate-100\">\n                                        <Info className=\"w-4 h-4 text-slate-400 font-bold\" />\n                                    </div>\n                                    {validationError}\n                                </div>\n                            )}\n                        </div>\n                    </form>\n\n                    {/* Order Summary Sidebar */}\n                    <div className=\"lg:col-span-5 sticky top-28 space-y-6\">\n                        <div className=\"bg-white/98 backdrop-blur-xl p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                            <div className=\"flex items-center justify-between mb-6\">\n                                <h3 className=\"text-xl font-bold tracking-tight text-slate-900\">Récapitulatif</h3>\n                                <div className=\"bg-slate-50 border border-slate-100 text-slate-400 px-3 py-1 rounded-xl text-[10px] font-bold uppercase tracking-widest\">{totalItems} Article{totalItems > 1 ? 's' : ''}</div>\n                            </div>\n\n                            {/* Wave Promo Banner - Always visible when 2+ items */}\n                            {totalItems >= 2 && (\n                                <div className={`p-4 rounded-2xl mb-6 flex items-center gap-4 transition-all ${paymentMethod === 'wave'\n                                    ? 'bg-gradient-to-r from-[#1DC1EC] to-[#0BA8D0] text-white'\n                                    : 'bg-gradient-to-r from-[#1DC1EC]/10 to-[#1DC1EC]/5 border border-[#1DC1EC]/30'\n                                    }`}>\n                                    <div className={`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0 ${paymentMethod === 'wave' ? 'bg-white/20 text-white' : 'bg-[#1DC1EC] text-white'\n                                        }`}>W</div>\n                                    <div>\n                                        {paymentMethod === 'wave' ? (\n                                            <>\n                                                <p className=\"text-sm font-bold\">🎉 Réduction Wave activée !</p>\n                                                <p className=\"text-xs opacity-80\">-4% appliqué à votre commande</p>\n                                            </>\n                                        ) : (\n                                            <>\n                                                <p className=\"text-sm font-bold text-slate-900\">💰 Économisez 4% avec Wave</p>\n                                                <p className=\"text-xs text-[#1DC1EC] font-medium\">Passez à Wave pour bénéficier de la réduction</p>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n\n                            <div className=\"space-y-6\">\n                                <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent\">\n                                    {cart.map((item) => (\n                                        <div key={item.id} className=\"flex gap-4 group\">\n                                            <div className=\"w-16 h-16 bg-slate-50 rounded-2xl border border-slate-100 flex-shrink-0 overflow-hidden relative\">\n                                                <img src={item.image} alt={item.name} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\" />\n                                                <div className=\"absolute top-1 right-1 bg-slate-900 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-lg min-w-[20px] text-center\">x{item.quantity}</div>\n                                            </div>\n                                            <div className=\"min-w-0 flex flex-col justify-center\">\n                                                <h4 className=\"text-sm font-bold text-slate-900 truncate tracking-tight\">{item.name}</h4>\n                                                <p className=\"text-slate-400 text-xs font-medium\">{(item.price * item.quantity).toLocaleString()} F</p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n\n                                <div className=\"pt-6 border-t border-slate-100 space-y-3\">\n                                    <div className=\"flex justify-between text-sm\">\n                                        <span className=\"text-slate-400 font-medium\">Sous-total</span>\n                                        <span className=\"text-slate-900 font-bold\">{subTotal.toLocaleString()} F</span>\n                                    </div>\n\n                                    <div className=\"flex justify-between text-sm\">\n                                        <span className=\"text-slate-400 font-medium\">Livraison</span>\n                                        <span className={deliveryFee === 0 ? \"text-slate-900 font-bold\" : \"text-slate-900 font-bold\"}>\n                                            {deliveryFee === 0 ? \"Gratuit\" : `${deliveryFee.toLocaleString()} F`}\n                                        </span>\n                                    </div>\n\n                                    {waveDiscountAmount > 0 && (\n                                        <div className=\"flex justify-between text-sm bg-[#1DC1EC]/10 p-3 rounded-xl border border-dashed border-[#1DC1EC]/30\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <div className=\"w-5 h-5 bg-[#1DC1EC] rounded-full flex items-center justify-center text-white font-bold text-[8px]\">W</div>\n                                                <span className=\"text-[#1DC1EC] font-bold\">Bonus Wave (4%)</span>\n                                            </div>\n                                            <span className=\"text-[#1DC1EC] font-bold\">-{Math.round(waveDiscountAmount / 10) * 10} F</span>\n                                        </div>\n                                    )}\n\n\n                                    <div className=\"pt-6 mt-2\">\n                                        <div className=\"flex flex-col gap-1\">\n                                            <div className=\"flex justify-between items-end\">\n                                                <span className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-1\">Total Final</span>\n                                                <div className=\"flex items-baseline gap-1\">\n                                                    <span className=\"text-3xl font-bold tracking-tighter text-slate-900\">{Math.round(total).toLocaleString()}</span>\n                                                    <span className=\"text-sm font-bold text-slate-900\">F</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"mt-8 space-y-3\">\n                                <button\n                                    onClick={handleSubmit}\n                                    disabled={isSubmitting}\n                                    className=\"w-full bg-slate-900 text-white px-8 py-5 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-xl shadow-slate-900/20 flex items-center justify-center gap-3 disabled:bg-slate-200 disabled:shadow-none relative group overflow-hidden\"\n                                >\n                                    {isSubmitting ? (\n                                        <>\n                                            <Loader2 className=\"w-6 h-6 animate-spin\" />\n                                            <span>Traitement...</span>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <ShieldCheck className=\"w-6 h-6 text-slate-400 group-hover:text-white transition-colors\" />\n                                            <span>Confirmer la commande</span>\n                                            <ArrowRight className=\"w-6 h-6 group-hover:translate-x-1 transition-transform\" />\n                                        </>\n                                    )}\n                                </button>\n                                <p className=\"text-[9px] text-center text-slate-300 font-bold uppercase tracking-widest\">Paiement 100% sécurisé & crypté</p>\n                            </div>\n                        </div>\n\n                        {/* Order Security Tag */}\n                        <div className=\"bg-slate-50/50 p-4 rounded-2xl border border-slate-200 border-dashed flex items-center justify-center gap-4 grayscale opacity-50\">\n                            <div className=\"flex items-center gap-1.5\">\n                                <ShieldCheck className=\"w-4 h-4\" />\n                                <span className=\"text-[8px] font-bold uppercase tracking-widest\">Protection Acheteur</span>\n                            </div>\n                            <div className=\"w-1 h-1 bg-slate-300 rounded-full\" />\n                            <div className=\"flex items-center gap-1.5\">\n                                <CheckCircle className=\"w-4 h-4\" />\n                                <span className=\"text-[8px] font-bold uppercase tracking-widest\">Qualité Garantie</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3990, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/app/%28store%29/panier/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useCart } from '@/context/CartContext';\nimport { CheckoutPage } from '@/components/CheckoutPage';\nimport { useRouter } from 'next/navigation';\n\nexport default function PanierPage() {\n    const { cart, clearCart } = useCart();\n    const router = useRouter();\n\n    const handleBack = () => {\n        router.push('/');\n    };\n\n    return (\n        <CheckoutPage\n            cart={cart}\n            onBack={handleBack}\n            onClearCart={clearCart}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAOe,SAAS;;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,qIAAO;IACnC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,aAAa;QACf,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC,8IAAY;QACT,MAAM;QACN,QAAQ;QACR,aAAa;;;;;;AAGzB;GAfwB;;QACQ,qIAAO;QACpB,kJAAS;;;KAFJ"}}]
}