{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/services/api.ts"],"sourcesContent":["\nimport axios from 'axios';\nimport { CartItem, DeliveryEstimate } from '../types';\n\nconst API_URL = 'http://localhost:3333/api';\n\n/**\n * Payment initiation response\n */\ninterface PaymentInitResponse {\n    orderId: string;\n    checkoutUrl: string;\n    total: number;\n}\n\n/**\n * Payment verification response\n */\ninterface PaymentVerifyResponse {\n    status: 'success' | 'pending' | 'failed' | 'cancelled' | 'initiated';\n    order: {\n        id: string;\n        customerName: string;\n        total: number;\n        status: string;\n        items: CartItem[];\n    };\n}\n\nexport const api = {\n    /**\n     * Estimate delivery fee based on address and cart total\n     */\n    estimateDelivery: async (address: string, cartTotal: number): Promise<DeliveryEstimate | null> => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/estimate`, {\n                address,\n                cartTotal\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error estimating delivery:', error);\n            return null;\n        }\n    },\n\n    /**\n     * Search for places\n     */\n    searchPlaces: async (query: string) => {\n        try {\n            const response = await axios.get(`${API_URL}/deliveries/search`, {\n                params: { query }\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error searching places:', error);\n            return [];\n        }\n    },\n\n    /**\n     * Create a delivery for a confirmed order\n     */\n    createDelivery: async (data: {\n        orderId: string;\n        address: string;\n        lat: number;\n        lon: number;\n        fee: number;\n        customerName: string;\n        customerPhone: string;\n    }) => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/create`, data);\n            return response.data;\n        } catch (error) {\n            console.error('Error creating delivery:', error);\n            throw error;\n        }\n    },\n\n    /**\n     * Initiate payment with Moneroo\n     * Creates order and returns checkout URL for redirect\n     */\n    initiatePayment: async (data: {\n        cart: CartItem[];\n        customer: {\n            name: string;\n            phone: string;\n            email?: string;\n        };\n        delivery: {\n            address: string;\n            lat: number;\n            lon: number;\n            fee: number;\n            addressNote?: string;\n        };\n    }): Promise<PaymentInitResponse> => {\n        const response = await axios.post(`${API_URL}/payments/initiate`, data);\n        return response.data;\n    },\n\n    /**\n     * Verify payment status\n     * Called when customer returns from Moneroo checkout\n     */\n    verifyPayment: async (paymentId?: string, orderId?: string): Promise<PaymentVerifyResponse> => {\n        const params: Record<string, string> = {};\n        if (orderId) params.orderId = orderId;\n\n        const url = paymentId\n            ? `${API_URL}/payments/verify/${paymentId}`\n            : `${API_URL}/payments/verify`;\n\n        const response = await axios.get(url, { params });\n        return response.data;\n    }\n};\n\n"],"names":[],"mappings":";;;;AACA;;AAGA,MAAM,UAAU;AAyBT,MAAM,MAAM;IACf;;KAEC,GACD,kBAAkB,OAAO,SAAiB;QACtC,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,oBAAoB,CAAC,EAAE;gBAChE;gBACA;YACJ;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACX;IACJ;IAEA;;KAEC,GACD,cAAc,OAAO;QACjB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;gBAC7D,QAAQ;oBAAE;gBAAM;YACpB;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,EAAE;QACb;IACJ;IAEA;;KAEC,GACD,gBAAgB,OAAO;QASnB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;YAClE,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACV;IACJ;IAEA;;;KAGC,GACD,iBAAiB,OAAO;QAepB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;QAClE,OAAO,SAAS,IAAI;IACxB;IAEA;;;KAGC,GACD,eAAe,OAAO,WAAoB;QACtC,MAAM,SAAiC,CAAC;QACxC,IAAI,SAAS,OAAO,OAAO,GAAG;QAE9B,MAAM,MAAM,YACN,GAAG,QAAQ,iBAAiB,EAAE,WAAW,GACzC,GAAG,QAAQ,gBAAgB,CAAC;QAElC,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,KAAK;YAAE;QAAO;QAC/C,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/ui/payment-method-selector.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { CheckCircle, Banknote, Wallet } from \"lucide-react\"\n\ninterface PaymentMethodOption {\n    value: 'cash' | 'online'\n    title: string\n    description: string\n    icon: React.ReactNode\n    badges?: { label: string; color: string }[]\n}\n\ninterface PaymentMethodSelectorProps {\n    value: 'cash' | 'online'\n    onChange: (value: 'cash' | 'online') => void\n    className?: string\n}\n\nconst paymentOptions: PaymentMethodOption[] = [\n    {\n        value: 'cash',\n        title: 'Paiement à la livraison',\n        description: 'Payez en espèces au livreur',\n        icon: <Banknote className=\"w-6 h-6\" />,\n    },\n    {\n        value: 'online',\n        title: 'Paiement Mobile Money',\n        description: 'Paiement instantané et sécurisé',\n        icon: <Wallet className=\"w-6 h-6\" />,\n        badges: [\n            { label: 'Orange', color: 'bg-orange-500' },\n            { label: 'MTN', color: 'bg-yellow-500' },\n            { label: 'Wave', color: 'bg-blue-500' },\n            { label: 'Moov', color: 'bg-purple-500' },\n        ],\n    },\n]\n\nexport function PaymentMethodSelector({ value, onChange, className }: PaymentMethodSelectorProps) {\n    return (\n        <div className={cn(\"space-y-3\", className)}>\n            {paymentOptions.map((option) => {\n                const isSelected = value === option.value\n                const colorClass = option.value === 'cash'\n                    ? 'border-green-500 bg-green-50/80 shadow-green-100'\n                    : 'border-primary-500 bg-primary-50/80 shadow-primary-100'\n\n                return (\n                    <label\n                        key={option.value}\n                        className={cn(\n                            \"relative flex items-center gap-4 p-5 border-2 rounded-2xl cursor-pointer transition-all duration-200\",\n                            isSelected\n                                ? `${colorClass} shadow-lg scale-[1.02]`\n                                : \"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md\"\n                        )}\n                    >\n                        <input\n                            type=\"radio\"\n                            name=\"paymentMethod\"\n                            value={option.value}\n                            checked={isSelected}\n                            onChange={() => onChange(option.value)}\n                            className=\"sr-only\"\n                        />\n\n                        {/* Icon */}\n                        <div className={cn(\n                            \"flex items-center justify-center p-3 rounded-xl transition-all\",\n                            isSelected && option.value === 'cash' && \"bg-green-100 text-green-600\",\n                            isSelected && option.value === 'online' && \"bg-primary-100 text-primary-600\",\n                            !isSelected && \"bg-gray-100 text-gray-500\"\n                        )}>\n                            {option.icon}\n                        </div>\n\n                        {/* Content */}\n                        <div className=\"flex-1 min-w-0\">\n                            <p className={cn(\n                                \"font-bold text-base\",\n                                isSelected ? \"text-gray-900\" : \"text-gray-700\"\n                            )}>\n                                {option.title}\n                            </p>\n                            <p className=\"text-sm text-gray-500 mt-0.5\">\n                                {option.description}\n                            </p>\n\n                            {/* Badges for payment providers */}\n                            {option.badges && (\n                                <div className=\"flex items-center gap-1.5 mt-2 flex-wrap\">\n                                    {option.badges.map((badge) => (\n                                        <span\n                                            key={badge.label}\n                                            className={cn(\n                                                \"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold text-white shadow-sm\",\n                                                badge.color\n                                            )}\n                                        >\n                                            {badge.label}\n                                        </span>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Checkmark */}\n                        <div className={cn(\n                            \"flex-shrink-0 transition-all duration-200\",\n                            isSelected ? \"opacity-100 scale-100\" : \"opacity-0 scale-75\"\n                        )}>\n                            <CheckCircle className={cn(\n                                \"w-6 h-6\",\n                                option.value === 'cash' ? \"text-green-500\" : \"text-primary-500\"\n                            )} />\n                        </div>\n\n                        {/* Selection ring effect */}\n                        {isSelected && (\n                            <div className={cn(\n                                \"absolute inset-0 rounded-2xl ring-2 ring-offset-2\",\n                                option.value === 'cash' ? \"ring-green-400\" : \"ring-primary-400\"\n                            )} />\n                        )}\n                    </label>\n                )\n            })}\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAJA;;;;AAoBA,MAAM,iBAAwC;IAC1C;QACI,OAAO;QACP,OAAO;QACP,aAAa;QACb,oBAAM,6LAAC,yNAAQ;YAAC,WAAU;;;;;;IAC9B;IACA;QACI,OAAO;QACP,OAAO;QACP,aAAa;QACb,oBAAM,6LAAC,mNAAM;YAAC,WAAU;;;;;;QACxB,QAAQ;YACJ;gBAAE,OAAO;gBAAU,OAAO;YAAgB;YAC1C;gBAAE,OAAO;gBAAO,OAAO;YAAgB;YACvC;gBAAE,OAAO;gBAAQ,OAAO;YAAc;YACtC;gBAAE,OAAO;gBAAQ,OAAO;YAAgB;SAC3C;IACL;CACH;AAEM,SAAS,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAA8B;IAC5F,qBACI,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,aAAa;kBAC3B,eAAe,GAAG,CAAC,CAAC;YACjB,MAAM,aAAa,UAAU,OAAO,KAAK;YACzC,MAAM,aAAa,OAAO,KAAK,KAAK,SAC9B,qDACA;YAEN,qBACI,6LAAC;gBAEG,WAAW,IAAA,qHAAE,EACT,wGACA,aACM,GAAG,WAAW,uBAAuB,CAAC,GACtC;;kCAGV,6LAAC;wBACG,MAAK;wBACL,MAAK;wBACL,OAAO,OAAO,KAAK;wBACnB,SAAS;wBACT,UAAU,IAAM,SAAS,OAAO,KAAK;wBACrC,WAAU;;;;;;kCAId,6LAAC;wBAAI,WAAW,IAAA,qHAAE,EACd,kEACA,cAAc,OAAO,KAAK,KAAK,UAAU,+BACzC,cAAc,OAAO,KAAK,KAAK,YAAY,mCAC3C,CAAC,cAAc;kCAEd,OAAO,IAAI;;;;;;kCAIhB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAW,IAAA,qHAAE,EACZ,uBACA,aAAa,kBAAkB;0CAE9B,OAAO,KAAK;;;;;;0CAEjB,6LAAC;gCAAE,WAAU;0CACR,OAAO,WAAW;;;;;;4BAItB,OAAO,MAAM,kBACV,6LAAC;gCAAI,WAAU;0CACV,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,sBAChB,6LAAC;wCAEG,WAAW,2HACP,0FACA,MAAM,KAAK;kDAGd,MAAM,KAAK;uCANP,MAAM,KAAK;;;;;;;;;;;;;;;;kCAcpC,6LAAC;wBAAI,WAAW,IAAA,qHAAE,EACd,6CACA,aAAa,0BAA0B;kCAEvC,cAAA,6LAAC,6OAAW;4BAAC,WAAW,IAAA,qHAAE,EACtB,WACA,OAAO,KAAK,KAAK,SAAS,mBAAmB;;;;;;;;;;;oBAKpD,4BACG,6LAAC;wBAAI,WAAW,IAAA,qHAAE,EACd,qDACA,OAAO,KAAK,KAAK,SAAS,mBAAmB;;;;;;;eAxEhD,OAAO,KAAK;;;;;QA6E7B;;;;;;AAGZ;KA3FgB"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n    \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n    React.ElementRef<typeof LabelPrimitive.Root>,\n    React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n    <LabelPrimitive.Root\n        ref={ref}\n        className={cn(labelVariants(), className)}\n        {...props}\n    />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACrB;AAGJ,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC,4KAAmB;QAChB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGjB,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/app/panier/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { MapPin, Phone, User, CheckCircle, Loader2, ArrowLeft, ArrowRight, Truck, Crosshair, Mail } from 'lucide-react';\nimport { useCart } from '@/context/CartContext';\nimport { api } from '@/services/api';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { PaymentMethodSelector } from '@/components/ui/payment-method-selector';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\n\n// Declare Leaflet global type\ndeclare const L: any;\n\nexport default function CheckoutPage() {\n    const { cart, clearCart } = useCart();\n    const router = useRouter();\n    const mapRef = useRef<any>(null);\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const markerRef = useRef<any>(null);\n\n    const [formData, setFormData] = useState({ name: '', phone: '', email: '', addressNote: '', address: '' });\n    const [paymentMethod, setPaymentMethod] = useState<'cash' | 'online'>('cash');\n    const [paymentError, setPaymentError] = useState<string | null>(null);\n    const [location, setLocation] = useState<{ lat: number, lng: number } | null>(null);\n    const [orderPlaced, setOrderPlaced] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    // Real-time Fee Estimation State\n    const [estimatedFee, setEstimatedFee] = useState<number>(1000);\n    const [isEstimating, setIsEstimating] = useState(false);\n    const [distanceKm, setDistanceKm] = useState<number>(0);\n\n    // Autocomplete State\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const searchTimeoutRef = useRef<any>(null);\n\n    // Totals Calculation\n    const subTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n    const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);\n    const isEligibleForOffer = totalItems >= 2;\n\n    const deliveryFee = isEligibleForOffer ? 0 : estimatedFee;\n    const discountAmount = isEligibleForOffer ? subTotal * 0.05 : 0;\n    const total = subTotal + deliveryFee - discountAmount;\n\n    // Redirect if cart empty\n    useEffect(() => {\n        if (cart.length === 0 && !orderPlaced) {\n            router.push('/produits');\n        }\n    }, [cart, router, orderPlaced]);\n\n    // Core Update Logic\n    const updateLocation = async (lat: number, lng: number, fromMapDrag: boolean = false) => {\n        setLocation({ lat, lng });\n\n        setIsEstimating(true);\n        try {\n            const result = await api.estimateDelivery(`${lat},${lng}`, subTotal);\n            if (result) {\n                setEstimatedFee(result.fee);\n                setDistanceKm(result.distanceKm);\n\n                if (fromMapDrag && result.destination?.address) {\n                    setFormData(prev => ({ ...prev, address: result.destination.address }));\n                }\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsEstimating(false);\n        }\n    };\n\n    // Initialize Map\n    useEffect(() => {\n        // Wait for Leaflet to be loaded\n        if (typeof L === 'undefined') {\n            const interval = setInterval(() => {\n                if (typeof L !== 'undefined') {\n                    clearInterval(interval);\n                    initMap();\n                }\n            }, 100);\n            return () => clearInterval(interval);\n        } else {\n            initMap();\n        }\n\n        function initMap() {\n            try {\n                if (mapContainerRef.current && !mapRef.current) {\n                    const defaultLat = 5.3484;\n                    const defaultLng = -4.0305;\n\n                    const map = L.map(mapContainerRef.current, {\n                        maxBounds: [[4.3, -8.7], [10.8, -2.5]],\n                        minZoom: 6\n                    }).setView([defaultLat, defaultLng], 13);\n\n                    // PROXY LOCAL (Nginx)\n                    L.tileLayer('http://localhost:8081/osm/{z}/{x}/{y}.png', {\n                        attribution: '&copy; OpenStreetMap contributors'\n                    }).addTo(map);\n\n                    const icon = L.icon({\n                        iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n                        shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n                        iconSize: [25, 41],\n                        iconAnchor: [12, 41]\n                    });\n\n                    const marker = L.marker([defaultLat, defaultLng], { draggable: true, icon }).addTo(map);\n                    markerRef.current = marker;\n                    setLocation({ lat: defaultLat, lng: defaultLng });\n\n                    marker.on('dragend', function (event: any) {\n                        const { lat, lng } = marker.getLatLng();\n                        updateLocation(lat, lng, true);\n                    });\n\n                    map.on('click', function (e: any) {\n                        marker.setLatLng(e.latlng);\n                        const { lat, lng } = e.latlng;\n                        updateLocation(lat, lng, true);\n                    });\n\n                    mapRef.current = map;\n\n                    if (!location) {\n                        updateLocation(defaultLat, defaultLng);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Map initialization failed:\", error);\n            }\n        }\n    }, []);\n\n    const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const val = e.target.value;\n        setFormData({ ...formData, address: val });\n\n        if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n\n        if (val.length > 2) {\n            searchTimeoutRef.current = setTimeout(async () => {\n                const results = await api.searchPlaces(val);\n                setSuggestions(results);\n                setShowSuggestions(true);\n            }, 300);\n        } else {\n            setSuggestions([]);\n            setShowSuggestions(false);\n        }\n    };\n\n    const handleSuggestionClick = (place: any) => {\n        setFormData({ ...formData, address: place.display_name });\n\n        if (mapRef.current && markerRef.current) {\n            const newLatLng = new L.LatLng(place.lat, place.lon);\n            markerRef.current.setLatLng(newLatLng);\n            mapRef.current.panTo(newLatLng);\n        }\n\n        setLocation({ lat: place.lat, lng: place.lon });\n\n        api.estimateDelivery(`${place.lat},${place.lon}`, subTotal).then(res => {\n            if (res) {\n                setEstimatedFee(res.fee);\n                setDistanceKm(res.distanceKm);\n            }\n        });\n\n        setSuggestions([]);\n        setShowSuggestions(false);\n    };\n\n    const handleGeolocation = () => {\n        if (!navigator.geolocation) {\n            alert(\"La géolocalisation n'est pas supportée par votre navigateur.\");\n            return;\n        }\n\n        setIsEstimating(true);\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                const { latitude, longitude } = position.coords;\n                if (latitude < 4.3 || latitude > 10.8 || longitude < -8.7 || longitude > -2.5) {\n                    alert(\"Votre position semble être hors de la Côte d'Ivoire.\");\n                    setIsEstimating(false);\n                    return;\n                }\n\n                if (mapRef.current && markerRef.current) {\n                    const newLatLng = new L.LatLng(latitude, longitude);\n                    markerRef.current.setLatLng(newLatLng);\n                    mapRef.current.setView(newLatLng, 15);\n                    updateLocation(latitude, longitude, true);\n                }\n            },\n            (error) => {\n                console.error(error);\n                setIsEstimating(false);\n                alert(\"Impossible de récupérer votre position.\");\n            }\n        );\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setPaymentError(null);\n\n        if (!formData.name || !formData.phone || !location) {\n            alert(\"Veuillez remplir vos informations.\");\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        // CASH ON DELIVERY FLOW\n        if (paymentMethod === 'cash') {\n            const orderId = 'CMD-' + Math.floor(Math.random() * 1000000);\n            try {\n                await api.createDelivery({\n                    orderId,\n                    address: `${formData.address} (GPS: ${location.lat.toFixed(5)}, ${location.lng.toFixed(5)}) ${formData.addressNote ? '- ' + formData.addressNote : ''}`,\n                    lat: location.lat,\n                    lon: location.lng,\n                    fee: deliveryFee,\n                    customerName: formData.name,\n                    customerPhone: formData.phone\n                });\n                setOrderPlaced(true);\n                clearCart();\n            } catch (error) {\n                console.error(error);\n                setPaymentError(\"Erreur lors de la commande. Veuillez réessayer.\");\n            } finally {\n                setIsSubmitting(false);\n            }\n            return;\n        }\n\n        // ONLINE PAYMENT FLOW (Moneroo)\n        try {\n            const result = await api.initiatePayment({\n                cart: cart,\n                customer: {\n                    name: formData.name,\n                    phone: formData.phone,\n                    email: formData.email || undefined\n                },\n                delivery: {\n                    address: `${formData.address} (GPS: ${location.lat.toFixed(5)}, ${location.lng.toFixed(5)})`,\n                    lat: location.lat,\n                    lon: location.lng,\n                    fee: deliveryFee,\n                    addressNote: formData.addressNote || undefined\n                }\n            });\n\n            sessionStorage.setItem('pendingOrderId', result.orderId);\n            window.location.href = result.checkoutUrl;\n\n        } catch (error: any) {\n            console.error('Payment error:', error);\n            setPaymentError(error.response?.data?.message || \"Erreur lors de l'initialisation du paiement. Veuillez réessayer.\");\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleWhatsApp = () => {\n        const url = `https://wa.me/2250143678397?text=Mon%20numero%20commande%20${Math.floor(Math.random() * 1000)}`;\n        window.open(url, '_blank');\n    };\n\n    if (orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4\">\n                <div className=\"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md w-full\">\n                    <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                        <CheckCircle className=\"w-10 h-10 text-green-600\" />\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Commande Reçue !</h2>\n                    <p className=\"text-gray-600 mb-8\">\n                        Merci {formData.name}. Nous vous contacterons au {formData.phone} pour la livraison.\n                    </p>\n                    <div className=\"space-y-3\">\n                        <Link href=\"/\" className=\"block w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center\">\n                            Retour à l'accueil\n                        </Link>\n                        <button onClick={handleWhatsApp} className=\"w-full py-3 bg-[#25D366] text-white rounded-xl font-bold hover:bg-[#128C7E]\">\n                            Suivre sur WhatsApp\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    if (cart.length === 0) return null; // Or loader\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 flex flex-col text-gray-900\">\n            {/* Header */}\n            <div className=\"bg-white border-b border-gray-200 sticky top-0 z-30 px-4 py-4 md:px-8 flex items-center gap-4\">\n                <Link href=\"/produits\" className=\"p-2 hover:bg-gray-100 rounded-full\">\n                    <ArrowLeft className=\"w-6 h-6\" />\n                </Link>\n                <h1 className=\"text-xl font-bold\">Finaliser la commande</h1>\n            </div>\n\n            <div className=\"flex-1 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-8 p-4 md:p-8\">\n\n                {/* Left Col: Map */}\n                <div className=\"space-y-4\">\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-full flex flex-col\">\n                        <h2 className=\"font-bold text-lg mb-4 flex items-center\">\n                            <MapPin className=\"w-5 h-5 mr-2 text-primary-600\" />\n                            Lieu de livraison\n                        </h2>\n\n                        {/* Address Input */}\n                        <div className=\"mb-4 relative\">\n                            <input\n                                type=\"text\"\n                                className=\"pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all shadow-sm\"\n                                placeholder=\"Rechercher une adresse (ex: Riviera 3)...\"\n                                value={formData.address}\n                                onChange={handleAddressChange}\n                                onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\n                            />\n                            <MapPin className=\"absolute left-3 top-3.5 w-5 h-5 text-gray-400\" />\n                            {isEstimating && <div className=\"absolute right-3 top-3.5\"><Loader2 className=\"w-5 h-5 animate-spin text-primary-600\" /></div>}\n\n                            {showSuggestions && suggestions.length > 0 && (\n                                <div className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-60 overflow-y-auto\">\n                                    {suggestions.map((place, idx) => (\n                                        <div\n                                            key={idx}\n                                            className=\"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-50 last:border-0 text-sm\"\n                                            onClick={() => handleSuggestionClick(place)}\n                                        >\n                                            <p className=\"font-medium text-gray-800 truncate\">{place.display_name?.split(',')[0]}</p>\n                                            <p className=\"text-xs text-gray-500 truncate\">{place.display_name}</p>\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"flex-1 min-h-[400px] rounded-xl overflow-hidden border border-gray-300 relative z-0\">\n                            <div ref={mapContainerRef} className=\"w-full h-full\" />\n                            <button\n                                type=\"button\"\n                                onClick={handleGeolocation}\n                                className=\"absolute bottom-4 right-4 z-[400] bg-white p-3 rounded-full shadow-lg hover:bg-gray-50 transition-all border border-gray-200\"\n                                title=\"Ma position\"\n                            >\n                                <Crosshair className=\"w-6 h-6 text-gray-700\" />\n                            </button>\n                        </div>\n\n                        <div className=\"mt-4 flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\n                            <div>\n                                <p className=\"text-sm text-gray-500\">Distance</p>\n                                <p className=\"font-bold text-lg\">{distanceKm} km</p>\n                            </div>\n                            <div className=\"text-right\">\n                                <p className=\"text-sm text-gray-500\">Frais de livraison</p>\n                                <p className=\"font-bold text-xl text-primary-600\">\n                                    {isEligibleForOffer ? <span className=\"text-green-600\">Offerts</span> : `${estimatedFee} FCFA`}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right Col: Form & Summary */}\n                <div className=\"space-y-6\">\n                    {/* Summary */}\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100\">\n                        <h3 className=\"font-bold text-gray-800 mb-4\">Récapitulatif</h3>\n                        <div className=\"space-y-3\">\n                            {cart.map(item => (\n                                <div key={item.id} className=\"flex justify-between items-center text-sm\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <span className=\"font-bold text-gray-500\">{item.quantity}x</span>\n                                        <span>{item.name}</span>\n                                    </div>\n                                    <span>{(item.price * item.quantity).toLocaleString()} F</span>\n                                </div>\n                            ))}\n                            <div className=\"border-t border-gray-100 my-2 pt-2 space-y-2\">\n                                <div className=\"flex justify-between text-gray-600\">\n                                    <span>Sous-total</span>\n                                    <span>{subTotal.toLocaleString()} F</span>\n                                </div>\n                                <div className=\"flex justify-between text-gray-600\">\n                                    <span>Livraison</span>\n                                    <span>{deliveryFee === 0 ? 'Gratuite' : `${deliveryFee} F`}</span>\n                                </div>\n                                <div className=\"flex justify-between text-xl font-bold text-gray-900 pt-2\">\n                                    <span>Total à payer</span>\n                                    <span>{total.toLocaleString()} F</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Form */}\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100\">\n                        <h3 className=\"font-bold text-gray-800 mb-4\">Vos Coordonnées</h3>\n                        <form onSubmit={handleSubmit} className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nom complet</label>\n                                <div className=\"relative\">\n                                    <User className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\n                                    <input\n                                        type=\"text\"\n                                        className=\"pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all\"\n                                        placeholder=\"Votre nom\"\n                                        required\n                                        value={formData.name}\n                                        onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Téléphone</label>\n                                <div className=\"relative\">\n                                    <Phone className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\n                                    <input\n                                        type=\"tel\"\n                                        className=\"pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all\"\n                                        placeholder=\"+225...\"\n                                        required\n                                        value={formData.phone}\n                                        onChange={e => setFormData({ ...formData, phone: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email (facultatif)</label>\n                                <div className=\"relative\">\n                                    <Mail className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\n                                    <input\n                                        type=\"email\"\n                                        className=\"pl-10 w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all\"\n                                        placeholder=\"votre@email.com\"\n                                        value={formData.email}\n                                        onChange={e => setFormData({ ...formData, email: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Note pour le livreur</label>\n                                <textarea\n                                    className=\"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all\"\n                                    placeholder=\"Précisions...\"\n                                    rows={2}\n                                    value={formData.addressNote}\n                                    onChange={e => setFormData({ ...formData, addressNote: e.target.value })}\n                                />\n                            </div>\n\n                            {/* Payment Method Selection */}\n                            <div>\n                                <Label className=\"block text-sm font-medium text-gray-700 mb-3\">Mode de paiement</Label>\n                                <PaymentMethodSelector\n                                    value={paymentMethod}\n                                    onChange={setPaymentMethod}\n                                />\n                            </div>\n\n                            {paymentError && (\n                                <div className=\"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm\">\n                                    {paymentError}\n                                </div>\n                            )}\n\n                            <button\n                                type=\"submit\"\n                                disabled={isSubmitting}\n                                className=\"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all shadow-lg text-center flex justify-center items-center gap-2\"\n                            >\n                                {isSubmitting ? (\n                                    <Loader2 className=\"animate-spin\" />\n                                ) : paymentMethod === 'cash' ? (\n                                    'Confirmer la commande'\n                                ) : (\n                                    'Payer maintenant'\n                                )}\n                                <ArrowRight className=\"w-5 h-5\" />\n                            </button>\n                            <p className=\"text-center text-xs text-gray-500\">\n                                {paymentMethod === 'cash'\n                                    ? 'Paiement en espèces à la livraison'\n                                    : 'Paiement sécurisé par Mobile Money'}\n                            </p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}