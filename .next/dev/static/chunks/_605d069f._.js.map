{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/lib/fpixel.ts"],"sourcesContent":["export const FB_PIXEL_ID = process.env.NEXT_PUBLIC_FACEBOOK_PIXEL_ID;\n\nexport const pageview = (pixelId?: string) => {\n    if (!pixelId) return;\n    (window as any).fbq('track', 'PageView');\n};\n\n// https://developers.facebook.com/docs/facebook-pixel/advanced/\nexport const event = (name: string, options = {}, pixelId?: string, eventId?: string) => {\n    if (!pixelId) return;\n    if (eventId) {\n        (window as any).fbq('track', name, options, { eventID: eventId });\n    } else {\n        (window as any).fbq('track', name, options);\n    }\n};\n"],"names":[],"mappings":";;;;;;;;AAA2B;AAApB,MAAM,cAAc,2KAAO,CAAC,GAAG,CAAC,6BAA6B;AAE7D,MAAM,WAAW,CAAC;IACrB,IAAI,CAAC,SAAS;IACb,OAAe,GAAG,CAAC,SAAS;AACjC;AAGO,MAAM,QAAQ,CAAC,MAAc,UAAU,CAAC,CAAC,EAAE,SAAkB;IAChE,IAAI,CAAC,SAAS;IACd,IAAI,SAAS;QACR,OAAe,GAAG,CAAC,SAAS,MAAM,SAAS;YAAE,SAAS;QAAQ;IACnE,OAAO;QACF,OAAe,GAAG,CAAC,SAAS,MAAM;IACvC;AACJ"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/services/settings.ts"],"sourcesContent":["/**\n * Settings API - Fetches public settings from the backend\n */\n\nexport interface PublicSettings {\n    // Delivery\n    delivery_local_fee: number;\n    delivery_interior_fee: number;\n    delivery_free_threshold: number;\n    delivery: {\n        local: number;\n        interior: number;\n        freeThreshold: number;\n    };\n    // Payment numbers\n    payment_wave_number: string;\n    payment_orange_number: string;\n    payment_mtn_number: string;\n    payment_moov_number: string;\n    payment: {\n        wave: string;\n        orange: string;\n        mtn: string;\n        moov: string;\n    };\n    // Contact\n    contact_customer_service: string;\n    contact_whatsapp: string;\n    contact_email: string;\n    contact: {\n        phone: string;\n        whatsapp: string;\n        email: string;\n    };\n    // Business\n    business_name: string;\n    business_address: string;\n    business: {\n        name: string;\n        address: string;\n    };\n    fb_pixel_id?: string;\n}\n\n// Default settings (fallback)\nexport const defaultSettings: PublicSettings = {\n    delivery_local_fee: 1400,\n    delivery_interior_fee: 3500,\n    delivery_free_threshold: 25000,\n    delivery: {\n        local: 1400,\n        interior: 3500,\n        freeThreshold: 25000,\n    },\n    payment_wave_number: '+2250759091098',\n    payment_orange_number: '+2250707631861',\n    payment_mtn_number: '+2250759091098',\n    payment_moov_number: '+2250759091098',\n    payment: {\n        wave: '+2250759091098',\n        orange: '+2250707631861',\n        mtn: '+2250759091098',\n        moov: '+2250759091098',\n    },\n    contact_customer_service: '+2250759091098',\n    contact_whatsapp: '+2250759091098',\n    contact_email: 'contact@sante-vitalite.com',\n    contact: {\n        phone: '+2250759091098',\n        whatsapp: '+2250759091098',\n        email: 'contact@sante-vitalite.com',\n    },\n    business_name: 'BIO SANTÉ',\n    business_address: 'Cocody, Abidjan, Côte d\\'ivoire',\n    business: {\n        name: 'BIO SANTÉ',\n        address: 'Cocody, Abidjan, Côte d\\'ivoire',\n    },\n    fb_pixel_id: '',\n};\n\n// Cache for settings\nlet cachedSettings: PublicSettings | null = null;\nlet cacheTimestamp: number = 0;\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\n/**\n * Fetch public settings from the API\n */\nexport async function getPublicSettings(): Promise<PublicSettings> {\n    // Return cached if valid\n    if (cachedSettings && Date.now() - cacheTimestamp < CACHE_DURATION) {\n        return cachedSettings;\n    }\n\n    try {\n        const { API_URL } = await import('@/lib/utils');\n        const response = await fetch(`${API_URL}/api/settings/public`);\n        if (!response.ok) {\n            throw new Error('Failed to fetch settings');\n        }\n        const data = await response.json();\n        const settings = { ...defaultSettings, ...data };\n        cachedSettings = settings;\n        cacheTimestamp = Date.now();\n        return settings;\n    } catch (error) {\n        console.error('[Settings] Failed to fetch public settings:', error);\n        return defaultSettings;\n    }\n}\n\n/**\n * Clear the settings cache (useful after admin updates)\n */\nexport function clearSettingsCache(): void {\n    cachedSettings = null;\n    cacheTimestamp = 0;\n}\n\n/**\n * Get payment number for a specific provider\n */\nexport function getPaymentNumber(settings: PublicSettings, provider: string): string {\n    switch (provider.toLowerCase()) {\n        case 'wave':\n            return settings.payment.wave;\n        case 'orange':\n        case 'orange_money':\n            return settings.payment.orange;\n        case 'mtn':\n        case 'mtn_money':\n            return settings.payment.mtn;\n        case 'moov':\n        case 'moov_money':\n            return settings.payment.moov;\n        default:\n            return settings.contact.phone;\n    }\n}\n\n/**\n * Format phone number for display\n */\nexport function formatPhoneDisplay(phone: string): string {\n    // +2250759091098 -> +225 07 59 09 10 98\n    const cleaned = phone.replace(/\\D/g, '');\n    if (cleaned.length === 13 && cleaned.startsWith('225')) {\n        const rest = cleaned.substring(3);\n        return '+225 ' + rest.match(/.{1,2}/g)?.join(' ') || phone;\n    }\n    return phone;\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;AA2CM,MAAM,kBAAkC;IAC3C,oBAAoB;IACpB,uBAAuB;IACvB,yBAAyB;IACzB,UAAU;QACN,OAAO;QACP,UAAU;QACV,eAAe;IACnB;IACA,qBAAqB;IACrB,uBAAuB;IACvB,oBAAoB;IACpB,qBAAqB;IACrB,SAAS;QACL,MAAM;QACN,QAAQ;QACR,KAAK;QACL,MAAM;IACV;IACA,0BAA0B;IAC1B,kBAAkB;IAClB,eAAe;IACf,SAAS;QACL,OAAO;QACP,UAAU;QACV,OAAO;IACX;IACA,eAAe;IACf,kBAAkB;IAClB,UAAU;QACN,MAAM;QACN,SAAS;IACb;IACA,aAAa;AACjB;AAEA,qBAAqB;AACrB,IAAI,iBAAwC;AAC5C,IAAI,iBAAyB;AAC7B,MAAM,iBAAiB,IAAI,KAAK,MAAM,YAAY;AAK3C,eAAe;IAClB,yBAAyB;IACzB,IAAI,kBAAkB,KAAK,GAAG,KAAK,iBAAiB,gBAAgB;QAChE,OAAO;IACX;IAEA,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,GAAG;QACpB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,oBAAoB,CAAC;QAC7D,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,WAAW;YAAE,GAAG,eAAe;YAAE,GAAG,IAAI;QAAC;QAC/C,iBAAiB;QACjB,iBAAiB,KAAK,GAAG;QACzB,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,OAAO;IACX;AACJ;AAKO,SAAS;IACZ,iBAAiB;IACjB,iBAAiB;AACrB;AAKO,SAAS,iBAAiB,QAAwB,EAAE,QAAgB;IACvE,OAAQ,SAAS,WAAW;QACxB,KAAK;YACD,OAAO,SAAS,OAAO,CAAC,IAAI;QAChC,KAAK;QACL,KAAK;YACD,OAAO,SAAS,OAAO,CAAC,MAAM;QAClC,KAAK;QACL,KAAK;YACD,OAAO,SAAS,OAAO,CAAC,GAAG;QAC/B,KAAK;QACL,KAAK;YACD,OAAO,SAAS,OAAO,CAAC,IAAI;QAChC;YACI,OAAO,SAAS,OAAO,CAAC,KAAK;IACrC;AACJ;AAKO,SAAS,mBAAmB,KAAa;IAC5C,wCAAwC;IACxC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IACrC,IAAI,QAAQ,MAAM,KAAK,MAAM,QAAQ,UAAU,CAAC,QAAQ;QACpD,MAAM,OAAO,QAAQ,SAAS,CAAC;QAC/B,OAAO,UAAU,KAAK,KAAK,CAAC,YAAY,KAAK,QAAQ;IACzD;IACA,OAAO;AACX"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/context/SettingsContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { PublicSettings, getPublicSettings, defaultSettings } from '@/services/settings';\n\ninterface SettingsContextType {\n    settings: PublicSettings;\n    isLoaded: boolean;\n}\n\nconst SettingsContext = createContext<SettingsContextType>({\n    settings: defaultSettings,\n    isLoaded: false\n});\n\nexport const SettingsProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [settings, setSettings] = useState<PublicSettings>(defaultSettings);\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    useEffect(() => {\n        async function loadSettings() {\n            try {\n                const fetched = await getPublicSettings();\n                setSettings(fetched);\n            } catch (error) {\n                console.error('Failed to load settings in context:', error);\n            } finally {\n                setIsLoaded(true);\n            }\n        }\n        loadSettings();\n    }, []);\n\n    return (\n        <SettingsContext.Provider value={{ settings, isLoaded }}>\n            {children}\n        </SettingsContext.Provider>\n    );\n};\n\nexport const useSettings = () => useContext(SettingsContext);\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAUA,MAAM,gCAAkB,IAAA,8KAAa,EAAsB;IACvD,UAAU,0IAAe;IACzB,UAAU;AACd;AAEO,MAAM,mBAA4D,CAAC,EAAE,QAAQ,EAAE;;IAClF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAiB,0IAAe;IACxE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;sCAAC;YACN,eAAe;gBACX,IAAI;oBACA,MAAM,UAAU,MAAM,IAAA,4IAAiB;oBACvC,YAAY;gBAChB,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,uCAAuC;gBACzD,SAAU;oBACN,YAAY;gBAChB;YACJ;YACA;QACJ;qCAAG,EAAE;IAEL,qBACI,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAS;kBACjD;;;;;;AAGb;GAvBa;KAAA;AAyBN,MAAM,cAAc;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAe;IAA9C"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/context/CartContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { CartItem, Product } from '@/types';\nimport * as fpixel from '@/lib/fpixel';\nimport { useSettings } from './SettingsContext';\n\ninterface CartContextType {\n    cart: CartItem[];\n    isCartOpen: boolean;\n    isInitialized: boolean;\n    setIsCartOpen: (isOpen: boolean) => void;\n    addToCart: (product: Product) => void;\n    removeFromCart: (id: string) => void;\n    updateQuantity: (id: string, delta: number) => void;\n    clearCart: () => void;\n    cartCount: number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [cart, setCart] = useState<CartItem[]>([]);\n    const [isCartOpen, setIsCartOpen] = useState(false);\n    const [isInitialized, setIsInitialized] = useState(false);\n    const { settings } = useSettings();\n\n    // Load cart from local storage on mount\n    useEffect(() => {\n        const savedCart = localStorage.getItem('cart');\n        if (savedCart) {\n            try {\n                setCart(JSON.parse(savedCart));\n            } catch (e) {\n                console.error('Failed to parse cart from localStorage', e);\n            }\n        }\n        setIsInitialized(true);\n    }, []);\n\n    // Save cart to local storage whenever it changes (only after initialization)\n    useEffect(() => {\n        if (isInitialized) {\n            localStorage.setItem('cart', JSON.stringify(cart));\n        }\n    }, [cart, isInitialized]);\n\n    const addToCart = (product: Product) => {\n        setCart(prev => {\n            const existing = prev.find(item => item.id === product.id);\n            if (existing) {\n                return prev.map(item =>\n                    item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n                );\n            }\n            return [...prev, { ...product, quantity: 1 }];\n        });\n\n        // Meta Pixel Tracking\n        if (settings.fb_pixel_id) {\n            fpixel.event('AddToCart', {\n                content_ids: [product.id],\n                content_name: product.name,\n                content_type: 'product',\n                value: product.price,\n                currency: 'XOF'\n            }, settings.fb_pixel_id);\n        }\n\n        setIsCartOpen(true);\n    };\n\n    const removeFromCart = (id: string) => {\n        setCart(prev => prev.filter(item => item.id !== id));\n    };\n\n    const updateQuantity = (id: string, delta: number) => {\n        setCart(prev => prev.map(item => {\n            if (item.id === id) {\n                return { ...item, quantity: Math.max(1, item.quantity + delta) };\n            }\n            return item;\n        }));\n    };\n\n    const clearCart = () => {\n        setCart([]);\n    };\n\n    const cartCount = cart.reduce((acc, item) => acc + item.quantity, 0);\n\n    return (\n        <CartContext.Provider value={{\n            cart,\n            isCartOpen,\n            isInitialized,\n            setIsCartOpen,\n            addToCart,\n            removeFromCart,\n            updateQuantity,\n            clearCart,\n            cartCount\n        }}>\n            {children}\n        </CartContext.Provider>\n    );\n};\n\nexport const useCart = () => {\n    const context = useContext(CartContext);\n    if (context === undefined) {\n        throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AACA;;;AALA;;;;AAmBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAC9E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,6IAAW;IAEhC,wCAAwC;IACxC,IAAA,0KAAS;kCAAC;YACN,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACX,IAAI;oBACA,QAAQ,KAAK,KAAK,CAAC;gBACvB,EAAE,OAAO,GAAG;oBACR,QAAQ,KAAK,CAAC,0CAA0C;gBAC5D;YACJ;YACA,iBAAiB;QACrB;iCAAG,EAAE;IAEL,6EAA6E;IAC7E,IAAA,0KAAS;kCAAC;YACN,IAAI,eAAe;gBACf,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAChD;QACJ;iCAAG;QAAC;QAAM;KAAc;IAExB,MAAM,YAAY,CAAC;QACf,QAAQ,CAAA;YACJ,MAAM,WAAW,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,QAAQ,EAAE;YACzD,IAAI,UAAU;gBACV,OAAO,KAAK,GAAG,CAAC,CAAA,OACZ,KAAK,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAE,IAAI;YAE5E;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,OAAO;oBAAE,UAAU;gBAAE;aAAE;QACjD;QAEA,sBAAsB;QACtB,IAAI,SAAS,WAAW,EAAE;YACtB,yHAAY,CAAC,aAAa;gBACtB,aAAa;oBAAC,QAAQ,EAAE;iBAAC;gBACzB,cAAc,QAAQ,IAAI;gBAC1B,cAAc;gBACd,OAAO,QAAQ,KAAK;gBACpB,UAAU;YACd,GAAG,SAAS,WAAW;QAC3B;QAEA,cAAc;IAClB;IAEA,MAAM,iBAAiB,CAAC;QACpB,QAAQ,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IACpD;IAEA,MAAM,iBAAiB,CAAC,IAAY;QAChC,QAAQ,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;gBACrB,IAAI,KAAK,EAAE,KAAK,IAAI;oBAChB,OAAO;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,QAAQ,GAAG;oBAAO;gBACnE;gBACA,OAAO;YACX;IACJ;IAEA,MAAM,YAAY;QACd,QAAQ,EAAE;IACd;IAEA,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAElE,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBACK;;;;;;AAGb;GArFa;;QAIY,6IAAW;;;KAJvB;AAuFN,MAAM,UAAU;;IACnB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANa"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/context/UIContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\n\ntype BgColor = 'neutral' | 'red' | 'green';\n\ninterface UIContextType {\n    activeColor: BgColor;\n    setActiveColor: (color: BgColor) => void;\n}\n\nconst UIContext = createContext<UIContextType | undefined>(undefined);\n\nexport const UIProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n    const [activeColor, setActiveColor] = useState<BgColor>('neutral');\n\n    return (\n        <UIContext.Provider value={{ activeColor, setActiveColor }}>\n            {children}\n        </UIContext.Provider>\n    );\n};\n\nexport const useUI = () => {\n    const context = useContext(UIContext);\n    if (context === undefined) {\n        throw new Error('useUI must be used within a UIProvider');\n    }\n    return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWA,MAAM,0BAAY,IAAA,8KAAa,EAA4B;AAEpD,MAAM,aAAgD,CAAC,EAAE,QAAQ,EAAE;;IACtE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAU;IAExD,qBACI,6LAAC,UAAU,QAAQ;QAAC,OAAO;YAAE;YAAa;QAAe;kBACpD;;;;;;AAGb;GARa;KAAA;AAUN,MAAM,QAAQ;;IACjB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANa"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n\nexport function formatCurrency(amount: number) {\n    return new Intl.NumberFormat('fr-FR').format(Math.round(amount)) + ' F';\n}\n\nexport function isValidIvorianPhone(phone: string) {\n    // Remove all non-digit characters\n    const digits = phone.replace(/\\D/g, '');\n    // Must be 10 digits and start with 01, 05, or 07\n    return /^(01|05|07)\\d{8}$/.test(digits);\n}\n\nexport function formatIvorianPhone(phone: string) {\n    const digits = phone.replace(/\\D/g, '').slice(0, 10);\n    if (digits.length <= 2) return digits;\n    if (digits.length <= 4) return `${digits.slice(0, 2)} ${digits.slice(2)}`;\n    if (digits.length <= 6) return `${digits.slice(0, 2)} ${digits.slice(2, 4)} ${digits.slice(4)}`;\n    if (digits.length <= 8) return `${digits.slice(0, 2)} ${digits.slice(2, 4)} ${digits.slice(4, 6)} ${digits.slice(6)}`;\n    return `${digits.slice(0, 2)} ${digits.slice(2, 4)} ${digits.slice(4, 6)} ${digits.slice(6, 8)} ${digits.slice(8)}`;\n}\n\nexport const API_URL = process.env.NEXT_PUBLIC_API_URL || 'https://api-biosante.sublymus.com';\n"],"names":[],"mappings":";;;;;;;;;;;;AA2BuB;AA3BvB;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB;AAEO,SAAS,eAAe,MAAc;IACzC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC,KAAK,KAAK,CAAC,WAAW;AACvE;AAEO,SAAS,oBAAoB,KAAa;IAC7C,kCAAkC;IAClC,MAAM,SAAS,MAAM,OAAO,CAAC,OAAO;IACpC,iDAAiD;IACjD,OAAO,oBAAoB,IAAI,CAAC;AACpC;AAEO,SAAS,mBAAmB,KAAa;IAC5C,MAAM,SAAS,MAAM,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG;IACjD,IAAI,OAAO,MAAM,IAAI,GAAG,OAAO;IAC/B,IAAI,OAAO,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI;IACzE,IAAI,OAAO,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI;IAC/F,IAAI,OAAO,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI;IACrH,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI;AACvH;AAEO,MAAM,UAAU,2KAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/services/api.ts"],"sourcesContent":["\nimport axios from 'axios';\nimport { CartItem, DeliveryEstimate } from '../types';\n\nimport { API_URL } from '@/lib/utils';\n\n/**\n * Payment initiation response\n */\ninterface PaymentInitResponse {\n    orderId: string;\n    checkoutUrl?: string; // Optional for cash on delivery\n    total: number;\n    transactionRef?: string;\n}\n\n\n/**\n * Payment verification response\n */\ninterface PaymentVerifyResponse {\n    status: 'success' | 'pending' | 'failed' | 'cancelled' | 'initiated';\n    manualStatus?: 'pending' | 'verifying' | 'success' | 'failed';\n    transactionRef?: string;\n    proofImage?: string;\n    order: {\n        id: string;\n        customerName: string;\n        total: number;\n        status: string;\n        items: CartItem[];\n    };\n}\n\nexport const api = {\n    /**\n     * Estimate delivery fee based on address and cart total\n     */\n    estimateDelivery: async (address: string, cartTotal: number): Promise<DeliveryEstimate | null> => {\n        try {\n            const response = await axios.post(`${API_URL}/api/deliveries/estimate`, {\n                address,\n                cartTotal\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error estimating delivery:', error);\n            return null;\n        }\n    },\n\n    /**\n     * Search for places\n     */\n    searchPlaces: async (query: string) => {\n        try {\n            const response = await axios.get(`${API_URL}/api/deliveries/search`, {\n                params: { query }\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error searching places:', error);\n            return [];\n        }\n    },\n\n    /**\n     * Create a delivery for a confirmed order\n     */\n    createDelivery: async (data: {\n        orderId: string;\n        address: string;\n        lat: number;\n        lon: number;\n        fee: number;\n        customerName: string;\n        customerPhone: string;\n        shippingCompany?: string;\n        shippingCity?: string;\n    }) => {\n        try {\n            const response = await axios.post(`${API_URL}/api/deliveries/create`, data);\n            return response.data;\n        } catch (error) {\n            console.error('Error creating delivery:', error);\n            throw error;\n        }\n    },\n\n    /**\n     * Initiate payment with Moneroo\n     * Creates order and returns checkout URL for redirect\n     */\n    initiatePayment: async (data: {\n        cart: CartItem[];\n        customer: {\n            name: string;\n            phone: string;\n            email?: string;\n        };\n        delivery: {\n            address: string;\n            lat: number;\n            lon: number;\n            fee: number;\n            addressNote?: string;\n            shippingCompany?: string;\n            shippingCity?: string;\n        };\n        paymentMethod?: 'online' | 'cash' | 'manual' | 'wave';\n        deliveryMode?: 'local' | 'shipping';\n        serviceCode?: string;\n    }): Promise<PaymentInitResponse> => {\n        const userId = typeof window !== 'undefined' ? localStorage.getItem('user_id') : null;\n        const response = await axios.post(`${API_URL}/api/payments/initiate`, data, {\n            headers: userId ? { 'X-User-Id': userId } : {}\n        });\n        return response.data;\n    },\n\n\n    /**\n     * Verify payment status\n     * Called when customer returns from Moneroo checkout\n     */\n    verifyPayment: async (paymentId?: string, orderId?: string): Promise<PaymentVerifyResponse> => {\n        const params: Record<string, string> = {};\n        if (orderId) params.orderId = orderId;\n\n        const url = paymentId\n            ? `${API_URL}/api/payments/verify/${paymentId}`\n            : `${API_URL}/api/payments/verify`;\n\n        const response = await axios.get(url, { params });\n        return response.data;\n    },\n\n    /**\n     * Upload payment proof screenshot\n     */\n    async uploadProof(orderId: string, file: File): Promise<{ message: string; proofImage: string }> {\n        const formData = new FormData();\n        formData.append('orderId', orderId);\n        formData.append('image', file);\n\n        const response = await axios.post(`${API_URL}/api/payments/proof`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        });\n        return response.data;\n    },\n\n    async submitReference(data: {\n        orderId: string;\n        provider: string;\n        reference: string;\n        amount: number;\n    }) {\n        const response = await axios.post(`${API_URL}/api/payments/submit-reference`, data);\n        return response.data;\n    },\n\n    // --- Authentication & Account ---\n\n    async register(data: any) {\n        const response = await axios.post(`${API_URL}/api/auth/register`, data);\n        return response.data;\n    },\n\n    async login(data: any) {\n        const response = await axios.post(`${API_URL}/api/auth/login`, data);\n        return response.data;\n    },\n\n    async sendOtp(phone: string) {\n        const response = await axios.post(`${API_URL}/api/auth/send-otp`, { phone });\n        return response.data;\n    },\n\n    async verifyOtp(phone: string, otp: string) {\n        const response = await axios.post(`${API_URL}/api/auth/verify-otp`, { phone, otp });\n        return response.data;\n    },\n\n    async getMe(userId: string) {\n        const response = await axios.get(`${API_URL}/api/auth/me`, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async getOrders(userId: string) {\n        const response = await axios.get(`${API_URL}/api/auth/orders`, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async updateProfile(userId: string, data: any) {\n        const response = await axios.patch(`${API_URL}/api/auth/profile`, data, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async addAddress(userId: string, data: any) {\n        const response = await axios.post(`${API_URL}/api/auth/addresses`, data, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async updateAddress(userId: string, addressId: string, data: any) {\n        const response = await axios.patch(`${API_URL}/api/auth/addresses/${addressId}`, data, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async deleteAddress(userId: string, addressId: string) {\n        const response = await axios.delete(`${API_URL}/api/auth/addresses/${addressId}`, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    async setDefaultAddress(userId: string, addressId: string) {\n        const response = await axios.patch(`${API_URL}/api/auth/addresses/${addressId}/default`, {}, {\n            headers: { 'X-User-Id': userId }\n        });\n        return response.data;\n    },\n\n    // --- OTP Phone Change ---\n\n    async requestPhoneChangeOtp(userId: string, newPhone: string) {\n        const response = await axios.post(`${API_URL}/api/otp/request-phone-change`, {\n            userId,\n            newPhone\n        });\n        return response.data;\n    },\n\n    async verifyPhoneChangeOtp(userId: string, otp: string, newPhone: string) {\n        const response = await axios.post(`${API_URL}/api/otp/verify-phone-change`, {\n            userId,\n            otp,\n            newPhone\n        });\n        return response.data;\n    }\n};\n"],"names":[],"mappings":";;;;AACA;AAGA;;;AA8BO,MAAM,MAAM;IACf;;KAEC,GACD,kBAAkB,OAAO,SAAiB;QACtC,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,wBAAwB,CAAC,EAAE;gBACpE;gBACA;YACJ;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACX;IACJ;IAEA;;KAEC,GACD,cAAc,OAAO;QACjB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,0HAAO,CAAC,sBAAsB,CAAC,EAAE;gBACjE,QAAQ;oBAAE;gBAAM;YACpB;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,EAAE;QACb;IACJ;IAEA;;KAEC,GACD,gBAAgB,OAAO;QAWnB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,sBAAsB,CAAC,EAAE;YACtE,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACV;IACJ;IAEA;;;KAGC,GACD,iBAAiB,OAAO;QAoBpB,MAAM,SAAS,uCAAgC,aAAa,OAAO,CAAC,aAAa;QACjF,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,sBAAsB,CAAC,EAAE,MAAM;YACxE,SAAS,SAAS;gBAAE,aAAa;YAAO,IAAI,CAAC;QACjD;QACA,OAAO,SAAS,IAAI;IACxB;IAGA;;;KAGC,GACD,eAAe,OAAO,WAAoB;QACtC,MAAM,SAAiC,CAAC;QACxC,IAAI,SAAS,OAAO,OAAO,GAAG;QAE9B,MAAM,MAAM,YACN,GAAG,0HAAO,CAAC,qBAAqB,EAAE,WAAW,GAC7C,GAAG,0HAAO,CAAC,oBAAoB,CAAC;QAEtC,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,KAAK;YAAE;QAAO;QAC/C,OAAO,SAAS,IAAI;IACxB;IAEA;;KAEC,GACD,MAAM,aAAY,OAAe,EAAE,IAAU;QACzC,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,WAAW;QAC3B,SAAS,MAAM,CAAC,SAAS;QAEzB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,mBAAmB,CAAC,EAAE,UAAU;YACzE,SAAS;gBACL,gBAAgB;YACpB;QACJ;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,iBAAgB,IAKrB;QACG,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,8BAA8B,CAAC,EAAE;QAC9E,OAAO,SAAS,IAAI;IACxB;IAEA,mCAAmC;IAEnC,MAAM,UAAS,IAAS;QACpB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,kBAAkB,CAAC,EAAE;QAClE,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,OAAM,IAAS;QACjB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,eAAe,CAAC,EAAE;QAC/D,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,SAAQ,KAAa;QACvB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,kBAAkB,CAAC,EAAE;YAAE;QAAM;QAC1E,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,WAAU,KAAa,EAAE,GAAW;QACtC,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,oBAAoB,CAAC,EAAE;YAAE;YAAO;QAAI;QACjF,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,OAAM,MAAc;QACtB,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,0HAAO,CAAC,YAAY,CAAC,EAAE;YACvD,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,WAAU,MAAc;QAC1B,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,0HAAO,CAAC,gBAAgB,CAAC,EAAE;YAC3D,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,eAAc,MAAc,EAAE,IAAS;QACzC,MAAM,WAAW,MAAM,mJAAK,CAAC,KAAK,CAAC,GAAG,0HAAO,CAAC,iBAAiB,CAAC,EAAE,MAAM;YACpE,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,YAAW,MAAc,EAAE,IAAS;QACtC,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,mBAAmB,CAAC,EAAE,MAAM;YACrE,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,eAAc,MAAc,EAAE,SAAiB,EAAE,IAAS;QAC5D,MAAM,WAAW,MAAM,mJAAK,CAAC,KAAK,CAAC,GAAG,0HAAO,CAAC,oBAAoB,EAAE,WAAW,EAAE,MAAM;YACnF,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,eAAc,MAAc,EAAE,SAAiB;QACjD,MAAM,WAAW,MAAM,mJAAK,CAAC,MAAM,CAAC,GAAG,0HAAO,CAAC,oBAAoB,EAAE,WAAW,EAAE;YAC9E,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,mBAAkB,MAAc,EAAE,SAAiB;QACrD,MAAM,WAAW,MAAM,mJAAK,CAAC,KAAK,CAAC,GAAG,0HAAO,CAAC,oBAAoB,EAAE,UAAU,QAAQ,CAAC,EAAE,CAAC,GAAG;YACzF,SAAS;gBAAE,aAAa;YAAO;QACnC;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,2BAA2B;IAE3B,MAAM,uBAAsB,MAAc,EAAE,QAAgB;QACxD,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,6BAA6B,CAAC,EAAE;YACzE;YACA;QACJ;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,sBAAqB,MAAc,EAAE,GAAW,EAAE,QAAgB;QACpE,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,0HAAO,CAAC,4BAA4B,CAAC,EAAE;YACxE;YACA;YACA;QACJ;QACA,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/context/AuthContext.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { api } from '@/services/api';\n\ninterface User {\n    id: string;\n    phone: string;\n    name: string;\n    email?: string;\n}\n\ninterface Address {\n    id: string;\n    label: string;\n    address_full: string;\n    lat: number;\n    lon: number;\n    is_default: boolean;\n}\n\ninterface AuthContextType {\n    user: User | null;\n    addresses: Address[];\n    loading: boolean;\n    login: (phone: string, password: string) => Promise<void>;\n    register: (data: { phone: string; password: string; name: string; email?: string }) => Promise<void>;\n    logout: () => void;\n    refreshAddresses: () => Promise<void>;\n    updateProfile: (data: { name?: string; phone?: string; email?: string }) => Promise<void>;\n    sendOtp: (phone: string) => Promise<{ success: boolean; message: string }>;\n    verifyOtp: (phone: string, otp: string) => Promise<{ success: boolean; isNewUser: boolean; message?: string }>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [user, setUser] = useState<User | null>(null);\n    const [addresses, setAddresses] = useState<Address[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const refreshAddresses = async () => {\n        const userId = localStorage.getItem('user_id');\n        if (userId) {\n            const res = await api.getMe(userId);\n            setUser(res.user);\n            setAddresses(res.addresses || []);\n        }\n    };\n\n    useEffect(() => {\n        const userId = localStorage.getItem('user_id');\n        const token = localStorage.getItem('user_token');\n\n        if (userId && token) {\n            // Check session validity\n            api.getMe(userId)\n                .then(res => {\n                    setUser(res.user);\n                    setAddresses(res.addresses || []);\n                })\n                .catch(() => {\n                    localStorage.removeItem('user_id');\n                    localStorage.removeItem('user_token');\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n        } else {\n            setLoading(false);\n        }\n    }, []);\n\n    const login = async (phone: string, password: string) => {\n        const res = await api.login({ phone, password });\n        if (res.success) {\n            localStorage.setItem('user_id', res.user.id);\n            localStorage.setItem('user_token', res.token);\n            setUser(res.user);\n            await refreshAddresses();\n        }\n    };\n\n    const register = async (data: { phone: string; password: string; name: string; email?: string }) => {\n        const res = await api.register(data);\n        if (res.success) {\n            localStorage.setItem('user_id', res.user.id);\n            localStorage.setItem('user_token', res.token);\n            setUser(res.user);\n            setAddresses([]);\n        }\n    };\n\n    const logout = () => {\n        localStorage.removeItem('user_id');\n        localStorage.removeItem('user_token');\n        setUser(null);\n        setAddresses([]);\n    };\n\n    const updateProfile = async (data: { name?: string; phone?: string; email?: string }) => {\n        if (!user) return;\n        const res = await api.updateProfile(user.id, data);\n        if (res.success) {\n            await refreshAddresses(); // This also updates the user object\n        }\n    };\n\n    const sendOtp = async (phone: string) => {\n        return await api.sendOtp(phone);\n    };\n\n    const verifyOtp = async (phone: string, otp: string) => {\n        const res = await api.verifyOtp(phone, otp);\n        if (res.success && !res.isNewUser) {\n            localStorage.setItem('user_id', res.user.id);\n            localStorage.setItem('user_token', res.token);\n            setUser(res.user);\n            await refreshAddresses();\n        }\n        return res;\n    };\n\n    return (\n        <AuthContext.Provider value={{ user, addresses, loading, login, register, logout, refreshAddresses, updateProfile, sendOtp, verifyOtp }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => {\n    const context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/FacebookPixel.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\nimport Script from 'next/script';\nimport * as fpixel from '@/lib/fpixel';\n\ninterface FacebookPixelProps {\n    pixelId?: string;\n}\n\nexport const FacebookPixel = ({ pixelId }: FacebookPixelProps) => {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n\n    useEffect(() => {\n        if (!pixelId) return;\n        fpixel.pageview(pixelId);\n    }, [pathname, searchParams, pixelId]);\n\n    if (!pixelId) return null;\n\n    return (\n        <>\n            <Script\n                id=\"fb-pixel\"\n                strategy=\"afterInteractive\"\n                dangerouslySetInnerHTML={{\n                    __html: `\n            !function(f,b,e,v,n,t,s)\n            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n            n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n            n.queue=[];t=b.createElement(e);t.async=!0;\n            t.src=v;s=b.getElementsByTagName(e)[0];\n            s.parentNode.insertBefore(t,s)}(window, document,'script',\n            'https://connect.facebook.net/en_US/fbevents.js');\n            fbq('init', '${pixelId}');\n          `,\n                }}\n            />\n            <noscript>\n                <img\n                    height=\"1\"\n                    width=\"1\"\n                    style={{ display: 'none' }}\n                    src={`https://www.facebook.com/tr?id=${pixelId}&ev=PageView&noscript=1`}\n                />\n            </noscript>\n        </>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAWO,MAAM,gBAAgB,CAAC,EAAE,OAAO,EAAsB;;IACzD,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,eAAe,IAAA,wJAAe;IAEpC,IAAA,0KAAS;mCAAC;YACN,IAAI,CAAC,SAAS;YACd,4HAAe,CAAC;QACpB;kCAAG;QAAC;QAAU;QAAc;KAAQ;IAEpC,IAAI,CAAC,SAAS,OAAO;IAErB,qBACI;;0BACI,6LAAC,4IAAM;gBACH,IAAG;gBACH,UAAS;gBACT,yBAAyB;oBACrB,QAAQ,CAAC;;;;;;;;;yBASJ,EAAE,QAAQ;UACzB,CAAC;gBACK;;;;;;0BAEJ,6LAAC;0BACG,cAAA,6LAAC;oBACG,QAAO;oBACP,OAAM;oBACN,OAAO;wBAAE,SAAS;oBAAO;oBACzB,KAAK,CAAC,+BAA+B,EAAE,QAAQ,uBAAuB,CAAC;;;;;;;;;;;;;AAK3F;GAxCa;;QACQ,oJAAW;QACP,wJAAe;;;KAF3B"}}]
}