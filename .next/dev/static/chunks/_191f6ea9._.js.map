{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/services/api.ts"],"sourcesContent":["\nimport axios from 'axios';\nimport { CartItem, DeliveryEstimate } from '../types';\n\nconst API_URL = 'http://localhost:3333/api';\n\n/**\n * Payment initiation response\n */\ninterface PaymentInitResponse {\n    orderId: string;\n    checkoutUrl: string;\n    total: number;\n}\n\n/**\n * Payment verification response\n */\ninterface PaymentVerifyResponse {\n    status: 'success' | 'pending' | 'failed' | 'cancelled' | 'initiated';\n    order: {\n        id: string;\n        customerName: string;\n        total: number;\n        status: string;\n        items: CartItem[];\n    };\n}\n\nexport const api = {\n    /**\n     * Estimate delivery fee based on address and cart total\n     */\n    estimateDelivery: async (address: string, cartTotal: number): Promise<DeliveryEstimate | null> => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/estimate`, {\n                address,\n                cartTotal\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error estimating delivery:', error);\n            return null;\n        }\n    },\n\n    /**\n     * Search for places\n     */\n    searchPlaces: async (query: string) => {\n        try {\n            const response = await axios.get(`${API_URL}/deliveries/search`, {\n                params: { query }\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Error searching places:', error);\n            return [];\n        }\n    },\n\n    /**\n     * Create a delivery for a confirmed order\n     */\n    createDelivery: async (data: {\n        orderId: string;\n        address: string;\n        lat: number;\n        lon: number;\n        fee: number;\n        customerName: string;\n        customerPhone: string;\n        shippingCompany?: string;\n        shippingCity?: string;\n    }) => {\n        try {\n            const response = await axios.post(`${API_URL}/deliveries/create`, data);\n            return response.data;\n        } catch (error) {\n            console.error('Error creating delivery:', error);\n            throw error;\n        }\n    },\n\n    /**\n     * Initiate payment with Moneroo\n     * Creates order and returns checkout URL for redirect\n     */\n    initiatePayment: async (data: {\n        cart: CartItem[];\n        customer: {\n            name: string;\n            phone: string;\n            email?: string;\n        };\n        delivery: {\n            address: string;\n            lat: number;\n            lon: number;\n            fee: number;\n            addressNote?: string;\n            shippingCompany?: string;\n            shippingCity?: string;\n        };\n    }): Promise<PaymentInitResponse> => {\n        const response = await axios.post(`${API_URL}/payments/initiate`, data);\n        return response.data;\n    },\n\n    /**\n     * Verify payment status\n     * Called when customer returns from Moneroo checkout\n     */\n    verifyPayment: async (paymentId?: string, orderId?: string): Promise<PaymentVerifyResponse> => {\n        const params: Record<string, string> = {};\n        if (orderId) params.orderId = orderId;\n\n        const url = paymentId\n            ? `${API_URL}/payments/verify/${paymentId}`\n            : `${API_URL}/payments/verify`;\n\n        const response = await axios.get(url, { params });\n        return response.data;\n    }\n};\n\n"],"names":[],"mappings":";;;;AACA;;AAGA,MAAM,UAAU;AAyBT,MAAM,MAAM;IACf;;KAEC,GACD,kBAAkB,OAAO,SAAiB;QACtC,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,oBAAoB,CAAC,EAAE;gBAChE;gBACA;YACJ;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACX;IACJ;IAEA;;KAEC,GACD,cAAc,OAAO;QACjB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;gBAC7D,QAAQ;oBAAE;gBAAM;YACpB;YACA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,EAAE;QACb;IACJ;IAEA;;KAEC,GACD,gBAAgB,OAAO;QAWnB,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;YAClE,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACV;IACJ;IAEA;;;KAGC,GACD,iBAAiB,OAAO;QAiBpB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,kBAAkB,CAAC,EAAE;QAClE,OAAO,SAAS,IAAI;IACxB;IAEA;;;KAGC,GACD,eAAe,OAAO,WAAoB;QACtC,MAAM,SAAiC,CAAC;QACxC,IAAI,SAAS,OAAO,OAAO,GAAG;QAE9B,MAAM,MAAM,YACN,GAAG,QAAQ,iBAAiB,EAAE,WAAW,GACzC,GAAG,QAAQ,gBAAgB,CAAC;QAElC,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,KAAK;YAAE;QAAO;QAC/C,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/exp_cie.json"],"sourcesContent":["[{\"id\":\"utb\",\"name\":\"UTB (Union des Transports de Bouak√©)\",\"hub_principal\":\"Abidjan (Adjam√©, Koumassi, Yopougon)\",\"type\":\"National\",\"regions_desservies\":[\"Centre\",\"Nord\",\"Ouest\",\"Est\",\"Sud-Ouest\"],\"contact_colis\":\"0707000000\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouak√©\",\"Daloa\",\"Gagnoa\",\"San Pedro\",\"Man\",\"Korhogo\",\"Odienn√©\",\"Bondoukou\",\"Abengourou\",\"Soubr√©\",\"Bouafl√©\",\"Divo\",\"Toumodi\",\"Sinfra\",\"Issia\",\"Du√©kou√©\",\"Agnibil√©krou\",\"Tanda\",\"Bocanda\",\"Daoukro\"]},{\"id\":\"tsr\",\"name\":\"TSR (Transport Sans Rayon)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"National\",\"regions_desservies\":[\"Nord\",\"Ouest\",\"Est\",\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Yamoussoukro\",\"Bouak√©\",\"Korhogo\",\"Ferkess√©dougou\",\"Boundiali\",\"Tengr√©la\",\"Man\",\"Danan√©\",\"Du√©kou√©\",\"Guiglo\",\"Daloa\",\"Issia\",\"Vavoua\",\"S√©gu√©la\",\"Mankono\",\"Bondoukou\",\"Bouna\",\"Daoukro\"]},{\"id\":\"sbta\",\"name\":\"SBTA\",\"hub_principal\":\"Abidjan (Adjam√©, Yopougon, Koumassi)\",\"type\":\"Grand R√©gional\",\"regions_desservies\":[\"Sud-Ouest\",\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0576207777\",\"destinations\":[\"Abidjan\",\"Divo\",\"Lakota\",\"Gagnoa\",\"Soubr√©\",\"M√©agui\",\"San Pedro\",\"Sassandra\",\"Grand-B√©r√©by\",\"Oum√©\",\"Diegonefla\",\"Abengourou\",\"Bondoukou\"]},{\"id\":\"ot_ci\",\"name\":\"OT-CI (Omnis Transport)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"R√©gional & International\",\"regions_desservies\":[\"Ouest\",\"International\"],\"contact_colis\":\"0708611770\",\"destinations\":[\"Abidjan\",\"Man\",\"Danan√©\",\"Zouan-Hounien\",\"Du√©kou√©\",\"Toulepleu\"]},{\"id\":\"etv\",\"name\":\"ETV (Entente Transport Voyageurs)\",\"hub_principal\":\"Abidjan (Adjam√©, Abobo)\",\"type\":\"Sp√©cialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0777657448\",\"destinations\":[\"Abidjan\",\"Bouak√©\",\"Niakara\",\"Tafir√©\",\"Korhogo\",\"Ferkess√©dougou\",\"Ouangolodougou\",\"Pogo\",\"Diawala\",\"Niell√©\"]},{\"id\":\"ocean_ci\",\"name\":\"Oc√©an C√¥te d'Ivoire\",\"hub_principal\":\"Abidjan (Treichville, Adjam√©)\",\"type\":\"Sp√©cialiste Est\",\"regions_desservies\":[\"Est\",\"Sud-Est\"],\"contact_colis\":\"0799242366\",\"destinations\":[\"Abidjan\",\"Aboisso\",\"Adzop√©\",\"Akoup√©\",\"Abengourou\",\"Agnibil√©krou\",\"Bondoukou\",\"Koun-Fao\",\"Tanda\"]},{\"id\":\"jet_express\",\"name\":\"JET Express\",\"hub_principal\":\"Abidjan (Adjam√©, Koumassi)\",\"type\":\"Sp√©cialiste Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"0700146565\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Tabou\",\"Grand-B√©r√©by\",\"Gabiadiji\"]},{\"id\":\"stb\",\"name\":\"STB (Soci√©t√© de Transport Bakayoko)\",\"hub_principal\":\"Abidjan (Abobo, Adjam√©)\",\"type\":\"Sp√©cialiste Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"0504145580\",\"destinations\":[\"Abidjan\",\"Korhogo\"]},{\"id\":\"mt\",\"name\":\"MT (Massa Transport)\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"R√©gional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Du√©kou√©\",\"Man\",\"Danan√©\",\"Bangolo\"]},{\"id\":\"avs\",\"name\":\"AVS (Aek Voyageurs)\",\"hub_principal\":\"Abidjan (Deux-Plateaux, Adjam√©)\",\"type\":\"Premium Centre\",\"regions_desservies\":[\"Centre\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Toumodi\",\"Yamoussoukro\",\"Bouak√©\"]},{\"id\":\"gti\",\"name\":\"GTI Transport\",\"hub_principal\":\"Gagnoa / Abidjan\",\"type\":\"R√©gional\",\"regions_desservies\":[\"Centre-Ouest\",\"Est\"],\"contact_colis\":\"0545206204\",\"destinations\":[\"Abidjan\",\"Gagnoa\",\"Abengourou\",\"Oum√©\"]},{\"id\":\"cte\",\"name\":\"CTE\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bouak√©\",\"Katiola\",\"Korhogo\",\"Ferkess√©dougou\"]},{\"id\":\"bad\",\"name\":\"Badjan Transport\",\"hub_principal\":\"Abidjan (Adjam√©)\",\"type\":\"Historique Est\",\"regions_desservies\":[\"Est\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Bondoukou\",\"Bouna\",\"Tanda\"]},{\"id\":\"sido\",\"name\":\"SIDO Transport\",\"hub_principal\":\"Abidjan (Abobo)\",\"type\":\"R√©gional Nord\",\"regions_desservies\":[\"Nord\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Boundiali\",\"Korhogo\",\"Tengr√©la\"]},{\"id\":\"waridi\",\"name\":\"Waridi Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"S√©gu√©la\",\"Kani\",\"Dianra\",\"Mankono\"]},{\"id\":\"adja\",\"name\":\"Adja Transport\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Nord-Ouest\",\"regions_desservies\":[\"Nord-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Odienn√©\",\"Touba\",\"Madinani\"]},{\"id\":\"st\",\"name\":\"ST (Sama Transport)\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Ouest\",\"regions_desservies\":[\"Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"Daloa\",\"Man\",\"Issia\"]},{\"id\":\"ck\",\"name\":\"CK (Carrefour Kl√©ber)\",\"hub_principal\":\"Abidjan\",\"type\":\"R√©gional Sud-Ouest\",\"regions_desservies\":[\"Sud-Ouest\"],\"contact_colis\":\"\",\"destinations\":[\"Abidjan\",\"San Pedro\",\"Sassandra\",\"Tabou\"]}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 78, "column": 4669}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/data/shippingCompanies.ts"],"sourcesContent":["import shippingCompaniesData from '../exp_cie.json';\n\nexport interface ShippingCompany {\n    id: string;\n    name: string;\n    hub_principal: string;\n    type: string;\n    regions_desservies: string[];\n    contact_colis: string;\n    destinations: string[];\n}\n\n// Typed data\nexport const shippingCompanies: ShippingCompany[] = shippingCompaniesData as ShippingCompany[];\n\n// Find companies that serve a specific city\nexport function findCompaniesByCity(city: string): ShippingCompany[] {\n    const normalizedCity = city.toLowerCase().trim();\n    return shippingCompanies.filter(company =>\n        company.destinations.some(dest => dest.toLowerCase().includes(normalizedCity))\n    );\n}\n\n// Get all unique destinations (cities) from all companies\nexport function getAllDestinations(): string[] {\n    const allDestinations = new Set<string>();\n    shippingCompanies.forEach(company => {\n        company.destinations.forEach(dest => {\n            // Exclude \"Abidjan\" since it's the local zone\n            if (dest.toLowerCase() !== 'abidjan') {\n                allDestinations.add(dest);\n            }\n        });\n    });\n    return Array.from(allDestinations).sort();\n}\n\n// Abidjan area communes for local delivery\nexport const ABIDJAN_AREA = [\n    'Abidjan',\n    'Plateau',\n    'Cocody',\n    'Marcory',\n    'Treichville',\n    'Yopougon',\n    'Abobo',\n    'Adjam√©',\n    'Koumassi',\n    'Port-Bou√´t',\n    'Anyama',\n    'Bingerville',\n    'Grand-Bassam',\n    'Songon',\n    'Brofodoum√©'\n];\n\n// Check if a location is in the Abidjan area\nexport function isInAbidjanArea(location: string): boolean {\n    const normalizedLocation = location.toLowerCase().trim();\n    return ABIDJAN_AREA.some(area => normalizedLocation.includes(area.toLowerCase()));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAaO,MAAM,oBAAuC,0FAAqB;AAGlE,SAAS,oBAAoB,IAAY;IAC5C,MAAM,iBAAiB,KAAK,WAAW,GAAG,IAAI;IAC9C,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAC5B,QAAQ,YAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC;AAEtE;AAGO,SAAS;IACZ,MAAM,kBAAkB,IAAI;IAC5B,kBAAkB,OAAO,CAAC,CAAA;QACtB,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAA;YACzB,8CAA8C;YAC9C,IAAI,KAAK,WAAW,OAAO,WAAW;gBAClC,gBAAgB,GAAG,CAAC;YACxB;QACJ;IACJ;IACA,OAAO,MAAM,IAAI,CAAC,iBAAiB,IAAI;AAC3C;AAGO,MAAM,eAAe;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAGM,SAAS,gBAAgB,QAAgB;IAC5C,MAAM,qBAAqB,SAAS,WAAW,GAAG,IAAI;IACtD,OAAO,aAAa,IAAI,CAAC,CAAA,OAAQ,mBAAmB,QAAQ,CAAC,KAAK,WAAW;AACjF"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/components/CheckoutPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { MapPin, Phone, User, CheckCircle, Loader2, ArrowLeft, ArrowRight, Truck, Crosshair, Mail, Wallet, Banknote, Building2, Search, Info, ShieldCheck } from 'lucide-react';\nimport { CartItem, DeliveryEstimate } from '../types';\nimport { api } from '../services/api';\nimport { ShippingCompany, findCompaniesByCity, getAllDestinations, ABIDJAN_AREA, isInAbidjanArea } from '../data/shippingCompanies';\n\n// Declare Leaflet global type\ndeclare const L: any;\n\ninterface CheckoutPageProps {\n    cart: CartItem[];\n    onBack: () => void;\n    onClearCart: () => void;\n}\n\nexport const CheckoutPage: React.FC<CheckoutPageProps> = ({ cart, onBack, onClearCart }) => {\n    const mapRef = useRef<any>(null);\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const markerRef = useRef<any>(null);\n\n    // Delivery Mode: 'local' (Abidjan area) or 'shipping' (other cities)\n    const [deliveryMode, setDeliveryMode] = useState<'local' | 'shipping'>('local');\n\n    // Shipping mode state\n    const [selectedCity, setSelectedCity] = useState<string>('');\n    const [citySearchQuery, setCitySearchQuery] = useState<string>('');\n    const [availableCompanies, setAvailableCompanies] = useState<ShippingCompany[]>([]);\n    const [selectedCompany, setSelectedCompany] = useState<ShippingCompany | null>(null);\n    const [showCitySuggestions, setShowCitySuggestions] = useState(false);\n    const [manualCompany, setManualCompany] = useState('');\n    const allDestinations = getAllDestinations();\n\n    const [formData, setFormData] = useState({ name: '', phone: '', email: '', addressNote: '', address: '' });\n    const [paymentError, setPaymentError] = useState<string | null>(null);\n    const [paymentMethod, setPaymentMethod] = useState<'cash' | 'online'>('cash');\n    const [location, setLocation] = useState<{ lat: number, lng: number } | null>(null);\n    const [orderPlaced, setOrderPlaced] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isMounted, setIsMounted] = useState(false);\n\n    // Re-check mounting to avoid hydration mismatch\n    useEffect(() => {\n        setIsMounted(true);\n    }, []);\n\n    // Real-time Fee Estimation State (for local delivery only)\n    const [estimatedFee, setEstimatedFee] = useState<number>(1000);\n    const [isEstimating, setIsEstimating] = useState(false);\n    const [distanceKm, setDistanceKm] = useState<number>(0);\n    const [boundaryWarning, setBoundaryWarning] = useState(false);\n\n    // Autocomplete State\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const searchTimeoutRef = useRef<any>(null);\n\n    // Totals Calculation\n    const subTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n    const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);\n    const isEligibleForOffer = totalItems >= 2;\n\n    // Final Delivery Fee logic:\n    // If shipping mode -> 0 (paid at station)\n    // If eligible for offer -> 0\n    // Else -> estimatedFee (from backend)\n    const deliveryFee = deliveryMode === 'shipping' ? 0 : (isEligibleForOffer ? 0 : estimatedFee);\n    const discountAmount = isEligibleForOffer ? subTotal * 0.05 : 0;\n    const total = subTotal + deliveryFee - discountAmount;\n\n    // Filter cities based on search query\n    const filteredCities = citySearchQuery.length > 0\n        ? allDestinations.filter(city => city.toLowerCase().includes(citySearchQuery.toLowerCase()))\n        : allDestinations;\n\n    // Handle city selection\n    const handleCitySelect = (city: string) => {\n        setSelectedCity(city);\n        setCitySearchQuery(city);\n        setShowCitySuggestions(false);\n        const companies = findCompaniesByCity(city);\n        setAvailableCompanies(companies);\n        setSelectedCompany(companies.length > 0 ? companies[0] : null);\n    };\n\n    // Core Update Logic for local delivery\n    const updateLocation = async (lat: number, lng: number, fromMapDrag: boolean = false) => {\n        setIsEstimating(true);\n        try {\n            const result = await api.estimateDelivery(`${lat},${lng}`, subTotal);\n            if (result) {\n                // Check if address is in Abidjan area when dragging marker\n                if (fromMapDrag && result.destination?.address) {\n                    const addressIsInAbidjan = isInAbidjanArea(result.destination.address);\n\n                    if (!addressIsInAbidjan) {\n                        // Reset marker to previous location or default\n                        if (markerRef.current && mapRef.current) {\n                            const prevLat = location?.lat || 5.3484;\n                            const prevLng = location?.lng || -4.0305;\n                            markerRef.current.setLatLng([prevLat, prevLng]);\n                            mapRef.current.panTo([prevLat, prevLng]);\n                        }\n                        alert('Cette zone n\\'est pas couverte par la livraison locale. Veuillez choisir \"Villes de l\\'Int√©rieur\" pour les destinations hors Abidjan.');\n                        setIsEstimating(false);\n                        return;\n                    }\n\n                    setFormData(prev => ({ ...prev, address: result.destination.address }));\n                }\n\n                setLocation({ lat, lng });\n                setEstimatedFee(result.fee);\n                setDistanceKm(result.distanceKm);\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsEstimating(false);\n        }\n    };\n\n    // Initialize Map (only for local delivery mode)\n    useEffect(() => {\n        if (!isMounted || deliveryMode !== 'local') return;\n\n        // Safety Check for Leaflet\n        if (typeof L === 'undefined') {\n            console.error(\"Leaflet is not loaded\");\n            return;\n        }\n\n        const timer = setTimeout(() => {\n            try {\n                if (mapContainerRef.current && !mapRef.current) {\n                    // Start centered on Abidjan\n                    const defaultLat = 5.3484;\n                    const defaultLng = -4.0305;\n\n                    // Restrict to Abidjan area only (excluding Dabou - stops at Songon)\n                    const abidjanBounds = [[5.15, -4.25], [5.55, -3.70]];\n                    const map = L.map(mapContainerRef.current, {\n                        maxBounds: abidjanBounds,\n                        minZoom: 11\n                    }).setView([defaultLat, defaultLng], 13);\n\n                    // PROXY LOCAL (Nginx) - Caches tiles to avoid OSM limits and speed up loading\n                    L.tileLayer('http://localhost:8081/osm/{z}/{x}/{y}.png', {\n                        attribution: '&copy; OpenStreetMap contributors',\n                        maxZoom: 19\n                    }).addTo(map);\n\n                    // Icon\n                    const icon = L.icon({\n                        iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n                        shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n                        iconSize: [25, 41],\n                        iconAnchor: [12, 41]\n                    });\n\n                    const marker = L.marker([defaultLat, defaultLng], { draggable: true, icon }).addTo(map);\n                    markerRef.current = marker;\n                    setLocation({ lat: defaultLat, lng: defaultLng });\n\n                    // Events\n                    marker.on('dragend', function (event: any) {\n                        const { lat, lng } = marker.getLatLng();\n                        updateLocation(lat, lng, true);\n                    });\n\n                    map.on('click', function (e: any) {\n                        marker.setLatLng(e.latlng);\n                        const { lat, lng } = e.latlng;\n                        updateLocation(lat, lng, true);\n                    });\n\n                    // Show warning when user tries to pan outside bounds\n                    map.on('drag', function () {\n                        const center = map.getCenter();\n                        const bounds = L.latLngBounds([[5.15, -4.25], [5.55, -3.70]]);\n                        if (!bounds.contains(center)) {\n                            setBoundaryWarning(true);\n                            setTimeout(() => setBoundaryWarning(false), 3000);\n                        }\n                    });\n\n                    mapRef.current = map;\n\n                    // Fix for gray map: invalidate size after a short delay\n                    setTimeout(() => {\n                        if (mapRef.current) {\n                            mapRef.current.invalidateSize();\n                        }\n                    }, 500);\n\n                    // Initial estimate at start location\n                    if (!location) {\n                        updateLocation(defaultLat, defaultLng);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Map initialization failed:\", error);\n            }\n        }, 100);\n\n        return () => clearTimeout(timer);\n    }, [isMounted, deliveryMode]);\n\n    // Cleanup map when switching to shipping mode\n    useEffect(() => {\n        if (deliveryMode === 'shipping' && mapRef.current) {\n            mapRef.current.remove();\n            mapRef.current = null;\n            markerRef.current = null;\n        }\n    }, [deliveryMode]);\n\n    // Force online payment for shipping mode\n    useEffect(() => {\n        if (deliveryMode === 'shipping') {\n            setPaymentMethod('online');\n        }\n    }, [deliveryMode]);\n\n    // Handle Input Change with Debounce Search\n    const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const val = e.target.value;\n        setFormData({ ...formData, address: val });\n\n        if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n\n        if (val.length > 2) {\n            searchTimeoutRef.current = setTimeout(async () => {\n                const results = await api.searchPlaces(val);\n                setSuggestions(results);\n                setShowSuggestions(true);\n            }, 300);\n        } else {\n            setSuggestions([]);\n            setShowSuggestions(false);\n        }\n    };\n\n    const handleSuggestionClick = (place: any) => {\n        const addressName = place.display_name;\n\n        // Check if address is in Abidjan area\n        const isInAbidjan = isInAbidjanArea(addressName);\n\n        if (!isInAbidjan) {\n            // Auto-switch to shipping mode\n            setDeliveryMode('shipping');\n\n            // Try to extract city name from the address\n            const addressParts = addressName.split(',').map((p: string) => p.trim());\n            // Usually format is: \"Location, Neighborhood, City, Country\"\n            // Try to find a known city or use the main part\n            let cityName = addressParts[0];\n            for (const part of addressParts) {\n                const companies = findCompaniesByCity(part);\n                if (companies.length > 0) {\n                    cityName = part;\n                    break;\n                }\n            }\n\n            setCitySearchQuery(cityName);\n            setSelectedCity(cityName);\n            const companies = findCompaniesByCity(cityName);\n            setAvailableCompanies(companies);\n            if (companies.length > 0) {\n                setSelectedCompany(companies[0]);\n            }\n\n            // Clear local delivery data\n            setFormData({ ...formData, address: '' });\n            setSuggestions([]);\n            setShowSuggestions(false);\n            return;\n        }\n\n        // In Abidjan area - proceed normally\n        setFormData({ ...formData, address: addressName });\n\n        // Update Map & Fee\n        if (mapRef.current && markerRef.current) {\n            const newLatLng = new L.LatLng(place.lat, place.lon);\n            markerRef.current.setLatLng(newLatLng);\n            mapRef.current.panTo(newLatLng);\n        }\n\n        // Trigger update logic\n        setLocation({ lat: place.lat, lng: place.lon });\n\n        api.estimateDelivery(`${place.lat},${place.lon}`, subTotal).then(res => {\n            if (res) {\n                setEstimatedFee(res.fee);\n                setDistanceKm(res.distanceKm);\n            }\n        });\n\n        // Clear UI\n        setSuggestions([]);\n        setShowSuggestions(false);\n    };\n\n    const handleGeolocation = () => {\n        if (!navigator.geolocation) {\n            alert(\"La g√©olocalisation n'est pas support√©e par votre navigateur.\");\n            return;\n        }\n\n        setIsEstimating(true);\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                const { latitude, longitude } = position.coords;\n\n                // Check bounds (Roughly CI)\n                if (latitude < 4.3 || latitude > 10.8 || longitude < -8.7 || longitude > -2.5) {\n                    alert(\"Votre position semble √™tre hors de la C√¥te d'Ivoire.\");\n                    setIsEstimating(false);\n                    return;\n                }\n\n                if (mapRef.current && markerRef.current) {\n                    const newLatLng = new L.LatLng(latitude, longitude);\n                    markerRef.current.setLatLng(newLatLng);\n                    mapRef.current.setView(newLatLng, 15);\n\n                    // Trigger update\n                    updateLocation(latitude, longitude, true);\n                }\n            },\n            (error) => {\n                console.error(error);\n                setIsEstimating(false);\n                alert(\"Impossible de r√©cup√©rer votre position. V√©rifiez vos autorisations GPS.\");\n            }\n        );\n    };\n\n    // Handle Address Text Change (Blur or specific button)\n    const handleAddressBlur = async () => {\n        if (!formData.address) return;\n\n        setIsEstimating(true);\n        try {\n            // Forward Geocoding via Backend\n            const result = await api.estimateDelivery(formData.address, subTotal);\n            if (result && result.destination) {\n                const { lat, lon, address } = result.destination;\n\n                // Update map\n                if (mapRef.current && markerRef.current) {\n                    const newLatLng = new L.LatLng(lat, lon);\n                    markerRef.current.setLatLng(newLatLng);\n                    mapRef.current.panTo(newLatLng);\n                }\n\n                // Update state\n                setLocation({ lat, lng: lon });\n                setEstimatedFee(result.fee);\n                setDistanceKm(result.distanceKm);\n            }\n        } catch (e) {\n            console.error(\"Address lookup failed\", e);\n        } finally {\n            setIsEstimating(false);\n        }\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setPaymentError(null);\n\n        // Validation\n        if (!formData.name || !formData.phone) {\n            alert(\"Veuillez remplir vos informations.\");\n            return;\n        }\n\n        if (deliveryMode === 'local' && !location) {\n            alert(\"Veuillez s√©lectionner un lieu de livraison sur la carte.\");\n            return;\n        }\n\n        if (deliveryMode === 'shipping') {\n            if (!selectedCity) {\n                alert(\"Veuillez saisir votre ville de destination.\");\n                return;\n            }\n            // If no companies found for this city, require manual company entry\n            if (availableCompanies.length === 0 && !manualCompany) {\n                alert(\"Veuillez saisir votre compagnie de transport pr√©f√©r√©e.\");\n                return;\n            }\n            // If companies found, require either selection OR manual entry\n            if (availableCompanies.length > 0 && !selectedCompany && !manualCompany) {\n                alert(\"Veuillez s√©lectionner une compagnie de transport ou saisir une autre compagnie.\");\n                return;\n            }\n        }\n\n        setIsSubmitting(true);\n\n        // Build address string based on mode\n        let addressString: string;\n        let shippingCompanyName: string | undefined;\n        let shippingCityName: string | undefined;\n\n        if (deliveryMode === 'local') {\n            addressString = `${formData.address} (GPS: ${location!.lat.toFixed(5)}, ${location!.lng.toFixed(5)}) ${formData.addressNote ? '- ' + formData.addressNote : ''}`;\n        } else if (manualCompany) {\n            // User entered a custom company (either no companies found OR chose \"Autre compagnie\")\n            addressString = `${selectedCity} - Exp√©dition via ${manualCompany}`;\n            shippingCompanyName = manualCompany;\n            shippingCityName = selectedCity;\n        } else {\n            // Using selected company from list\n            addressString = `${selectedCity} - Exp√©dition via ${selectedCompany!.name} (${selectedCompany!.hub_principal})`;\n            shippingCompanyName = selectedCompany!.name;\n            shippingCityName = selectedCity;\n        }\n\n        // CASH ON DELIVERY FLOW\n        if (paymentMethod === 'cash') {\n            const orderId = 'CMD-' + Math.floor(Math.random() * 1000000);\n            try {\n                await api.createDelivery({\n                    orderId,\n                    address: addressString,\n                    lat: deliveryMode === 'local' ? location!.lat : 0,\n                    lon: deliveryMode === 'local' ? location!.lng : 0,\n                    fee: deliveryFee,\n                    customerName: formData.name,\n                    customerPhone: formData.phone,\n                    shippingCompany: shippingCompanyName,\n                    shippingCity: shippingCityName\n                });\n                setOrderPlaced(true);\n                onClearCart();\n            } catch (error) {\n                console.error(error);\n                setPaymentError(\"Erreur lors de la commande. Veuillez r√©essayer.\");\n            } finally {\n                setIsSubmitting(false);\n            }\n            return;\n        }\n\n        // ONLINE PAYMENT FLOW (Moneroo)\n        try {\n            const result = await api.initiatePayment({\n                cart: cart,\n                customer: {\n                    name: formData.name,\n                    phone: formData.phone,\n                    email: formData.email || undefined\n                },\n                delivery: {\n                    address: addressString,\n                    lat: deliveryMode === 'local' ? location!.lat : 0,\n                    lon: deliveryMode === 'local' ? location!.lng : 0,\n                    fee: deliveryFee,\n                    addressNote: formData.addressNote || undefined,\n                    shippingCompany: shippingCompanyName,\n                    shippingCity: shippingCityName\n                }\n            });\n\n            sessionStorage.setItem('pendingOrderId', result.orderId);\n            window.location.href = result.checkoutUrl;\n\n        } catch (error: any) {\n            console.error('Payment error:', error);\n            setPaymentError(error.response?.data?.message || \"Erreur lors de l'initialisation du paiement. Veuillez r√©essayer.\");\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleWhatsApp = () => {\n        const url = `https://wa.me/2250143678397?text=Mon%20numero%20commande%20${Math.floor(Math.random() * 1000)}`;\n        window.open(url, '_blank');\n    };\n\n    if (!isMounted) return null;\n\n    if (orderPlaced) {\n        return (\n            <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4\">\n                <div className=\"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md w-full\">\n                    <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                        <CheckCircle className=\"w-10 h-10 text-green-600\" />\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Commande Re√ßue !</h2>\n                    <p className=\"text-gray-600 mb-4\">\n                        Merci {formData.name}. Nous vous contacterons au {formData.phone} pour la livraison.\n                    </p>\n                    {deliveryMode === 'shipping' && selectedCompany && (\n                        <div className=\"bg-blue-50 p-4 rounded-xl mb-4\">\n                            <p className=\"text-sm text-blue-800 font-medium\">üì¶ Exp√©dition via {selectedCompany.name}</p>\n                            <p className=\"text-xs text-blue-600 mt-1\">\n                                R√©cup√©rez votre colis √† la gare de {selectedCity}\n                                {selectedCompany.contact_colis && (\n                                    <><br />Contact: {selectedCompany.contact_colis}</>\n                                )}\n                            </p>\n                        </div>\n                    )}\n                    <div className=\"space-y-3\">\n                        <button onClick={onBack} className=\"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50\">\n                            Retour √† l'accueil\n                        </button>\n                        <button onClick={handleWhatsApp} className=\"w-full py-3 bg-[#25D366] text-white rounded-xl font-bold hover:bg-[#128C7E]\">\n                            Suivre sur WhatsApp\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-transparent flex flex-col text-gray-900\">\n            {/* Header */}\n            <div className=\"bg-white/80 backdrop-blur-md border-b border-black/5 sticky top-0 z-30 px-4 py-6 md:px-8\">\n                <div className=\"max-w-7xl mx-auto flex items-center gap-6\">\n                    <button onClick={onBack} className=\"p-3 hover:bg-black/5 rounded-full transition-colors group\">\n                        <ArrowLeft className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\n                    </button>\n                    <div>\n                        <h1 className=\"text-2xl font-bold tracking-tight text-black\">Finaliser la commande</h1>\n                        <p className=\"text-[10px] uppercase tracking-[0.2em] text-black/40 font-semibold mt-0.5\">√âtape finale ‚Äî S√©curis√©</p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"flex-1 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-12 gap-8 p-4 md:p-8 relative z-10\">\n\n                {/* Left Col: Delivery Location */}\n                <div className=\"lg:col-span-8 space-y-8\">\n                    <div className=\"bg-white/70 backdrop-blur-sm p-8 rounded-3xl border border-black/5 shadow-premium flex flex-col h-full\">\n                        <div className=\"flex items-center justify-between mb-8\">\n                            <h2 className=\"text-2xl font-bold tracking-tight flex items-center gap-3\">\n                                <div className=\"p-2 bg-black text-white rounded-lg\">\n                                    <MapPin className=\"w-5 h-5\" />\n                                </div>\n                                Lieu de livraison\n                            </h2>\n                        </div>\n\n                        {/* Delivery Mode Selector */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\">\n                            <button\n                                type=\"button\"\n                                onClick={() => setDeliveryMode('local')}\n                                className={`group p-6 rounded-2xl border-2 transition-all duration-300 flex items-center gap-4 text-left ${deliveryMode === 'local'\n                                    ? 'border-black bg-black text-white shadow-xl shadow-black/10'\n                                    : 'border-black/5 bg-white/50 hover:border-black/20 text-black/60'\n                                    }`}\n                            >\n                                <div className={`p-3 rounded-xl transition-colors ${deliveryMode === 'local' ? 'bg-white/10' : 'bg-black/5'}`}>\n                                    <MapPin className={`w-6 h-6 ${deliveryMode === 'local' ? 'text-white' : 'text-black/40'}`} />\n                                </div>\n                                <div>\n                                    <span className=\"block font-bold text-lg leading-tight text-inherit\">Abidjan & Environs</span>\n                                    <span className=\"text-xs opacity-60 mt-1 block\">Livraison directe √† domicile</span>\n                                </div>\n                            </button>\n                            <button\n                                type=\"button\"\n                                onClick={() => setDeliveryMode('shipping')}\n                                className={`group p-6 rounded-2xl border-2 transition-all duration-300 flex items-center gap-4 text-left ${deliveryMode === 'shipping'\n                                    ? 'border-black bg-black text-white shadow-xl shadow-black/10'\n                                    : 'border-black/5 bg-white/50 hover:border-black/20 text-black/60'\n                                    }`}\n                            >\n                                <div className={`p-3 rounded-xl transition-colors ${deliveryMode === 'shipping' ? 'bg-white/10' : 'bg-black/5'}`}>\n                                    <Truck className={`w-6 h-6 ${deliveryMode === 'shipping' ? 'text-white' : 'text-black/40'}`} />\n                                </div>\n                                <div>\n                                    <span className=\"block font-bold text-lg leading-tight text-inherit\">Villes de l'Int√©rieur</span>\n                                    <span className=\"text-xs opacity-60 mt-1 block\">Exp√©dition par compagnie</span>\n                                </div>\n                            </button>\n                        </div>\n\n                        {/* LOCAL DELIVERY - Map Section */}\n                        {deliveryMode === 'local' && (\n                            <div className=\"space-y-6\">\n                                <div className=\"relative\">\n                                    <label className=\"block text-sm font-bold text-black/40 uppercase tracking-widest mb-3 px-1\">Adresse de livraison</label>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"w-full pl-12 pr-12 py-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium\"\n                                            placeholder=\"Rechercher une adresse (ex: Riviera 3, Cocody)...\"\n                                            value={formData.address}\n                                            onChange={handleAddressChange}\n                                            onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\n                                        />\n                                        <MapPin className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black/20\" />\n                                        {isEstimating && <div className=\"absolute right-4 top-1/2 -translate-y-1/2\"><Loader2 className=\"w-5 h-5 animate-spin text-black/40\" /></div>}\n                                    </div>\n\n                                    {/* Suggestions Dropdown */}\n                                    {showSuggestions && suggestions.length > 0 && (\n                                        <div className=\"absolute top-full left-0 right-0 z-[1001] mt-2 bg-white border border-black/5 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\n                                            {suggestions.map((place, idx) => {\n                                                const displayName = place.display_name;\n                                                const searchTerm = formData.address.toLowerCase();\n                                                const mainName = displayName.split(',')[0];\n\n                                                // Highlight matching text in main name\n                                                const highlightText = (text: string, term: string) => {\n                                                    if (!term || term.length < 2) return text;\n                                                    const regex = new RegExp(`(${term})`, 'gi');\n                                                    const parts = text.split(regex);\n                                                    return parts.map((part, i) =>\n                                                        part.toLowerCase() === term.toLowerCase()\n                                                            ? <mark key={i} className=\"bg-yellow-200 text-black px-0.5 rounded\">{part}</mark>\n                                                            : part\n                                                    );\n                                                };\n\n                                                return (\n                                                    <div\n                                                        key={idx}\n                                                        className=\"p-4 hover:bg-black/5 cursor-pointer border-b border-black/5 last:border-0 transition-colors\"\n                                                        onClick={() => handleSuggestionClick(place)}\n                                                    >\n                                                        <p className=\"font-bold text-black truncate\">{highlightText(mainName, searchTerm)}</p>\n                                                        <p className=\"text-xs text-black/40 truncate\">{displayName}</p>\n                                                    </div>\n                                                );\n                                            })}\n                                        </div>\n                                    )}\n                                </div>\n\n                                <div className=\"relative rounded-2xl overflow-hidden border border-black/5 shadow-inner bg-black/5 h-[450px]\">\n                                    <div ref={mapContainerRef} className=\"w-full h-full\" />\n                                    {/* Geolocation Button */}\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleGeolocation}\n                                        className=\"absolute bottom-6 right-6 z-[400] bg-black text-white p-4 rounded-xl shadow-2xl hover:scale-105 transition-all\"\n                                        title=\"Utiliser ma position actuelle\"\n                                    >\n                                        <Crosshair className=\"w-6 h-6\" />\n                                    </button>\n                                    {/* Boundary Warning Message */}\n                                    {/* Boundary Warning Message */}\n                                    {boundaryWarning && (\n                                        <div className=\"absolute top-16 left-6 right-6 z-[400] animate-in fade-in slide-in-from-top-2 duration-200\">\n                                            <div className=\"bg-orange-500 text-white px-4 py-3 rounded-xl shadow-lg text-sm font-medium flex items-center gap-2\">\n                                                <svg className=\"w-5 h-5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                                                </svg>\n                                                Zone hors Abidjan ! Pour les autres villes, choisissez \"Villes de l'Int√©rieur\"\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div className=\"p-6 bg-black/5 rounded-2xl border border-black/5\">\n                                        <p className=\"text-[10px] uppercase tracking-widest text-black/40 font-bold mb-1\">Distance estim√©e</p>\n                                        <p className=\"text-2xl font-bold tracking-tight text-black\">{distanceKm} <span className=\"text-sm font-normal text-black/40 tracking-normal\">kilom√®tres</span></p>\n                                    </div>\n                                    <div className=\"p-6 bg-black text-white rounded-2xl shadow-xl shadow-black/10\">\n                                        <p className=\"text-[10px] uppercase tracking-widest text-white/40 font-bold mb-1\">Frais de livraison</p>\n                                        {isEstimating ? (\n                                            <Loader2 className=\"w-6 h-6 animate-spin text-white/40\" />\n                                        ) : (\n                                            <p className=\"text-2xl font-bold tracking-tight\">\n                                                {isEligibleForOffer ? <span className=\"text-green-400\">Offerts</span> : `${estimatedFee.toLocaleString()} F`}\n                                            </p>\n                                        )}\n                                    </div>\n                                </div>\n                                <p className=\"text-xs text-center text-black/30 font-medium italic\">\n                                    Glissez le marqueur sur la carte pour affiner l'emplacement exact.\n                                </p>\n                            </div>\n                        )}\n\n                        {/* SHIPPING MODE - Unified City & Company Selection */}\n                        {deliveryMode === 'shipping' && (\n                            <div className=\"space-y-8\">\n                                {/* City Input */}\n                                <div className=\"relative z-[20]\">\n                                    <label className=\"block text-sm font-bold text-black/40 uppercase tracking-widest mb-3 px-1\">Ville de destination</label>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"w-full pl-12 pr-12 py-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium\"\n                                            placeholder=\"Saisir votre ville (ex: Bouak√©, Man, Daloa...)\"\n                                            value={citySearchQuery}\n                                            onChange={(e) => {\n                                                const val = e.target.value;\n                                                setCitySearchQuery(val);\n                                                setShowCitySuggestions(val.length > 0);\n                                                setAvailableCompanies([]);\n                                                setSelectedCompany(null);\n                                                setManualCompany('');\n                                            }}\n                                            onFocus={() => setShowCitySuggestions(citySearchQuery.length > 0)}\n                                            onBlur={() => {\n                                                setTimeout(() => {\n                                                    setShowCitySuggestions(false);\n                                                    if (citySearchQuery && !selectedCity) {\n                                                        setSelectedCity(citySearchQuery);\n                                                        const companies = findCompaniesByCity(citySearchQuery);\n                                                        setAvailableCompanies(companies);\n                                                        if (companies.length > 0) {\n                                                            setSelectedCompany(companies[0]);\n                                                        }\n                                                    }\n                                                }, 200);\n                                            }}\n                                        />\n                                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black/20\" />\n                                    </div>\n\n                                    {/* City Suggestions */}\n                                    {showCitySuggestions && filteredCities.length > 0 && (\n                                        <div className=\"absolute top-full left-0 right-0 z-[1001] mt-2 bg-white border border-black/5 rounded-2xl shadow-2xl max-h-[300px] overflow-y-auto animate-in fade-in slide-in-from-top-2 duration-200\">\n                                            {filteredCities.slice(0, 10).map((city, idx) => {\n                                                const searchTerm = citySearchQuery.toLowerCase();\n\n                                                // Highlight matching text\n                                                const highlightText = (text: string, term: string) => {\n                                                    if (!term || term.length < 1) return text;\n                                                    const regex = new RegExp(`(${term})`, 'gi');\n                                                    const parts = text.split(regex);\n                                                    return parts.map((part, i) =>\n                                                        part.toLowerCase() === term.toLowerCase()\n                                                            ? <mark key={i} className=\"bg-yellow-200 text-black px-0.5 rounded\">{part}</mark>\n                                                            : part\n                                                    );\n                                                };\n\n                                                return (\n                                                    <div\n                                                        key={idx}\n                                                        className=\"p-4 hover:bg-black/5 cursor-pointer border-b border-black/5 last:border-0 transition-colors font-bold text-black\"\n                                                        onClick={() => handleCitySelect(city)}\n                                                    >\n                                                        {highlightText(city, searchTerm)}\n                                                    </div>\n                                                );\n                                            })}\n                                        </div>\n                                    )}\n                                </div>\n\n                                {/* Show companies or manual company input */}\n                                {selectedCity && (\n                                    <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                                        <div className=\"flex items-center justify-between px-1\">\n                                            <p className=\"text-sm font-bold text-black/40 uppercase tracking-widest flex items-center gap-2\">\n                                                <Building2 className=\"w-4 h-4\" />\n                                                {availableCompanies.length > 0 ? `Compagnies desservant ${selectedCity}` : 'Compagnie de transport'}\n                                            </p>\n                                        </div>\n\n                                        {availableCompanies.length > 0 ? (\n                                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                                {availableCompanies.map((company) => (\n                                                    <label\n                                                        key={company.id}\n                                                        className={`group p-5 rounded-2xl border-2 cursor-pointer transition-all duration-300 relative ${selectedCompany?.id === company.id && !manualCompany\n                                                            ? 'border-black bg-black text-white shadow-xl shadow-black/10'\n                                                            : 'border-black/5 bg-white hover:border-black/20 text-black'\n                                                            }`}\n                                                    >\n                                                        <input\n                                                            type=\"radio\"\n                                                            name=\"shippingCompany\"\n                                                            value={company.id}\n                                                            checked={selectedCompany?.id === company.id && !manualCompany}\n                                                            onChange={() => {\n                                                                setSelectedCompany(company);\n                                                                setManualCompany('');\n                                                            }}\n                                                            className=\"sr-only\"\n                                                        />\n                                                        <div className=\"flex flex-col h-full justify-between gap-2\">\n                                                            <div>\n                                                                <p className=\"font-bold text-lg leading-tight\">{company.name}</p>\n                                                                <p className={`text-xs mt-1 ${selectedCompany?.id === company.id && !manualCompany ? 'text-white/60' : 'text-black/40'}`}>\n                                                                    Gare: {company.hub_principal}\n                                                                </p>\n                                                            </div>\n                                                            <div className=\"flex items-center justify-between mt-4\">\n                                                                <span className={`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${selectedCompany?.id === company.id && !manualCompany ? 'bg-white/10 text-white' : 'bg-black/5 text-black/60'}`}>\n                                                                    {company.contact_colis || 'Contact Colis'}\n                                                                </span>\n                                                                {selectedCompany?.id === company.id && !manualCompany && <CheckCircle className=\"w-5 h-5 text-green-400\" />}\n                                                            </div>\n                                                        </div>\n                                                    </label>\n                                                ))}\n\n                                                {/* Autre compagnie option */}\n                                                <label\n                                                    className={`group p-5 rounded-2xl border-2 border-dashed cursor-pointer transition-all duration-300 ${manualCompany\n                                                        ? 'border-black bg-black text-white shadow-xl shadow-black/10'\n                                                        : 'border-black/10 bg-white/30 hover:border-black/20 text-black'\n                                                        }`}\n                                                >\n                                                    <input\n                                                        type=\"radio\"\n                                                        name=\"shippingCompany\"\n                                                        value=\"other\"\n                                                        checked={!!manualCompany}\n                                                        onChange={() => setSelectedCompany(null)}\n                                                        className=\"sr-only\"\n                                                    />\n                                                    <div className=\"flex flex-col gap-3\">\n                                                        <p className=\"font-bold\">Autre compagnie</p>\n                                                        <input\n                                                            type=\"text\"\n                                                            className={`w-full p-3 rounded-xl outline-none text-sm font-medium transition-colors ${manualCompany ? 'bg-white/10 text-white placeholder-white/30' : 'bg-black/5 text-black placeholder-black/20'}`}\n                                                            placeholder=\"Entrez le nom...\"\n                                                            value={manualCompany}\n                                                            onChange={(e) => {\n                                                                setManualCompany(e.target.value);\n                                                                if (e.target.value) {\n                                                                    setSelectedCompany(null);\n                                                                }\n                                                            }}\n                                                            onClick={(e) => e.stopPropagation()}\n                                                        />\n                                                    </div>\n                                                </label>\n                                            </div>\n                                        ) : (\n                                            <div className=\"p-2\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"w-full p-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none shadow-sm font-medium\"\n                                                    placeholder=\"UTB, TSR, SBTA ou autre...\"\n                                                    value={manualCompany}\n                                                    onChange={(e) => setManualCompany(e.target.value)}\n                                                />\n                                                <p className=\"text-xs text-black/40 mt-3 italic font-medium\">Nous confirmerons les d√©tails de l'exp√©dition avec vous par t√©l√©phone.</p>\n                                            </div>\n                                        )}\n\n                                        <div className=\"mt-8 p-6 bg-black text-white rounded-2xl border border-black/5 relative overflow-hidden group\">\n                                            <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform\"></div>\n                                            <div className=\"relative z-10 flex gap-4\">\n                                                <div className=\"p-3 bg-white/10 rounded-xl h-fit\">\n                                                    <Info className=\"w-5 h-5\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-sm font-bold uppercase tracking-widest mb-1\">Logistique & Frais</p>\n                                                    <p className=\"text-sm text-white/70 leading-relaxed font-light\">\n                                                        Notez que les frais de transport inter-urbains sont <span className=\"font-bold text-white\">payables directement √† la gare</span> au moment du retrait de votre colis.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n\n                                {!selectedCity && !citySearchQuery && (\n                                    <div className=\"flex-1 flex flex-col items-center justify-center py-20 bg-black/5 rounded-3xl border border-dashed border-black/10\">\n                                        <div className=\"p-6 bg-white rounded-full shadow-sm mb-6\">\n                                            <Truck className=\"w-12 h-12 text-black/20\" />\n                                        </div>\n                                        <p className=\"text-black/40 font-bold uppercase tracking-widest text-sm\">Choisissez votre ville pour voir les gares disponibles</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Right Col: Summary & Finalization */}\n                <div className=\"lg:col-span-4 space-y-8 h-fit lg:sticky lg:top-28 z-[10]\">\n\n                    {/* Order Summary */}\n                    <div className=\"bg-white/70 backdrop-blur-sm p-8 rounded-3xl border border-black/5 shadow-premium\">\n                        <div className=\"flex items-center gap-3 mb-8\">\n                            <h3 className=\"text-xl font-bold tracking-tight\">R√©capitulatif</h3>\n                            <div className=\"ml-auto bg-black text-white px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tighter\">Items: {totalItems}</div>\n                        </div>\n\n                        <div className=\"space-y-6\">\n                            <div className=\"space-y-4 max-h-[300px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-black/5\">\n                                {cart.map(item => (\n                                    <div key={item.id} className=\"flex gap-4\">\n                                        <div className=\"w-12 h-12 bg-black/5 rounded-lg flex items-center justify-center font-bold text-black/40 text-xs shrink-0\">\n                                            {item.quantity}x\n                                        </div>\n                                        <div className=\"flex-1 min-w-0\">\n                                            <p className=\"font-bold text-black truncate\">{item.name}</p>\n                                            <p className=\"text-xs text-black/40\">{(item.price * item.quantity).toLocaleString()} F</p>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n\n                            <div className=\"pt-6 border-t border-black/5 space-y-3\">\n                                <div className=\"flex justify-between items-center text-sm\">\n                                    <span className=\"text-black/40 font-bold uppercase tracking-wider text-[10px]\">Sous-total</span>\n                                    <span className=\"font-bold\">{subTotal.toLocaleString()} F</span>\n                                </div>\n                                <div className=\"flex justify-between items-center text-sm\">\n                                    <span className=\"text-black/40 font-bold uppercase tracking-wider text-[10px]\">Livraison</span>\n                                    {deliveryMode === 'shipping' ? (\n                                        <span className=\"text-[10px] font-bold text-black bg-black/5 px-2 py-1 rounded\">√Ä LA GARE</span>\n                                    ) : (\n                                        <span className=\"font-bold text-black\">{deliveryFee === 0 ? 'Gratuite' : `${deliveryFee.toLocaleString()} F`}</span>\n                                    )}\n                                </div>\n                                {discountAmount > 0 && (\n                                    <div className=\"flex justify-between items-center text-sm p-2 bg-green-50 rounded-xl\">\n                                        <span className=\"text-green-600 font-bold uppercase tracking-wider text-[10px]\">R√©duction (-5%)</span>\n                                        <span className=\"font-bold text-green-600\">-{discountAmount.toLocaleString()} F</span>\n                                    </div>\n                                )}\n                                <div className=\"pt-4 flex justify-between items-end border-t border-black text-black\">\n                                    <span className=\"text-[10px] font-bold uppercase tracking-[.2em] mb-1\">Total Final</span>\n                                    <span className=\"text-4xl font-bold tracking-tighter leading-none\">{total.toLocaleString()} <span className=\"text-sm font-normal align-top ml-1\">F</span></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Contact Form */}\n                    <div className=\"bg-white/70 backdrop-blur-sm p-8 rounded-3xl border border-black/5 shadow-premium\">\n                        <h3 className=\"text-xl font-bold tracking-tight mb-8\">Vos Coordonn√©es</h3>\n                        <form onSubmit={handleSubmit} className=\"space-y-6\">\n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-[10px] font-bold text-black/40 uppercase tracking-widest mb-2 px-1\">Nom complet</label>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"w-full pl-12 pr-4 py-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium\"\n                                            placeholder=\"Votre nom et pr√©noms\"\n                                            required\n                                            value={formData.name}\n                                            onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                        />\n                                        <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black/20\" />\n                                    </div>\n                                </div>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div>\n                                        <label className=\"block text-[10px] font-bold text-black/40 uppercase tracking-widest mb-2 px-1\">T√©l√©phone</label>\n                                        <div className=\"relative\">\n                                            <input\n                                                type=\"tel\"\n                                                className=\"w-full pl-12 pr-4 py-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium\"\n                                                placeholder=\"+225...\"\n                                                required\n                                                value={formData.phone}\n                                                onChange={e => setFormData({ ...formData, phone: e.target.value })}\n                                            />\n                                            <Phone className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black/20\" />\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <label className=\"block text-[10px] font-bold text-black/40 uppercase tracking-widest mb-2 px-1\">Email <span className=\"lowercase font-normal opacity-50\">(facultatif)</span></label>\n                                        <div className=\"relative\">\n                                            <input\n                                                type=\"email\"\n                                                className=\"w-full pl-12 pr-4 py-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium\"\n                                                placeholder=\"votre@email.com\"\n                                                value={formData.email}\n                                                onChange={e => setFormData({ ...formData, email: e.target.value })}\n                                            />\n                                            <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black/20\" />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <label className=\"block text-[10px] font-bold text-black/40 uppercase tracking-widest mb-2 px-1\">Note pour le livreur</label>\n                                    <textarea\n                                        className=\"w-full p-4 bg-white border border-black/10 rounded-2xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all shadow-sm font-medium min-h-[100px] resize-none\"\n                                        placeholder=\"Pr√©cisions sur l'adresse, horaires...\"\n                                        value={formData.addressNote}\n                                        onChange={e => setFormData({ ...formData, addressNote: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Payment Method */}\n                            <div className=\"pt-6 border-t border-black/5\">\n                                <label className=\"block text-[10px] font-bold text-black/40 uppercase tracking-widest mb-4 px-1\">Mode de paiement</label>\n                                <div className=\"grid grid-cols-1 gap-3\">\n                                    {/* Cash on delivery - disabled for shipping */}\n                                    <label\n                                        className={`group p-5 rounded-2xl border-2 transition-all duration-300 flex items-center justify-between ${deliveryMode === 'shipping'\n                                            ? 'border-black/5 bg-black/5 text-black/30 cursor-not-allowed'\n                                            : paymentMethod === 'cash'\n                                                ? 'border-black bg-black text-white shadow-xl shadow-black/10 cursor-pointer'\n                                                : 'border-black/5 bg-white hover:border-black/20 text-black cursor-pointer'\n                                            }`}\n                                    >\n                                        <input\n                                            type=\"radio\"\n                                            name=\"paymentMethod\"\n                                            value=\"cash\"\n                                            checked={paymentMethod === 'cash'}\n                                            onChange={() => deliveryMode === 'local' && setPaymentMethod('cash')}\n                                            disabled={deliveryMode === 'shipping'}\n                                            className=\"sr-only\"\n                                        />\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`p-3 rounded-xl ${deliveryMode === 'shipping'\n                                                ? 'bg-black/5'\n                                                : paymentMethod === 'cash' ? 'bg-white/10' : 'bg-black/5'\n                                                }`}>\n                                                <Banknote className=\"w-6 h-6\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"font-bold\">Paiement √† la livraison</p>\n                                                <p className={`text-xs ${deliveryMode === 'shipping'\n                                                    ? 'text-black/30'\n                                                    : paymentMethod === 'cash' ? 'text-white/60' : 'text-black/40'\n                                                    }`}>\n                                                    {deliveryMode === 'shipping'\n                                                        ? 'Disponible uniquement pour Abidjan et alentours'\n                                                        : 'Esp√®ces ou Wave √† l\\'arriv√©e'\n                                                    }\n                                                </p>\n                                            </div>\n                                        </div>\n                                        {paymentMethod === 'cash' && deliveryMode === 'local' && <CheckCircle className=\"w-5 h-5 text-green-400\" />}\n                                    </label>\n\n                                    <label\n                                        className={`group p-5 rounded-2xl border-2 cursor-pointer transition-all duration-300 flex items-center justify-between ${paymentMethod === 'online'\n                                            ? 'border-black bg-black text-white shadow-xl shadow-black/10'\n                                            : 'border-black/5 bg-white hover:border-black/20 text-black'\n                                            }`}\n                                    >\n                                        <input\n                                            type=\"radio\"\n                                            name=\"paymentMethod\"\n                                            value=\"online\"\n                                            checked={paymentMethod === 'online'}\n                                            onChange={() => setPaymentMethod('online')}\n                                            className=\"sr-only\"\n                                        />\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`p-3 rounded-xl ${paymentMethod === 'online' ? 'bg-white/10' : 'bg-black/5'}`}>\n                                                <Wallet className=\"w-6 h-6\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"font-bold\">Paiement Mobile Money</p>\n                                                <div className=\"flex gap-2 mt-1 opacity-70\">\n                                                    <span className=\"text-[10px] font-bold px-1.5 py-0.5 bg-orange-600 text-white rounded\">ORANGE</span>\n                                                    <span className=\"text-[10px] font-bold px-1.5 py-0.5 bg-yellow-400 text-black rounded\">MTN</span>\n                                                    <span className=\"text-[10px] font-bold px-1.5 py-0.5 bg-[#40BCF4] text-white rounded\">WAVE</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {paymentMethod === 'online' && <CheckCircle className=\"w-5 h-5 text-green-400\" />}\n                                    </label>\n                                </div>\n                            </div>\n\n                            {paymentError && (\n                                <div className=\"p-4 bg-red-50 border border-red-100 rounded-2xl text-red-600 text-sm font-bold flex items-center gap-2\">\n                                    <Info className=\"w-4 h-4\" />\n                                    {paymentError}\n                                </div>\n                            )}\n\n                            <div className=\"pt-6\">\n                                <button\n                                    type=\"submit\"\n                                    disabled={isSubmitting || (deliveryMode === 'shipping' && (!selectedCity || (!selectedCompany && !manualCompany)))}\n                                    className=\"w-full bg-black text-white py-5 rounded-2xl font-bold text-lg hover:scale-[1.02] transition-all shadow-2xl shadow-black/20 disabled:opacity-30 disabled:scale-100 flex items-center justify-center gap-3 group\"\n                                >\n                                    {isSubmitting ? (\n                                        <Loader2 className=\"animate-spin\" />\n                                    ) : (\n                                        <>\n                                            {paymentMethod === 'cash' ? 'Confirmer la commande' : 'Payer maintenant'}\n                                            <ArrowRight className=\"w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                                        </>\n                                    )}\n                                </button>\n                                <p className=\"text-center text-[10px] text-black/30 font-bold uppercase tracking-widest mt-6 flex items-center justify-center gap-2\">\n                                    <ShieldCheck className=\"w-3 h-3 text-green-500\" />\n                                    Donn√©es crypt√©es & Paiement 100% S√©curis√©\n                                </p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;AANA;;;;;AAiBO,MAAM,eAA4C,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE;;IACnF,MAAM,SAAS,IAAA,uKAAM,EAAM;IAC3B,MAAM,kBAAkB,IAAA,uKAAM,EAAiB;IAC/C,MAAM,YAAY,IAAA,uKAAM,EAAM;IAE9B,qEAAqE;IACrE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAuB;IAEvE,sBAAsB;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAS;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAS;IAC/D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAoB,EAAE;IAClF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAyB;IAC/E,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,kBAAkB,IAAA,kJAAkB;IAE1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QAAE,MAAM;QAAI,OAAO;QAAI,OAAO;QAAI,aAAa;QAAI,SAAS;IAAG;IACxG,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAgB;IAChE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAoB;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAsC;IAC9E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,gDAAgD;IAChD,IAAA,0KAAS;kCAAC;YACN,aAAa;QACjB;iCAAG,EAAE;IAEL,2DAA2D;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAS;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAS;IACrD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,qBAAqB;IACrB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,mBAAmB,IAAA,uKAAM,EAAM;IAErC,qBAAqB;IACrB,MAAM,WAAW,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAG;IAChF,MAAM,aAAa,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IACnE,MAAM,qBAAqB,cAAc;IAEzC,4BAA4B;IAC5B,0CAA0C;IAC1C,6BAA6B;IAC7B,sCAAsC;IACtC,MAAM,cAAc,iBAAiB,aAAa,IAAK,qBAAqB,IAAI;IAChF,MAAM,iBAAiB,qBAAqB,WAAW,OAAO;IAC9D,MAAM,QAAQ,WAAW,cAAc;IAEvC,sCAAsC;IACtC,MAAM,iBAAiB,gBAAgB,MAAM,GAAG,IAC1C,gBAAgB,MAAM,CAAC,CAAA,OAAQ,KAAK,WAAW,GAAG,QAAQ,CAAC,gBAAgB,WAAW,OACtF;IAEN,wBAAwB;IACxB,MAAM,mBAAmB,CAAC;QACtB,gBAAgB;QAChB,mBAAmB;QACnB,uBAAuB;QACvB,MAAM,YAAY,IAAA,mJAAmB,EAAC;QACtC,sBAAsB;QACtB,mBAAmB,UAAU,MAAM,GAAG,IAAI,SAAS,CAAC,EAAE,GAAG;IAC7D;IAEA,uCAAuC;IACvC,MAAM,iBAAiB,OAAO,KAAa,KAAa,cAAuB,KAAK;QAChF,gBAAgB;QAChB,IAAI;YACA,MAAM,SAAS,MAAM,yHAAG,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,EAAE,KAAK,EAAE;YAC3D,IAAI,QAAQ;gBACR,2DAA2D;gBAC3D,IAAI,eAAe,OAAO,WAAW,EAAE,SAAS;oBAC5C,MAAM,qBAAqB,IAAA,+IAAe,EAAC,OAAO,WAAW,CAAC,OAAO;oBAErE,IAAI,CAAC,oBAAoB;wBACrB,+CAA+C;wBAC/C,IAAI,UAAU,OAAO,IAAI,OAAO,OAAO,EAAE;4BACrC,MAAM,UAAU,UAAU,OAAO;4BACjC,MAAM,UAAU,UAAU,OAAO,CAAC;4BAClC,UAAU,OAAO,CAAC,SAAS,CAAC;gCAAC;gCAAS;6BAAQ;4BAC9C,OAAO,OAAO,CAAC,KAAK,CAAC;gCAAC;gCAAS;6BAAQ;wBAC3C;wBACA,MAAM;wBACN,gBAAgB;wBAChB;oBACJ;oBAEA,YAAY,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,SAAS,OAAO,WAAW,CAAC,OAAO;wBAAC,CAAC;gBACzE;gBAEA,YAAY;oBAAE;oBAAK;gBAAI;gBACvB,gBAAgB,OAAO,GAAG;gBAC1B,cAAc,OAAO,UAAU;YACnC;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,gDAAgD;IAChD,IAAA,0KAAS;kCAAC;YACN,IAAI,CAAC,aAAa,iBAAiB,SAAS;YAE5C,2BAA2B;YAC3B,IAAI,OAAO,MAAM,aAAa;gBAC1B,QAAQ,KAAK,CAAC;gBACd;YACJ;YAEA,MAAM,QAAQ;gDAAW;oBACrB,IAAI;wBACA,IAAI,gBAAgB,OAAO,IAAI,CAAC,OAAO,OAAO,EAAE;4BAC5C,4BAA4B;4BAC5B,MAAM,aAAa;4BACnB,MAAM,aAAa,CAAC;4BAEpB,oEAAoE;4BACpE,MAAM,gBAAgB;gCAAC;oCAAC;oCAAM,CAAC;iCAAK;gCAAE;oCAAC;oCAAM,CAAC;iCAAK;6BAAC;4BACpD,MAAM,MAAM,EAAE,GAAG,CAAC,gBAAgB,OAAO,EAAE;gCACvC,WAAW;gCACX,SAAS;4BACb,GAAG,OAAO,CAAC;gCAAC;gCAAY;6BAAW,EAAE;4BAErC,8EAA8E;4BAC9E,EAAE,SAAS,CAAC,6CAA6C;gCACrD,aAAa;gCACb,SAAS;4BACb,GAAG,KAAK,CAAC;4BAET,OAAO;4BACP,MAAM,OAAO,EAAE,IAAI,CAAC;gCAChB,SAAS;gCACT,WAAW;gCACX,UAAU;oCAAC;oCAAI;iCAAG;gCAClB,YAAY;oCAAC;oCAAI;iCAAG;4BACxB;4BAEA,MAAM,SAAS,EAAE,MAAM,CAAC;gCAAC;gCAAY;6BAAW,EAAE;gCAAE,WAAW;gCAAM;4BAAK,GAAG,KAAK,CAAC;4BACnF,UAAU,OAAO,GAAG;4BACpB,YAAY;gCAAE,KAAK;gCAAY,KAAK;4BAAW;4BAE/C,SAAS;4BACT,OAAO,EAAE,CAAC;gEAAW,SAAU,KAAU;oCACrC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,OAAO,SAAS;oCACrC,eAAe,KAAK,KAAK;gCAC7B;;4BAEA,IAAI,EAAE,CAAC;gEAAS,SAAU,CAAM;oCAC5B,OAAO,SAAS,CAAC,EAAE,MAAM;oCACzB,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM;oCAC7B,eAAe,KAAK,KAAK;gCAC7B;;4BAEA,qDAAqD;4BACrD,IAAI,EAAE,CAAC;gEAAQ;oCACX,MAAM,SAAS,IAAI,SAAS;oCAC5B,MAAM,SAAS,EAAE,YAAY,CAAC;wCAAC;4CAAC;4CAAM,CAAC;yCAAK;wCAAE;4CAAC;4CAAM,CAAC;yCAAK;qCAAC;oCAC5D,IAAI,CAAC,OAAO,QAAQ,CAAC,SAAS;wCAC1B,mBAAmB;wCACnB;4EAAW,IAAM,mBAAmB;2EAAQ;oCAChD;gCACJ;;4BAEA,OAAO,OAAO,GAAG;4BAEjB,wDAAwD;4BACxD;gEAAW;oCACP,IAAI,OAAO,OAAO,EAAE;wCAChB,OAAO,OAAO,CAAC,cAAc;oCACjC;gCACJ;+DAAG;4BAEH,qCAAqC;4BACrC,IAAI,CAAC,UAAU;gCACX,eAAe,YAAY;4BAC/B;wBACJ;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,8BAA8B;oBAChD;gBACJ;+CAAG;YAEH;0CAAO,IAAM,aAAa;;QAC9B;iCAAG;QAAC;QAAW;KAAa;IAE5B,8CAA8C;IAC9C,IAAA,0KAAS;kCAAC;YACN,IAAI,iBAAiB,cAAc,OAAO,OAAO,EAAE;gBAC/C,OAAO,OAAO,CAAC,MAAM;gBACrB,OAAO,OAAO,GAAG;gBACjB,UAAU,OAAO,GAAG;YACxB;QACJ;iCAAG;QAAC;KAAa;IAEjB,yCAAyC;IACzC,IAAA,0KAAS;kCAAC;YACN,IAAI,iBAAiB,YAAY;gBAC7B,iBAAiB;YACrB;QACJ;iCAAG;QAAC;KAAa;IAEjB,2CAA2C;IAC3C,MAAM,sBAAsB,CAAC;QACzB,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,YAAY;YAAE,GAAG,QAAQ;YAAE,SAAS;QAAI;QAExC,IAAI,iBAAiB,OAAO,EAAE,aAAa,iBAAiB,OAAO;QAEnE,IAAI,IAAI,MAAM,GAAG,GAAG;YAChB,iBAAiB,OAAO,GAAG,WAAW;gBAClC,MAAM,UAAU,MAAM,yHAAG,CAAC,YAAY,CAAC;gBACvC,eAAe;gBACf,mBAAmB;YACvB,GAAG;QACP,OAAO;YACH,eAAe,EAAE;YACjB,mBAAmB;QACvB;IACJ;IAEA,MAAM,wBAAwB,CAAC;QAC3B,MAAM,cAAc,MAAM,YAAY;QAEtC,sCAAsC;QACtC,MAAM,cAAc,IAAA,+IAAe,EAAC;QAEpC,IAAI,CAAC,aAAa;YACd,+BAA+B;YAC/B,gBAAgB;YAEhB,4CAA4C;YAC5C,MAAM,eAAe,YAAY,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAc,EAAE,IAAI;YACrE,6DAA6D;YAC7D,gDAAgD;YAChD,IAAI,WAAW,YAAY,CAAC,EAAE;YAC9B,KAAK,MAAM,QAAQ,aAAc;gBAC7B,MAAM,YAAY,IAAA,mJAAmB,EAAC;gBACtC,IAAI,UAAU,MAAM,GAAG,GAAG;oBACtB,WAAW;oBACX;gBACJ;YACJ;YAEA,mBAAmB;YACnB,gBAAgB;YAChB,MAAM,YAAY,IAAA,mJAAmB,EAAC;YACtC,sBAAsB;YACtB,IAAI,UAAU,MAAM,GAAG,GAAG;gBACtB,mBAAmB,SAAS,CAAC,EAAE;YACnC;YAEA,4BAA4B;YAC5B,YAAY;gBAAE,GAAG,QAAQ;gBAAE,SAAS;YAAG;YACvC,eAAe,EAAE;YACjB,mBAAmB;YACnB;QACJ;QAEA,qCAAqC;QACrC,YAAY;YAAE,GAAG,QAAQ;YAAE,SAAS;QAAY;QAEhD,mBAAmB;QACnB,IAAI,OAAO,OAAO,IAAI,UAAU,OAAO,EAAE;YACrC,MAAM,YAAY,IAAI,EAAE,MAAM,CAAC,MAAM,GAAG,EAAE,MAAM,GAAG;YACnD,UAAU,OAAO,CAAC,SAAS,CAAC;YAC5B,OAAO,OAAO,CAAC,KAAK,CAAC;QACzB;QAEA,uBAAuB;QACvB,YAAY;YAAE,KAAK,MAAM,GAAG;YAAE,KAAK,MAAM,GAAG;QAAC;QAE7C,yHAAG,CAAC,gBAAgB,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,EAAE,UAAU,IAAI,CAAC,CAAA;YAC7D,IAAI,KAAK;gBACL,gBAAgB,IAAI,GAAG;gBACvB,cAAc,IAAI,UAAU;YAChC;QACJ;QAEA,WAAW;QACX,eAAe,EAAE;QACjB,mBAAmB;IACvB;IAEA,MAAM,oBAAoB;QACtB,IAAI,CAAC,UAAU,WAAW,EAAE;YACxB,MAAM;YACN;QACJ;QAEA,gBAAgB;QAChB,UAAU,WAAW,CAAC,kBAAkB,CACpC,CAAC;YACG,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,SAAS,MAAM;YAE/C,4BAA4B;YAC5B,IAAI,WAAW,OAAO,WAAW,QAAQ,YAAY,CAAC,OAAO,YAAY,CAAC,KAAK;gBAC3E,MAAM;gBACN,gBAAgB;gBAChB;YACJ;YAEA,IAAI,OAAO,OAAO,IAAI,UAAU,OAAO,EAAE;gBACrC,MAAM,YAAY,IAAI,EAAE,MAAM,CAAC,UAAU;gBACzC,UAAU,OAAO,CAAC,SAAS,CAAC;gBAC5B,OAAO,OAAO,CAAC,OAAO,CAAC,WAAW;gBAElC,iBAAiB;gBACjB,eAAe,UAAU,WAAW;YACxC;QACJ,GACA,CAAC;YACG,QAAQ,KAAK,CAAC;YACd,gBAAgB;YAChB,MAAM;QACV;IAER;IAEA,uDAAuD;IACvD,MAAM,oBAAoB;QACtB,IAAI,CAAC,SAAS,OAAO,EAAE;QAEvB,gBAAgB;QAChB,IAAI;YACA,gCAAgC;YAChC,MAAM,SAAS,MAAM,yHAAG,CAAC,gBAAgB,CAAC,SAAS,OAAO,EAAE;YAC5D,IAAI,UAAU,OAAO,WAAW,EAAE;gBAC9B,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,OAAO,WAAW;gBAEhD,aAAa;gBACb,IAAI,OAAO,OAAO,IAAI,UAAU,OAAO,EAAE;oBACrC,MAAM,YAAY,IAAI,EAAE,MAAM,CAAC,KAAK;oBACpC,UAAU,OAAO,CAAC,SAAS,CAAC;oBAC5B,OAAO,OAAO,CAAC,KAAK,CAAC;gBACzB;gBAEA,eAAe;gBACf,YAAY;oBAAE;oBAAK,KAAK;gBAAI;gBAC5B,gBAAgB,OAAO,GAAG;gBAC1B,cAAc,OAAO,UAAU;YACnC;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,yBAAyB;QAC3C,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,gBAAgB;QAEhB,aAAa;QACb,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE;YACnC,MAAM;YACN;QACJ;QAEA,IAAI,iBAAiB,WAAW,CAAC,UAAU;YACvC,MAAM;YACN;QACJ;QAEA,IAAI,iBAAiB,YAAY;YAC7B,IAAI,CAAC,cAAc;gBACf,MAAM;gBACN;YACJ;YACA,oEAAoE;YACpE,IAAI,mBAAmB,MAAM,KAAK,KAAK,CAAC,eAAe;gBACnD,MAAM;gBACN;YACJ;YACA,+DAA+D;YAC/D,IAAI,mBAAmB,MAAM,GAAG,KAAK,CAAC,mBAAmB,CAAC,eAAe;gBACrE,MAAM;gBACN;YACJ;QACJ;QAEA,gBAAgB;QAEhB,qCAAqC;QACrC,IAAI;QACJ,IAAI;QACJ,IAAI;QAEJ,IAAI,iBAAiB,SAAS;YAC1B,gBAAgB,GAAG,SAAS,OAAO,CAAC,OAAO,EAAE,SAAU,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,SAAU,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,SAAS,WAAW,GAAG,OAAO,SAAS,WAAW,GAAG,IAAI;QACpK,OAAO,IAAI,eAAe;YACtB,uFAAuF;YACvF,gBAAgB,GAAG,aAAa,kBAAkB,EAAE,eAAe;YACnE,sBAAsB;YACtB,mBAAmB;QACvB,OAAO;YACH,mCAAmC;YACnC,gBAAgB,GAAG,aAAa,kBAAkB,EAAE,gBAAiB,IAAI,CAAC,EAAE,EAAE,gBAAiB,aAAa,CAAC,CAAC,CAAC;YAC/G,sBAAsB,gBAAiB,IAAI;YAC3C,mBAAmB;QACvB;QAEA,wBAAwB;QACxB,IAAI,kBAAkB,QAAQ;YAC1B,MAAM,UAAU,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YACpD,IAAI;gBACA,MAAM,yHAAG,CAAC,cAAc,CAAC;oBACrB;oBACA,SAAS;oBACT,KAAK,iBAAiB,UAAU,SAAU,GAAG,GAAG;oBAChD,KAAK,iBAAiB,UAAU,SAAU,GAAG,GAAG;oBAChD,KAAK;oBACL,cAAc,SAAS,IAAI;oBAC3B,eAAe,SAAS,KAAK;oBAC7B,iBAAiB;oBACjB,cAAc;gBAClB;gBACA,eAAe;gBACf;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC;gBACd,gBAAgB;YACpB,SAAU;gBACN,gBAAgB;YACpB;YACA;QACJ;QAEA,gCAAgC;QAChC,IAAI;YACA,MAAM,SAAS,MAAM,yHAAG,CAAC,eAAe,CAAC;gBACrC,MAAM;gBACN,UAAU;oBACN,MAAM,SAAS,IAAI;oBACnB,OAAO,SAAS,KAAK;oBACrB,OAAO,SAAS,KAAK,IAAI;gBAC7B;gBACA,UAAU;oBACN,SAAS;oBACT,KAAK,iBAAiB,UAAU,SAAU,GAAG,GAAG;oBAChD,KAAK,iBAAiB,UAAU,SAAU,GAAG,GAAG;oBAChD,KAAK;oBACL,aAAa,SAAS,WAAW,IAAI;oBACrC,iBAAiB;oBACjB,cAAc;gBAClB;YACJ;YAEA,eAAe,OAAO,CAAC,kBAAkB,OAAO,OAAO;YACvD,OAAO,QAAQ,CAAC,IAAI,GAAG,OAAO,WAAW;QAE7C,EAAE,OAAO,OAAY;YACjB,QAAQ,KAAK,CAAC,kBAAkB;YAChC,gBAAgB,MAAM,QAAQ,EAAE,MAAM,WAAW;YACjD,gBAAgB;QACpB;IACJ;IAEA,MAAM,iBAAiB;QACnB,MAAM,MAAM,CAAC,2DAA2D,EAAE,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO;QAC5G,OAAO,IAAI,CAAC,KAAK;IACrB;IAEA,IAAI,CAAC,WAAW,OAAO;IAEvB,IAAI,aAAa;QACb,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,6OAAW;4BAAC,WAAU;;;;;;;;;;;kCAE3B,6LAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,6LAAC;wBAAE,WAAU;;4BAAqB;4BACvB,SAAS,IAAI;4BAAC;4BAA6B,SAAS,KAAK;4BAAC;;;;;;;oBAEpE,iBAAiB,cAAc,iCAC5B,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAU;;oCAAoC;oCAAmB,gBAAgB,IAAI;;;;;;;0CACxF,6LAAC;gCAAE,WAAU;;oCAA6B;oCACF;oCACnC,gBAAgB,aAAa,kBAC1B;;0DAAE,6LAAC;;;;;4CAAK;4CAAU,gBAAgB,aAAa;;;;;;;;;;;;;;;kCAK/D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAO,SAAS;gCAAQ,WAAU;0CAAyF;;;;;;0CAG5H,6LAAC;gCAAO,SAAS;gCAAgB,WAAU;0CAA8E;;;;;;;;;;;;;;;;;;;;;;;IAO7I;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAO,SAAS;4BAAQ,WAAU;sCAC/B,cAAA,6LAAC,gOAAS;gCAAC,WAAU;;;;;;;;;;;sCAEzB,6LAAC;;8CACG,6LAAC;oCAAG,WAAU;8CAA+C;;;;;;8CAC7D,6LAAC;oCAAE,WAAU;8CAA4E;;;;;;;;;;;;;;;;;;;;;;;0BAKrG,6LAAC;gBAAI,WAAU;;kCAGX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCAAG,WAAU;;0DACV,6LAAC;gDAAI,WAAU;0DACX,cAAA,6LAAC,uNAAM;oDAAC,WAAU;;;;;;;;;;;4CAChB;;;;;;;;;;;;8CAMd,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CACG,MAAK;4CACL,SAAS,IAAM,gBAAgB;4CAC/B,WAAW,CAAC,6FAA6F,EAAE,iBAAiB,UACtH,+DACA,kEACA;;8DAEN,6LAAC;oDAAI,WAAW,CAAC,iCAAiC,EAAE,iBAAiB,UAAU,gBAAgB,cAAc;8DACzG,cAAA,6LAAC,uNAAM;wDAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,UAAU,eAAe,iBAAiB;;;;;;;;;;;8DAE7F,6LAAC;;sEACG,6LAAC;4DAAK,WAAU;sEAAqD;;;;;;sEACrE,6LAAC;4DAAK,WAAU;sEAAgC;;;;;;;;;;;;;;;;;;sDAGxD,6LAAC;4CACG,MAAK;4CACL,SAAS,IAAM,gBAAgB;4CAC/B,WAAW,CAAC,6FAA6F,EAAE,iBAAiB,aACtH,+DACA,kEACA;;8DAEN,6LAAC;oDAAI,WAAW,CAAC,iCAAiC,EAAE,iBAAiB,aAAa,gBAAgB,cAAc;8DAC5G,cAAA,6LAAC,gNAAK;wDAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,aAAa,eAAe,iBAAiB;;;;;;;;;;;8DAE/F,6LAAC;;sEACG,6LAAC;4DAAK,WAAU;sEAAqD;;;;;;sEACrE,6LAAC;4DAAK,WAAU;sEAAgC;;;;;;;;;;;;;;;;;;;;;;;;gCAM3D,iBAAiB,yBACd,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAM,WAAU;8DAA4E;;;;;;8DAC7F,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DACG,MAAK;4DACL,WAAU;4DACV,aAAY;4DACZ,OAAO,SAAS,OAAO;4DACvB,UAAU;4DACV,QAAQ,IAAM,WAAW,IAAM,mBAAmB,QAAQ;;;;;;sEAE9D,6LAAC,uNAAM;4DAAC,WAAU;;;;;;wDACjB,8BAAgB,6LAAC;4DAAI,WAAU;sEAA4C,cAAA,6LAAC,+NAAO;gEAAC,WAAU;;;;;;;;;;;;;;;;;gDAIlG,mBAAmB,YAAY,MAAM,GAAG,mBACrC,6LAAC;oDAAI,WAAU;8DACV,YAAY,GAAG,CAAC,CAAC,OAAO;wDACrB,MAAM,cAAc,MAAM,YAAY;wDACtC,MAAM,aAAa,SAAS,OAAO,CAAC,WAAW;wDAC/C,MAAM,WAAW,YAAY,KAAK,CAAC,IAAI,CAAC,EAAE;wDAE1C,uCAAuC;wDACvC,MAAM,gBAAgB,CAAC,MAAc;4DACjC,IAAI,CAAC,QAAQ,KAAK,MAAM,GAAG,GAAG,OAAO;4DACrC,MAAM,QAAQ,IAAI,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE;4DACtC,MAAM,QAAQ,KAAK,KAAK,CAAC;4DACzB,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM,IACpB,KAAK,WAAW,OAAO,KAAK,WAAW,mBACjC,6LAAC;oEAAa,WAAU;8EAA2C;mEAAxD;;;;+GACX;wDAEd;wDAEA,qBACI,6LAAC;4DAEG,WAAU;4DACV,SAAS,IAAM,sBAAsB;;8EAErC,6LAAC;oEAAE,WAAU;8EAAiC,cAAc,UAAU;;;;;;8EACtE,6LAAC;oEAAE,WAAU;8EAAkC;;;;;;;2DAL1C;;;;;oDAQjB;;;;;;;;;;;;sDAKZ,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,KAAK;oDAAiB,WAAU;;;;;;8DAErC,6LAAC;oDACG,MAAK;oDACL,SAAS;oDACT,WAAU;oDACV,OAAM;8DAEN,cAAA,6LAAC,4NAAS;wDAAC,WAAU;;;;;;;;;;;gDAIxB,iCACG,6LAAC;oDAAI,WAAU;8DACX,cAAA,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAI,WAAU;gEAAwB,MAAK;gEAAO,SAAQ;gEAAY,QAAO;0EAC1E,cAAA,6LAAC;oEAAK,eAAc;oEAAQ,gBAAe;oEAAQ,aAAa;oEAAG,GAAE;;;;;;;;;;;4DACnE;;;;;;;;;;;;;;;;;;sDAOtB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAE,WAAU;sEAAqE;;;;;;sEAClF,6LAAC;4DAAE,WAAU;;gEAAgD;gEAAW;8EAAC,6LAAC;oEAAK,WAAU;8EAAoD;;;;;;;;;;;;;;;;;;8DAEjJ,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAE,WAAU;sEAAqE;;;;;;wDACjF,6BACG,6LAAC,+NAAO;4DAAC,WAAU;;;;;qHAEnB,6LAAC;4DAAE,WAAU;sEACR,mCAAqB,6LAAC;gEAAK,WAAU;0EAAiB;;;;;2GAAiB,GAAG,aAAa,cAAc,GAAG,EAAE,CAAC;;;;;;;;;;;;;;;;;;sDAK5H,6LAAC;4CAAE,WAAU;sDAAuD;;;;;;;;;;;;gCAO3E,iBAAiB,4BACd,6LAAC;oCAAI,WAAU;;sDAEX,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAM,WAAU;8DAA4E;;;;;;8DAC7F,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DACG,MAAK;4DACL,WAAU;4DACV,aAAY;4DACZ,OAAO;4DACP,UAAU,CAAC;gEACP,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;gEAC1B,mBAAmB;gEACnB,uBAAuB,IAAI,MAAM,GAAG;gEACpC,sBAAsB,EAAE;gEACxB,mBAAmB;gEACnB,iBAAiB;4DACrB;4DACA,SAAS,IAAM,uBAAuB,gBAAgB,MAAM,GAAG;4DAC/D,QAAQ;gEACJ,WAAW;oEACP,uBAAuB;oEACvB,IAAI,mBAAmB,CAAC,cAAc;wEAClC,gBAAgB;wEAChB,MAAM,YAAY,IAAA,mJAAmB,EAAC;wEACtC,sBAAsB;wEACtB,IAAI,UAAU,MAAM,GAAG,GAAG;4EACtB,mBAAmB,SAAS,CAAC,EAAE;wEACnC;oEACJ;gEACJ,GAAG;4DACP;;;;;;sEAEJ,6LAAC,mNAAM;4DAAC,WAAU;;;;;;;;;;;;gDAIrB,uBAAuB,eAAe,MAAM,GAAG,mBAC5C,6LAAC;oDAAI,WAAU;8DACV,eAAe,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,MAAM;wDACpC,MAAM,aAAa,gBAAgB,WAAW;wDAE9C,0BAA0B;wDAC1B,MAAM,gBAAgB,CAAC,MAAc;4DACjC,IAAI,CAAC,QAAQ,KAAK,MAAM,GAAG,GAAG,OAAO;4DACrC,MAAM,QAAQ,IAAI,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE;4DACtC,MAAM,QAAQ,KAAK,KAAK,CAAC;4DACzB,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM,IACpB,KAAK,WAAW,OAAO,KAAK,WAAW,mBACjC,6LAAC;oEAAa,WAAU;8EAA2C;mEAAxD;;;;+GACX;wDAEd;wDAEA,qBACI,6LAAC;4DAEG,WAAU;4DACV,SAAS,IAAM,iBAAiB;sEAE/B,cAAc,MAAM;2DAJhB;;;;;oDAOjB;;;;;;;;;;;;wCAMX,8BACG,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,WAAU;8DACX,cAAA,6LAAC;wDAAE,WAAU;;0EACT,6LAAC,gOAAS;gEAAC,WAAU;;;;;;4DACpB,mBAAmB,MAAM,GAAG,IAAI,CAAC,sBAAsB,EAAE,cAAc,GAAG;;;;;;;;;;;;gDAIlF,mBAAmB,MAAM,GAAG,kBACzB,6LAAC;oDAAI,WAAU;;wDACV,mBAAmB,GAAG,CAAC,CAAC,wBACrB,6LAAC;gEAEG,WAAW,CAAC,mFAAmF,EAAE,iBAAiB,OAAO,QAAQ,EAAE,IAAI,CAAC,gBAClI,+DACA,4DACA;;kFAEN,6LAAC;wEACG,MAAK;wEACL,MAAK;wEACL,OAAO,QAAQ,EAAE;wEACjB,SAAS,iBAAiB,OAAO,QAAQ,EAAE,IAAI,CAAC;wEAChD,UAAU;4EACN,mBAAmB;4EACnB,iBAAiB;wEACrB;wEACA,WAAU;;;;;;kFAEd,6LAAC;wEAAI,WAAU;;0FACX,6LAAC;;kGACG,6LAAC;wFAAE,WAAU;kGAAmC,QAAQ,IAAI;;;;;;kGAC5D,6LAAC;wFAAE,WAAW,CAAC,aAAa,EAAE,iBAAiB,OAAO,QAAQ,EAAE,IAAI,CAAC,gBAAgB,kBAAkB,iBAAiB;;4FAAE;4FAC/G,QAAQ,aAAa;;;;;;;;;;;;;0FAGpC,6LAAC;gFAAI,WAAU;;kGACX,6LAAC;wFAAK,WAAW,CAAC,mEAAmE,EAAE,iBAAiB,OAAO,QAAQ,EAAE,IAAI,CAAC,gBAAgB,2BAA2B,4BAA4B;kGAChM,QAAQ,aAAa,IAAI;;;;;;oFAE7B,iBAAiB,OAAO,QAAQ,EAAE,IAAI,CAAC,+BAAiB,6LAAC,6OAAW;wFAAC,WAAU;;;;;;;;;;;;;;;;;;;+DA5BnF,QAAQ,EAAE;;;;;sEAmCvB,6LAAC;4DACG,WAAW,CAAC,wFAAwF,EAAE,gBAChG,+DACA,gEACA;;8EAEN,6LAAC;oEACG,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,CAAC,CAAC;oEACX,UAAU,IAAM,mBAAmB;oEACnC,WAAU;;;;;;8EAEd,6LAAC;oEAAI,WAAU;;sFACX,6LAAC;4EAAE,WAAU;sFAAY;;;;;;sFACzB,6LAAC;4EACG,MAAK;4EACL,WAAW,CAAC,yEAAyE,EAAE,gBAAgB,gDAAgD,8CAA8C;4EACrM,aAAY;4EACZ,OAAO;4EACP,UAAU,CAAC;gFACP,iBAAiB,EAAE,MAAM,CAAC,KAAK;gFAC/B,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;oFAChB,mBAAmB;gFACvB;4EACJ;4EACA,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;;;;;;;;;;;;;;;;;;6GAMjD,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DACG,MAAK;4DACL,WAAU;4DACV,aAAY;4DACZ,OAAO;4DACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;;;;;;sEAEpD,6LAAC;4DAAE,WAAU;sEAAgD;;;;;;;;;;;;8DAIrE,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAI,WAAU;;;;;;sEACf,6LAAC;4DAAI,WAAU;;8EACX,6LAAC;oEAAI,WAAU;8EACX,cAAA,6LAAC,6MAAI;wEAAC,WAAU;;;;;;;;;;;8EAEpB,6LAAC;;sFACG,6LAAC;4EAAE,WAAU;sFAAmD;;;;;;sFAChE,6LAAC;4EAAE,WAAU;;gFAAmD;8FACR,6LAAC;oFAAK,WAAU;8FAAuB;;;;;;gFAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCAQvJ,CAAC,gBAAgB,CAAC,iCACf,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,WAAU;8DACX,cAAA,6LAAC,gNAAK;wDAAC,WAAU;;;;;;;;;;;8DAErB,6LAAC;oDAAE,WAAU;8DAA4D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCASjG,6LAAC;wBAAI,WAAU;;0CAGX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,6LAAC;gDAAI,WAAU;;oDAAmG;oDAAQ;;;;;;;;;;;;;kDAG9H,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;0DACV,KAAK,GAAG,CAAC,CAAA,qBACN,6LAAC;wDAAkB,WAAU;;0EACzB,6LAAC;gEAAI,WAAU;;oEACV,KAAK,QAAQ;oEAAC;;;;;;;0EAEnB,6LAAC;gEAAI,WAAU;;kFACX,6LAAC;wEAAE,WAAU;kFAAiC,KAAK,IAAI;;;;;;kFACvD,6LAAC;wEAAE,WAAU;;4EAAyB,CAAC,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE,cAAc;4EAAG;;;;;;;;;;;;;;uDANlF,KAAK,EAAE;;;;;;;;;;0DAYzB,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAK,WAAU;0EAA+D;;;;;;0EAC/E,6LAAC;gEAAK,WAAU;;oEAAa,SAAS,cAAc;oEAAG;;;;;;;;;;;;;kEAE3D,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAK,WAAU;0EAA+D;;;;;;4DAC9E,iBAAiB,2BACd,6LAAC;gEAAK,WAAU;0EAAgE;;;;;yHAEhF,6LAAC;gEAAK,WAAU;0EAAwB,gBAAgB,IAAI,aAAa,GAAG,YAAY,cAAc,GAAG,EAAE,CAAC;;;;;;;;;;;;oDAGnH,iBAAiB,mBACd,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAK,WAAU;0EAAgE;;;;;;0EAChF,6LAAC;gEAAK,WAAU;;oEAA2B;oEAAE,eAAe,cAAc;oEAAG;;;;;;;;;;;;;kEAGrF,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAK,WAAU;0EAAuD;;;;;;0EACvE,6LAAC;gEAAK,WAAU;;oEAAoD,MAAM,cAAc;oEAAG;kFAAC,6LAAC;wEAAK,WAAU;kFAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAOjK,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,6LAAC;wCAAK,UAAU;wCAAc,WAAU;;0DACpC,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;;0EACG,6LAAC;gEAAM,WAAU;0EAAgF;;;;;;0EACjG,6LAAC;gEAAI,WAAU;;kFACX,6LAAC;wEACG,MAAK;wEACL,WAAU;wEACV,aAAY;wEACZ,QAAQ;wEACR,OAAO,SAAS,IAAI;wEACpB,UAAU,CAAA,IAAK,YAAY;gFAAE,GAAG,QAAQ;gFAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4EAAC;;;;;;kFAEnE,6LAAC,6MAAI;wEAAC,WAAU;;;;;;;;;;;;;;;;;;kEAIxB,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;;kFACG,6LAAC;wEAAM,WAAU;kFAAgF;;;;;;kFACjG,6LAAC;wEAAI,WAAU;;0FACX,6LAAC;gFACG,MAAK;gFACL,WAAU;gFACV,aAAY;gFACZ,QAAQ;gFACR,OAAO,SAAS,KAAK;gFACrB,UAAU,CAAA,IAAK,YAAY;wFAAE,GAAG,QAAQ;wFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAC;;;;;;0FAEpE,6LAAC,gNAAK;gFAAC,WAAU;;;;;;;;;;;;;;;;;;0EAGzB,6LAAC;;kFACG,6LAAC;wEAAM,WAAU;;4EAAgF;0FAAM,6LAAC;gFAAK,WAAU;0FAAmC;;;;;;;;;;;;kFAC1J,6LAAC;wEAAI,WAAU;;0FACX,6LAAC;gFACG,MAAK;gFACL,WAAU;gFACV,aAAY;gFACZ,OAAO,SAAS,KAAK;gFACrB,UAAU,CAAA,IAAK,YAAY;wFAAE,GAAG,QAAQ;wFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAC;;;;;;0FAEpE,6LAAC,6MAAI;gFAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;kEAK5B,6LAAC;;0EACG,6LAAC;gEAAM,WAAU;0EAAgF;;;;;;0EACjG,6LAAC;gEACG,WAAU;gEACV,aAAY;gEACZ,OAAO,SAAS,WAAW;gEAC3B,UAAU,CAAA,IAAK,YAAY;wEAAE,GAAG,QAAQ;wEAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oEAAC;;;;;;;;;;;;;;;;;;0DAMlF,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAM,WAAU;kEAAgF;;;;;;kEACjG,6LAAC;wDAAI,WAAU;;0EAEX,6LAAC;gEACG,WAAW,CAAC,6FAA6F,EAAE,iBAAiB,aACtH,+DACA,kBAAkB,SACd,8EACA,2EACJ;;kFAEN,6LAAC;wEACG,MAAK;wEACL,MAAK;wEACL,OAAM;wEACN,SAAS,kBAAkB;wEAC3B,UAAU,IAAM,iBAAiB,WAAW,iBAAiB;wEAC7D,UAAU,iBAAiB;wEAC3B,WAAU;;;;;;kFAEd,6LAAC;wEAAI,WAAU;;0FACX,6LAAC;gFAAI,WAAW,CAAC,eAAe,EAAE,iBAAiB,aAC7C,eACA,kBAAkB,SAAS,gBAAgB,cAC3C;0FACF,cAAA,6LAAC,yNAAQ;oFAAC,WAAU;;;;;;;;;;;0FAExB,6LAAC;;kGACG,6LAAC;wFAAE,WAAU;kGAAY;;;;;;kGACzB,6LAAC;wFAAE,WAAW,CAAC,QAAQ,EAAE,iBAAiB,aACpC,kBACA,kBAAkB,SAAS,kBAAkB,iBAC7C;kGACD,iBAAiB,aACZ,oDACA;;;;;;;;;;;;;;;;;;oEAKjB,kBAAkB,UAAU,iBAAiB,yBAAW,6LAAC,6OAAW;wEAAC,WAAU;;;;;;;;;;;;0EAGpF,6LAAC;gEACG,WAAW,CAAC,4GAA4G,EAAE,kBAAkB,WACtI,+DACA,4DACA;;kFAEN,6LAAC;wEACG,MAAK;wEACL,MAAK;wEACL,OAAM;wEACN,SAAS,kBAAkB;wEAC3B,UAAU,IAAM,iBAAiB;wEACjC,WAAU;;;;;;kFAEd,6LAAC;wEAAI,WAAU;;0FACX,6LAAC;gFAAI,WAAW,CAAC,eAAe,EAAE,kBAAkB,WAAW,gBAAgB,cAAc;0FACzF,cAAA,6LAAC,mNAAM;oFAAC,WAAU;;;;;;;;;;;0FAEtB,6LAAC;;kGACG,6LAAC;wFAAE,WAAU;kGAAY;;;;;;kGACzB,6LAAC;wFAAI,WAAU;;0GACX,6LAAC;gGAAK,WAAU;0GAAuE;;;;;;0GACvF,6LAAC;gGAAK,WAAU;0GAAuE;;;;;;0GACvF,6LAAC;gGAAK,WAAU;0GAAsE;;;;;;;;;;;;;;;;;;;;;;;;oEAIjG,kBAAkB,0BAAY,6LAAC,6OAAW;wEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;4CAKjE,8BACG,6LAAC;gDAAI,WAAU;;kEACX,6LAAC,6MAAI;wDAAC,WAAU;;;;;;oDACf;;;;;;;0DAIT,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDACG,MAAK;wDACL,UAAU,gBAAiB,iBAAiB,cAAc,CAAC,CAAC,gBAAiB,CAAC,mBAAmB,CAAC,aAAc;wDAChH,WAAU;kEAET,6BACG,6LAAC,+NAAO;4DAAC,WAAU;;;;;qHAEnB;;gEACK,kBAAkB,SAAS,0BAA0B;8EACtD,6LAAC,mOAAU;oEAAC,WAAU;;;;;;;;;;;;;kEAIlC,6LAAC;wDAAE,WAAU;;0EACT,6LAAC,sOAAW;gEAAC,WAAU;;;;;;4DAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtF;GAhkCa;KAAA"}},
    {"offset": {"line": 2474, "column": 0}, "map": {"version":3,"sources":["file:///home/aegonjs/Documents/sant%C3%A9-vitalit%C3%A9-store/app/panier/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useCart } from '@/context/CartContext';\nimport { CheckoutPage } from '@/components/CheckoutPage';\nimport { useRouter } from 'next/navigation';\n\nexport default function PanierPage() {\n    const { cart, clearCart } = useCart();\n    const router = useRouter();\n\n    const handleBack = () => {\n        router.push('/');\n    };\n\n    return (\n        <CheckoutPage\n            cart={cart}\n            onBack={handleBack}\n            onClearCart={clearCart}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAOe,SAAS;;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,qIAAO;IACnC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,aAAa;QACf,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC,8IAAY;QACT,MAAM;QACN,QAAQ;QACR,aAAa;;;;;;AAGzB;GAfwB;;QACQ,qIAAO;QACpB,kJAAS;;;KAFJ"}}]
}