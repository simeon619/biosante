module.exports=[41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38784),e=a.i(90166),f=a.i(83497),g=a.i(24669),h=a.i(41710);function i(){let[a,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{let a=localStorage.getItem("admin_token"),b=await fetch("http://localhost:3333/api/admin/dashboard",{headers:{Authorization:`Bearer ${a}`,"X-Admin-Id":JSON.parse(localStorage.getItem("admin_data")||"{}").id}}),c=await b.json();i(c)}catch(a){console.error("Failed to fetch dashboard:",a)}finally{k(!1)}};if(j)return(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black"})});let m=[{label:"Commandes Aujourd'hui",value:a?.orders.today||0,icon:d.ShoppingCart,color:"bg-blue-500"},{label:"En Attente",value:a?.orders.pending||0,icon:h.Clock,color:"bg-orange-500"},{label:"Revenus Aujourd'hui",value:`${(a?.revenue.today||0).toLocaleString()} F`,icon:e.DollarSign,color:"bg-green-500"},{label:"Revenus Total",value:`${(a?.revenue.total||0).toLocaleString()} F`,icon:g.TrendingUp,color:"bg-purple-500"}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de Bord"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Vue d'ensemble de votre activité"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:`${a.color} p-3 rounded-xl`,children:(0,b.jsx)(d,{className:"w-6 h-6 text-white"})})}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.label})]},c)})}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Commandes Récentes"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"ID"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Client"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Statut"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:a?.recentOrders?.length?a.recentOrders.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:[a.id.substring(0,8),"..."]}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.customer_name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.customer_phone})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:[a.total?.toLocaleString()," F"]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"completed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status}),null!==a.trust_score&&void 0!==a.trust_score&&(0,b.jsxs)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${a.trust_score>=80?"bg-green-50 text-green-600 border-green-200":a.trust_score>=50?"bg-orange-50 text-orange-600 border-orange-200":"bg-red-50 text-red-600 border-red-200"}`,children:["Confiance: ",a.trust_score,"%"]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(a.created_at).toLocaleDateString("fr-FR")})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Aucune commande récente"})})})]})})]}),(a?.notifications?.dlqCount??0)>0&&a&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-red-500 p-2 rounded-lg",children:(0,b.jsx)(f.Package,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-red-800",children:[a.notifications.dlqCount," notification(s) en échec"]}),(0,b.jsx)("p",{className:"text-sm text-red-600",children:"Consultez la file d'attente des erreurs pour résoudre les problèmes."})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_ec7b5560._.js.map