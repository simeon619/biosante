module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},92258,a=>{"use strict";let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],92258)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},67900,a=>{"use strict";let b=(0,a.i(70106).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);a.s(["Building2",()=>b],67900)},63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},81502,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21161),e=a.i(63519),f=a.i(92258),g=a.i(90166),h=a.i(10227),i=a.i(67900),j=a.i(63588),k=a.i(14548),l=a.i(96221),m=a.i(67453),n=a.i(70106);let o=(0,n.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=a.i(92e3);let q=(0,n.default)("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);var r=a.i(97895);let s={payment:{label:"Paiement",icon:g.DollarSign,color:"from-emerald-500 to-teal-600"},contact:{label:"Contact",icon:e.Phone,color:"from-blue-500 to-indigo-600"},sms:{label:"SMS & OTP",icon:j.MessageSquare,color:"from-purple-500 to-violet-600"},delivery:{label:"Livraison",icon:h.Truck,color:"from-amber-500 to-orange-600"},business:{label:"Entreprise",icon:i.Building2,color:"from-gray-600 to-gray-800"},marketing:{label:"Marketing",icon:q,color:"from-rose-500 to-pink-600"}};function t(){let[a,g]=(0,c.useState)({}),[h,i]=(0,c.useState)([]),[j,n]=(0,c.useState)(!0),[q,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)({}),[A,B]=(0,c.useState)("payment"),C=async()=>{n(!0),v("");try{let a=JSON.parse(localStorage.getItem("admin_data")||"{}"),b=await fetch(`${r.API_URL}/api/admin/settings`,{headers:{"X-Admin-Id":a.id}});if(!b.ok)throw Error("Erreur de chargement");let c=await b.json();g(c.settings),i(c.categories),c.categories.length>0&&!c.categories.includes(A)&&B(c.categories[0]);let d={};for(let a of Object.values(c.settings))for(let b of a)d[b.key]=b.value;z(d)}catch(a){v(a.message)}finally{n(!1)}};(0,c.useEffect)(()=>{C()},[]);let D=(a,b)=>{z(c=>({...c,[a]:b})),x("")},E=()=>{for(let b of Object.values(a))for(let a of b)if(y[a.key]!==a.value)return!0;return!1},F=async()=>{t(!0),v(""),x("");try{let b=JSON.parse(localStorage.getItem("admin_data")||"{}"),c=[];for(let b of Object.values(a))for(let a of b)y[a.key]!==a.value&&c.push({key:a.key,value:y[a.key]});if(0===c.length){x("Aucune modification à sauvegarder"),t(!1);return}let d=await fetch(`${r.API_URL}/api/admin/settings/bulk`,{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Id":b.id},body:JSON.stringify({settings:c})});if(!d.ok){let a=await d.json();throw Error(a.error||"Erreur de sauvegarde")}x(`${c.length} param\xe8tre(s) mis \xe0 jour avec succ\xe8s`),await C()}catch(a){v(a.message)}finally{t(!1)}};return j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(l.Loader2,{className:"w-10 h-10 animate-spin text-gray-300 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Chargement des paramètres..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Paramètres"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Configuration du système"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:C,className:"p-2.5 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-all",children:(0,b.jsx)(o,{className:"w-4 h-4"})}),(0,b.jsxs)("button",{onClick:F,disabled:q||!E(),className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white rounded-xl hover:bg-gray-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[q?(0,b.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(k.Save,{className:"w-4 h-4"}),"Enregistrer"]})]})]}),u&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:[(0,b.jsx)(p.AlertCircle,{className:"w-5 h-5 flex-shrink-0"}),(0,b.jsx)("p",{children:u})]}),w&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700",children:[(0,b.jsx)(m.CheckCircle2,{className:"w-5 h-5 flex-shrink-0"}),(0,b.jsx)("p",{children:w})]}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:h.map(a=>{let c=s[a]||{label:a,icon:d.Settings,color:"from-gray-500 to-gray-600"},e=c.icon,f=A===a;return(0,b.jsxs)("button",{onClick:()=>B(a),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all whitespace-nowrap ${f?`bg-gradient-to-r ${c.color} text-white shadow-lg`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,b.jsx)(e,{className:"w-4 h-4"}),c.label]},a)})}),(0,b.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"grid gap-6",children:[a[A]?.map(a=>{let c,d,g;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-gray-900",children:a.label}),y[a.key]!==a.value&&(0,b.jsx)("span",{className:"text-xs text-amber-600 font-medium",children:"Modifié"})]}),(d=(c=y[a.key]??a.value)!==a.value,g=`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all ${d?"border-amber-400 bg-amber-50":"border-gray-200"}`,"phone"===a.type?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"tel",value:c,onChange:b=>{var c;let d;return D(a.key,(d=(c=b.target.value).replace(/\D/g,"")).startsWith("225")?"+"+d:!c.startsWith("+")&&d.length>0?"+225"+d:c)},className:`${g} pl-10`,placeholder:"+2250XXXXXXXXX"})]}):"email"===a.type?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"email",value:c,onChange:b=>D(a.key,b.target.value),className:`${g} pl-10`,placeholder:"email@example.com"})]}):"number"===a.type?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:c,onChange:b=>D(a.key,b.target.value),className:g,min:"0"}),"delivery"===a.category&&(0,b.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"FCFA"})]}):(0,b.jsx)("input",{type:"text",value:c,onChange:b=>D(a.key,b.target.value),className:g})),a.description&&(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]},a.key)}),(!a[A]||0===a[A].length)&&(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(d.Settings,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,b.jsx)("p",{children:"Aucun paramètre dans cette catégorie"})]})]})})}),E()&&(0,b.jsxs)("div",{className:"fixed bottom-6 right-6 bg-amber-500 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"font-medium",children:"Modifications non enregistrées"})]})]})}a.s(["default",()=>t],81502)}];

//# sourceMappingURL=_eb6d4024._.js.map