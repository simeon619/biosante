{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../components/AddToCartButton.tsx","../../../../app/%28store%29/produits/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","'use client';\n\nimport { useCart } from '@/context/CartContext';\nimport { Product } from '@/types';\nimport { ArrowRight } from 'lucide-react';\n\ninterface AddToCartButtonProps {\n    product: Product;\n    className?: string; // e.g. \"bg-rose-600 hover:bg-rose-700\"\n}\n\nexport const AddToCartButton: React.FC<AddToCartButtonProps> = ({ product, className }) => {\n    const { addToCart } = useCart();\n\n    return (\n        <button\n            onClick={() => addToCart(product)}\n            className={`text-white px-8 py-4 rounded-xl font-bold transition-colors shadow-lg flex items-center ${className || 'bg-gray-900 hover:bg-gray-800'}`}\n        >\n            Commander <ArrowRight className=\"ml-2 w-5 h-5\" />\n        </button>\n    );\n};\n","'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { products } from '@/data/products';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { AddToCartButton } from '@/components/AddToCartButton';\nimport { ArrowRight, Check, Star } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { formatCurrency } from '@/lib/utils';\n\n\nexport default function ProductsPage() {\n    const [dynamicProducts, setDynamicProducts] = useState(products);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                // Add timestamp to force fresh fetch and explicitly disable caching\n                const response = await fetch(`http://localhost:3333/api/products?t=${Date.now()}`, {\n                    cache: 'no-store',\n                    next: { revalidate: 0 }\n                });\n\n                if (response.ok) {\n                    const { products: dbProducts } = await response.json();\n                    console.log('Fetched products from DB (List):', dbProducts.map((p: any) => ({ id: p.id, image: p.image })));\n                    const activeProducts = dbProducts.map((dbp: any) => {\n                        const sp = products.find(p => p.id === dbp.id);\n                        return {\n                            ...sp,\n                            id: dbp.id,\n                            name: dbp.name,\n                            price: dbp.price,\n                            stock: dbp.stock,\n                            inStock: dbp.stock > 0,\n                            description: dbp.description || sp?.description || '',\n                            is_active: dbp.is_active,\n                            // Explicitly check for DB image\n                            image: (dbp.image && dbp.image.length > 0) ? dbp.image : (sp?.image || ''),\n                            tagline: dbp.tagline || sp?.tagline || '',\n                            category: dbp.category || sp?.category || '',\n                            ingredients_image: dbp.ingredients_image || sp?.ingredients_image,\n                            infographic_image: dbp.infographic_image || sp?.infographic_image,\n                            gallery: dbp.gallery\n                                ? (typeof dbp.gallery === 'string' ? JSON.parse(dbp.gallery) : dbp.gallery)\n                                : (sp?.gallery || []),\n                            benefits: dbp.benefits\n                                ? (typeof dbp.benefits === 'string' ? JSON.parse(dbp.benefits) : dbp.benefits)\n                                : (sp?.benefits || [])\n                        };\n                    });\n\n                    setDynamicProducts(activeProducts);\n                }\n            } catch (error) {\n                console.error('Failed to sync products:', error);\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    return (\n        <div className=\"bg-white min-h-screen text-black\">\n            {/* Minimalist Header - White/Black */}\n            <div className=\"pt-8 pb-8 px-4 sm:px-6 lg:px-8 border-b border-black/10\">\n                <div className=\"max-w-7xl mx-auto\">\n                    <h1 className=\"text-5xl md:text-7xl font-bold tracking-tighter mb-4 font-heading text-black\">\n                        Protocoles.\n                    </h1>\n                    <p className=\"text-xl md:text-2xl font-light text-black/70 max-w-2xl\">\n                        Formulations synergiques pour une santé restaurée.\n                    </p>\n                </div>\n            </div>\n\n            {/* Products Grid */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n                <div className=\"grid grid-cols-1 gap-24\">\n                    {dynamicProducts.map((product, index) => {\n                        // Dynamic Color Logic\n                        const isBioActif = product.id === 'bioactif';\n                        const accentColor = isBioActif ? 'text-red-600' : 'text-green-600';\n                        const borderColor = isBioActif ? 'border-red-600' : 'border-green-600';\n                        const bgAccent = isBioActif ? 'bg-red-600' : 'bg-green-600';\n\n                        return (\n                            <div key={product.id} className=\"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start group\">\n                                {/* Image Section */}\n                                <div className={`lg:col-span-5 relative aspect-[3/4] bg-white border border-black/10 p-12 flex items-center justify-center ${index % 2 === 1 ? 'lg:order-2' : ''}`}>\n                                    <Link href={`/produits/${product.id}`} className=\"block w-full h-full relative\">\n                                        <Image\n                                            src={product.image}\n                                            alt={product.name}\n                                            fill\n                                            className=\"object-contain transition-transform duration-700 group-hover:scale-105\"\n                                            priority={index === 0}\n                                            unoptimized\n                                        />\n                                    </Link>\n                                    <div className=\"absolute top-4 left-4 text-xs font-mono uppercase tracking-widest text-black/40\">\n                                        Fig. 0{index + 1}\n                                    </div>\n                                </div>\n\n                                {/* Content Section */}\n                                <div className={`lg:col-span-7 space-y-8 ${index % 2 === 1 ? 'lg:order-1 lg:text-right' : ''}`}>\n                                    <div>\n                                        <div className={`inline-block border ${borderColor} px-3 py-1 rounded-full mb-6 ${index % 2 === 1 ? 'ml-auto' : ''}`}>\n                                            <span className={`text-xs font-bold uppercase tracking-widest ${accentColor}`}>{product.category}</span>\n                                        </div>\n                                        <Link href={`/produits/${product.id}`}>\n                                            <h2 className={`text-5xl md:text-6xl font-bold tracking-tight mb-4 hover:opacity-70 transition-opacity ${accentColor}`}>{product.name}</h2>\n                                        </Link>\n                                        <p className=\"text-xl leading-relaxed font-light text-black/80 max-w-xl\">\n                                            {product.description}\n                                        </p>\n                                    </div>\n\n                                    <div className={`flex flex-col gap-3 pt-6 ${index % 2 === 1 ? 'items-end' : ''}`}>\n                                        {product.benefits.map((benefit, idx) => (\n                                            <div key={idx} className=\"flex items-center gap-3 text-sm font-medium opacity-80 text-black\">\n                                                {index % 2 === 0 && <span className={`w-1.5 h-1.5 ${bgAccent} rounded-full`}></span>}\n                                                {benefit}\n                                                {index % 2 === 1 && <span className={`w-1.5 h-1.5 ${bgAccent} rounded-full`}></span>}\n                                            </div>\n                                        ))}\n                                    </div>\n\n                                    <div className={`flex flex-col sm:flex-row gap-6 pt-8 items-center ${index % 2 === 1 ? 'sm:justify-end' : ''}`}>\n                                        <div className={index % 2 === 1 ? 'text-right' : 'text-left'}>\n                                            <p className=\"text-xs uppercase tracking-widest opacity-50 mb-1\">Prix Unitaire</p>\n                                            <p className=\"text-3xl font-bold font-mono text-black\">{formatCurrency(product.price)}</p>\n                                        </div>\n                                        <AddToCartButton product={product} className=\"w-full sm:w-auto h-14 px-12 bg-black text-white hover:bg-black/90 rounded-full text-base tracking-wide shadow-none\" />\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0]}