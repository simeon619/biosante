(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},52571,e=>{"use strict";let a=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>a],52571)},63209,e=>{"use strict";let a=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],63209)},81418,e=>{"use strict";let a=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>a],81418)},906,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(97815),l=e.i(18566),r=e.i(72520),i=e.i(31278),n=e.i(63209),o=e.i(81418),c=e.i(83086),d=e.i(84614),m=e.i(63488),x=e.i(52571);function u(){let e,[u,p]=(0,s.useState)("phone"),[h,f]=(0,s.useState)({phone:"",otp:"",name:"",email:""}),[g,b]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[w,A]=(0,s.useState)(null),[k,S]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(!w)return void S(0);let e=setInterval(()=>{let a=Math.ceil((w-Date.now())/1e3);a<=0?(S(0),A(null),clearInterval(e)):S(a)},1e3),a=Math.ceil((w-Date.now())/1e3);return S(a>0?a:0),()=>clearInterval(e)},[w]);let{sendOtp:C,verifyOtp:F,register:z}=(0,t.useAuth)(),D=(0,l.useRouter)(),M=(0,l.useSearchParams)(),E=M.get("redirect")||"/",L=M.get("reason"),I=e=>e.replace(/\D/g,"").slice(0,10).replace(/(\d{2})(?=\d)/g,"$1 "),$=()=>"+225"+h.phone.replace(/\s/g,""),q=async e=>{e.preventDefault(),b(null);let a=$();if(14!==a.length&&10!==h.phone.replace(/\s/g,"").length)return void b("Num√©ro de t√©l√©phone invalide (10 chiffres requis)");v(!0);try{await C(a),p("otp"),N(!0),A(Date.now()+3e5)}catch(e){b(e.message||"Erreur lors de l'envoi du code")}finally{v(!1)}},P=async e=>{e.preventDefault(),b(null),v(!0);try{let e=$(),a=await F(e,h.otp);a.success&&a.isNewUser?p("profile"):D.push(E)}catch(e){b(e.message||"Code invalide")}finally{v(!1)}},R=async e=>{e.preventDefault(),b(null),v(!0);try{await z({phone:$(),name:h.name,email:h.email,password:"otp_auto_generated_password"}),D.push(E)}catch(e){b(e.message||"Erreur lors de l'inscription")}finally{v(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen grid lg:grid-cols-2 bg-[#F4F4F0]",children:[(0,a.jsxs)("div",{className:"hidden lg:flex flex-col justify-between bg-[#1A4731] p-12 text-white relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1544367563-12123d8965cd?q=80&w=2070&auto=format&fit=crop')] opacity-20 bg-cover bg-center mix-blend-overlay"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,a.jsx)(c.Sparkles,{className:"w-8 h-8 text-[#9dbfae]"}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-wider",children:"BIOSANT√â"})]}),(0,a.jsxs)("div",{className:"max-w-xl",children:[(0,a.jsx)("h1",{className:"text-5xl font-heading font-medium leading-tight mb-6",children:"La nature au service de votre vitalit√©."}),(0,a.jsx)("p",{className:"text-[#c5dcd0] text-lg leading-relaxed",children:"Connectez-vous pour suivre vos commandes, acc√©der √† vos recommandations personnalis√©es et profiter de nos offres exclusives."})]})]}),(0,a.jsxs)("div",{className:"relative z-10 text-sm text-[#9dbfae] flex items-center gap-4",children:[(0,a.jsx)("span",{children:"¬© 2026 Sant√© Vitalit√©"}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-[#9dbfae]"}),(0,a.jsx)("span",{children:"Qualit√© Premium"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center p-6 lg:p-12",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,a.jsxs)("div",{className:"text-center lg:text-left space-y-2",children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold text-[#1A4731]",children:["phone"===u&&"Bienvenue","otp"===u&&"V√©rification","profile"===u&&"Cr√©er votre profil"]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["phone"===u&&"Entrez votre num√©ro pour continuer","otp"===u&&"Nous avons envoy√© un code au "+I(h.phone),"profile"===u&&"Quelques d√©tails pour mieux vous conna√Ætre"]})]}),(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100/50 backdrop-blur-sm",children:["phone"!==u&&(0,a.jsxs)("div",{className:"flex gap-2 mb-8",children:[(0,a.jsx)("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${"otp"===u||"profile"===u?"bg-[#1A4731]":"bg-gray-200"}`}),(0,a.jsx)("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${"otp"===u||"profile"===u?"bg-[#1A4731]":"bg-gray-200"}`}),(0,a.jsx)("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${"profile"===u?"bg-[#1A4731]":"bg-gray-200"}`})]}),"checkout"===L&&"phone"===u&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 text-amber-900 text-sm rounded-xl flex items-start gap-3 border border-amber-100 animate-in fade-in slide-in-from-top-2",children:[(0,a.jsx)(x.Info,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-amber-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-amber-800",children:"Finalisez votre commande"}),(0,a.jsx)("p",{className:"text-amber-700/90 leading-relaxed mt-0.5",children:"Connectez-vous pour valider votre panier et suivre la livraison de vos produits."})]})]}),g&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 text-red-600 text-sm rounded-lg flex items-start gap-3 animate-in fade-in zoom-in-95",children:[(0,a.jsx)(n.AlertCircle,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:g})]}),"phone"===u&&(0,a.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 ml-1",children:"Num√©ro de t√©l√©phone"}),(0,a.jsxs)("div",{className:"relative flex shadow-sm rounded-xl overflow-hidden group focus-within:ring-2 focus-within:ring-[#1A4731]/20 focus-within:border-[#1A4731] transition-all border border-gray-200",children:[(0,a.jsxs)("div",{className:"bg-gray-50 px-4 flex items-center border-r border-gray-200 text-gray-600 font-medium select-none",children:[(0,a.jsx)("span",{className:"mr-2",children:"üá®üáÆ"})," +225"]}),(0,a.jsx)("input",{type:"tel",placeholder:"01 02 03 04 05",className:"block w-full px-4 py-3.5 outline-none placeholder:text-gray-300 text-gray-900 bg-white",value:h.phone,onChange:e=>{let a=I(e.target.value);f({...h,phone:a})},autoFocus:!0})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 ml-1",children:"Format: 10 chiffres (ex: 07 07 ...)"})]}),(0,a.jsx)("button",{type:"submit",disabled:y||h.phone.length<10,className:"w-full flex items-center justify-center py-4 px-4 bg-[#1A4731] hover:bg-[#153a28] text-white rounded-xl font-medium transition-all shadow-lg shadow-[#1A4731]/20 disabled:opacity-70 disabled:cursor-not-allowed hover:translate-y-[-1px] active:translate-y-[1px]",children:y?(0,a.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Recevoir le code ",(0,a.jsx)(r.ArrowRight,{className:"ml-2 w-4 h-4"})]})})]}),"otp"===u&&(0,a.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 ml-1",children:"Code de v√©rification"}),(0,a.jsx)("input",{type:"text",placeholder:"‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢",className:"block w-full px-4 py-4 text-center text-3xl tracking-[0.5em] font-mono border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#1A4731]/20 focus:border-[#1A4731] outline-none transition-all placeholder:text-gray-200 text-[#1A4731] font-bold",value:h.otp,onChange:e=>f({...h,otp:e.target.value.slice(0,6)}),maxLength:6,autoFocus:!0}),(0,a.jsxs)("div",{className:"flex justify-between items-center px-1 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>p("phone"),className:"text-sm text-gray-500 hover:text-[#1A4731] underline decoration-transparent hover:decoration-[#1A4731] transition-all",children:"Num√©ro incorrect ?"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:k>0?(0,a.jsxs)(a.Fragment,{children:["Expire dans ",(0,a.jsx)("span",{className:"font-bold text-[#1A4731]",children:(e=Math.floor(k/60),`${e}:${(k%60).toString().padStart(2,"0")}`)})]}):(0,a.jsx)("span",{className:"text-red-500",children:"Expir√©"})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:y||h.otp.length<6,className:"w-full flex items-center justify-center py-4 px-4 bg-[#1A4731] hover:bg-[#153a28] text-white rounded-xl font-medium transition-all shadow-lg shadow-[#1A4731]/20 disabled:opacity-70 disabled:cursor-not-allowed hover:translate-y-[-1px] active:translate-y-[1px]",children:y?(0,a.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}):"V√©rifier le code"})]}),"profile"===u&&(0,a.jsxs)("form",{onSubmit:R,className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 ml-1",children:"Nom complet"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.User,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",required:!0,placeholder:"Jean Kouassi",className:"block w-full pl-11 pr-4 py-3.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#1A4731]/20 focus:border-[#1A4731] outline-none transition-all",value:h.name,onChange:e=>f({...h,name:e.target.value}),autoFocus:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 ml-1",children:["Email ",(0,a.jsx)("span",{className:"text-gray-400 font-normal",children:"(optionnel)"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Mail,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"email",placeholder:"jean.k@example.com",className:"block w-full pl-11 pr-4 py-3.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#1A4731]/20 focus:border-[#1A4731] outline-none transition-all",value:h.email,onChange:e=>f({...h,email:e.target.value})})]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center py-4 px-4 bg-[#1A4731] hover:bg-[#153a28] text-white rounded-xl font-medium transition-all shadow-lg shadow-[#1A4731]/20 disabled:opacity-70 disabled:cursor-not-allowed hover:translate-y-[-1px] active:translate-y-[1px]",children:y?(0,a.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}):"Cr√©er mon compte"})]})]}),(0,a.jsx)("div",{className:"text-center space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-400 uppercase tracking-widest font-medium",children:[(0,a.jsx)(o.ShieldCheck,{className:"w-3 h-3"}),"Donn√©es chiffr√©es & Paiement 100% s√©curis√©"]})})]})})]})}function p(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-[#F4F4F0] flex items-center justify-center",children:(0,a.jsx)(i.Loader2,{className:"w-10 h-10 text-[#1A4731] animate-spin"})}),children:(0,a.jsx)(u,{})})}e.s(["default",()=>p])}]);