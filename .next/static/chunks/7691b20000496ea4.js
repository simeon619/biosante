(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},31343,95242,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>a],31343);let r=(0,t.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);e.s(["Pause",()=>r],95242)},88511,81203,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],88511);let r=(0,t.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);e.s(["Power",()=>r],81203)},55930,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(7233),l=e.i(87951),s=e.i(31343),i=e.i(95242),o=e.i(88511),c=e.i(27612);let n=(0,e.i(75254).default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var d=e.i(81203),u=e.i(31278);function h(){let[e,h]=(0,a.useState)([]),[x,m]=(0,a.useState)(!0),[p,g]=(0,a.useState)("all"),[b,y]=(0,a.useState)(!1),[f,j]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[k,w]=(0,a.useState)({product_id:"bioactif",author:"",location:"",duration:"0:00"}),[C,M]=(0,a.useState)(null),[_,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>{A()},[p]);let A=async()=>{try{let e="all"===p?"http://localhost:3333/api/admin/testimonials":`http://localhost:3333/api/admin/testimonials?product_id=${p}`,t=await fetch(e),a=await t.json();h(a.testimonials||[])}catch(e){console.error("Failed to fetch testimonials:",e)}finally{m(!1)}},S=async e=>{e.preventDefault(),P(!0);try{let e=new FormData;e.append("product_id",k.product_id),e.append("author",k.author),e.append("location",k.location),e.append("duration",k.duration),C&&e.append("audio",C);let t=f?`http://localhost:3333/api/admin/testimonials/${f.id}`:"http://localhost:3333/api/admin/testimonials";(await fetch(t,{method:f?"PATCH":"POST",body:e})).ok&&(y(!1),j(null),w({product_id:"bioactif",author:"",location:"",duration:"0:00"}),M(null),A())}catch(e){console.error("Failed to save testimonial:",e)}finally{P(!1)}},T=async e=>{try{await fetch(`http://localhost:3333/api/admin/testimonials/${e}/toggle`,{method:"POST"}),A()}catch(e){console.error("Failed to toggle testimonial:",e)}},$=async e=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce témoignage ?"))try{await fetch(`http://localhost:3333/api/admin/testimonials/${e}`,{method:"DELETE"}),A()}catch(e){console.error("Failed to delete testimonial:",e)}},z=e.reduce((e,t)=>(e[t.product_id]||(e[t.product_id]=[]),e[t.product_id].push(t),e),{});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Témoignages Audio"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Gérez les témoignages clients pour chaque produit"})]}),(0,t.jsxs)("button",{onClick:()=>{j(null),w({product_id:"bioactif",author:"",location:"",duration:"0:00"}),y(!0)},className:"flex items-center gap-2 bg-black text-white px-4 py-2 rounded-xl hover:bg-gray-800 transition-colors",children:[(0,t.jsx)(r.Plus,{className:"w-5 h-5"}),"Ajouter"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","bioactif","vitamax"].map(e=>(0,t.jsx)("button",{onClick:()=>g(e),className:`px-4 py-2 rounded-lg font-medium transition-colors ${p===e?"bg-black text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"all"===e?"Tous":e.charAt(0).toUpperCase()+e.slice(1)},e))}),x?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black"})}):0===e.length?(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-12 text-center",children:[(0,t.jsx)(l.Mic,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Aucun témoignage pour le moment"})]}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(z).map(([e,a])=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:`px-6 py-4 border-b border-gray-100 ${"bioactif"===e?"bg-rose-50":"bg-emerald-50"}`,children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 capitalize",children:e}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[a.length," témoignage(s)"]})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-100",children:a.map(a=>(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center gap-4",children:[(0,t.jsx)(n,{className:"w-5 h-5 text-gray-300 cursor-grab"}),(0,t.jsx)("button",{onClick:()=>N(v===a.id?null:a.id),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${v===a.id?"bg-gray-900 text-white":"bioactif"===e?"bg-rose-500 text-white":"bg-emerald-500 text-white"}`,children:v===a.id?(0,t.jsx)(i.Pause,{className:"w-4 h-4"}):(0,t.jsx)(s.Play,{className:"w-4 h-4 ml-0.5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:a.author}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:a.location})]}),(0,t.jsx)("span",{className:"text-sm font-mono text-gray-400 bg-gray-100 px-2 py-1 rounded",children:a.duration}),(0,t.jsx)("button",{onClick:()=>T(a.id),className:`p-2 rounded-lg transition-colors ${a.is_active?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,title:a.is_active?"Actif":"Inactif",children:(0,t.jsx)(d.Power,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{j(a),w({product_id:a.product_id,author:a.author,location:a.location,duration:a.duration}),y(!0)},className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:(0,t.jsx)(o.Edit,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>$(a.id),className:"p-2 rounded-lg bg-red-50 text-red-500 hover:bg-red-100 transition-colors",children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4"})})]},a.id))})]},e))}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:f?"Modifier le témoignage":"Nouveau témoignage"}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Produit"}),(0,t.jsxs)("select",{value:k.product_id,onChange:e=>w({...k,product_id:e.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",children:[(0,t.jsx)("option",{value:"bioactif",children:"BioActif"}),(0,t.jsx)("option",{value:"vitamax",children:"VitaMax"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auteur"}),(0,t.jsx)("input",{type:"text",value:k.author,onChange:e=>w({...k,author:e.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",placeholder:"Nom du client",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),(0,t.jsx)("input",{type:"text",value:k.location,onChange:e=>w({...k,location:e.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",placeholder:"Ville, Quartier",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durée"}),(0,t.jsx)("input",{type:"text",value:k.duration,onChange:e=>w({...k,duration:e.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",placeholder:"1:23",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fichier Audio ",f&&"(optionnel)"]}),(0,t.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>M(e.target.files?.[0]||null),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",required:!f})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,t.jsxs)("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&(0,t.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin"}),f?"Modifier":"Créer"]})]})]})]})})]})}e.s(["default",()=>h],55930)}]);