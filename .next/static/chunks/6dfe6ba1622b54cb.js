(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},45383,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(69638),l=e.i(73884),c=e.i(3116),i=e.i(31278),n=e.i(71689);let d=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var o=e.i(55057),m=e.i(47163);function u(){let e=(0,r.useSearchParams)(),[u,x]=(0,s.useState)("loading"),[h,f]=(0,s.useState)(null),[y,g]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{let t=e.get("paymentId"),s=e.get("orderId")||sessionStorage.getItem("pendingOrderId");if(!t&&!s){x("error"),g("Aucune commande Ã  vÃ©rifier.");return}try{let e=await o.api.verifyPayment(t||void 0,s||void 0);f(e.order),"success"===e.status?(x("success"),sessionStorage.removeItem("pendingOrderId")):"pending"===e.status||"initiated"===e.status?x("pending"):x("failed")}catch(e){console.error("Payment verification error:",e),x("error"),g(e.response?.data?.message||"Erreur lors de la vÃ©rification du paiement.")}})()},[e]);let p=()=>{let e=h?`Bonjour, je viens de passer la commande ${h.id} d'un montant de ${(0,m.formatCurrency)(h.total)}.`:"Bonjour, j'ai besoin d'aide avec ma commande.",t=`https://wa.me/2250143678397?text=${encodeURIComponent(e)}`;window.open(t,"_blank")},b=()=>{window.location.reload()},j=()=>{window.location.href="/"};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,t.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full",children:(()=>{switch(u){case"loading":return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(i.Loader2,{className:"w-10 h-10 text-gray-600 animate-spin"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"VÃ©rification en cours..."}),(0,t.jsx)("p",{className:"text-gray-600",children:"Nous vÃ©rifions le statut de votre paiement."})]});case"success":return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(a.CheckCircle,{className:"w-10 h-10 text-green-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paiement RÃ©ussi !"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-2",children:["Merci ",h?.customerName,". Votre commande a Ã©tÃ© confirmÃ©e."]}),h&&(0,t.jsxs)("p",{className:"text-lg font-semibold text-green-600 mb-6",children:["Total: ",(0,m.formatCurrency)(h.total)]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:p,className:"w-full py-3 bg-[#25D366] text-white rounded-xl font-bold hover:bg-[#128C7E] flex items-center justify-center gap-2",children:[(0,t.jsx)(d,{className:"w-5 h-5"}),"Suivre sur WhatsApp"]}),(0,t.jsxs)("button",{onClick:j,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(n.ArrowLeft,{className:"w-5 h-5"}),"Retour Ã  l'accueil"]})]})]});case"pending":return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(c.Clock,{className:"w-10 h-10 text-yellow-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Paiement en attente"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-6",children:["Votre paiement est en cours de traitement.",(0,t.jsx)("br",{}),"Veuillez valider la transaction sur votre tÃ©lÃ©phone (USSD)."]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:["ðŸ’¡ ",(0,t.jsx)("strong",{children:"Mobile Money:"})," Composez le code USSD affichÃ© pour valider le paiement."]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:b,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800",children:"Actualiser le statut"}),(0,t.jsxs)("button",{onClick:p,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(d,{className:"w-5 h-5"}),"Besoin d'aide ?"]})]})]});case"failed":case"error":return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(l.XCircle,{className:"w-10 h-10 text-red-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"failed"===u?"Paiement Ã‰chouÃ©":"Erreur"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:y||"Le paiement n'a pas pu Ãªtre effectuÃ©. Veuillez rÃ©essayer."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:j,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800",children:"RÃ©essayer"}),(0,t.jsxs)("button",{onClick:p,className:"w-full py-3 border border-gray-300 rounded-xl font-bold text-gray-700 hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(d,{className:"w-5 h-5"}),"Contacter le support"]})]})]})}})()})})}function x(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,t.jsx)(i.Loader2,{className:"w-8 h-8 text-gray-600 animate-spin"})}),children:(0,t.jsx)(u,{})})}e.s(["default",()=>x],45383)}]);