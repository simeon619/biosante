(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},42258,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.createContext)(void 0);e.s(["CartProvider",0,({children:e})=>{let[s,i]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),[l,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse cart from localStorage",e)}n(!0)},[]),(0,r.useEffect)(()=>{l&&localStorage.setItem("cart",JSON.stringify(s))},[s,l]);let c=s.reduce((e,t)=>e+t.quantity,0);return(0,t.jsx)(a.Provider,{value:{cart:s,isCartOpen:o,isInitialized:l,setIsCartOpen:u,addToCart:e=>{i(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),u(!0)},removeFromCart:e=>{i(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{i(r=>r.map(r=>r.id===e?{...r,quantity:Math.max(1,r.quantity+t)}:r))},clearCart:()=>{i([])},cartCount:c},children:e})},"useCart",0,()=>{let e=(0,r.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}])},97815,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(55057);let s=(0,r.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let[i,o]=(0,r.useState)(null),[u,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),d=async()=>{let e=localStorage.getItem("user_id");if(e){let t=await a.api.getMe(e);o(t.user),l(t.addresses||[])}};(0,r.useEffect)(()=>{let e=localStorage.getItem("user_id"),t=localStorage.getItem("user_token");e&&t?a.api.getMe(e).then(e=>{o(e.user),l(e.addresses||[])}).catch(()=>{localStorage.removeItem("user_id"),localStorage.removeItem("user_token")}).finally(()=>{c(!1)}):c(!1)},[]);let m=async(e,t)=>{let r=await a.api.login({phone:e,password:t});r.success&&(localStorage.setItem("user_id",r.user.id),localStorage.setItem("user_token",r.token),o(r.user),await d())},g=async e=>{let t=await a.api.register(e);t.success&&(localStorage.setItem("user_id",t.user.id),localStorage.setItem("user_token",t.token),o(t.user),l([]))},v=async e=>{!i||(await a.api.updateProfile(i.id,e)).success&&await d()},S=async e=>await a.api.sendOtp(e),f=async(e,t)=>{let r=await a.api.verifyOtp(e,t);return r.success&&!r.isNewUser&&(localStorage.setItem("user_id",r.user.id),localStorage.setItem("user_token",r.token),o(r.user),await d()),r};return(0,t.jsx)(s.Provider,{value:{user:i,addresses:u,loading:n,login:m,register:g,logout:()=>{localStorage.removeItem("user_id"),localStorage.removeItem("user_token"),o(null),l([])},refreshAddresses:d,updateProfile:v,sendOtp:S,verifyOtp:f},children:e})},"useAuth",0,()=>{let e=(0,r.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}])},8151,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.createContext)(void 0);e.s(["UIProvider",0,({children:e})=>{let[s,i]=(0,r.useState)("neutral");return(0,t.jsx)(a.Provider,{value:{activeColor:s,setActiveColor:i},children:e})},"useUI",0,()=>{let e=(0,r.useContext)(a);if(void 0===e)throw Error("useUI must be used within a UIProvider");return e}])}]);