(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},52571,e=>{"use strict";let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},17708,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(45423),i=e.i(3116),r=e.i(52571),l=e.i(88844),c=e.i(61659);function n(){let[e,n]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=localStorage.getItem("admin_token"),t=await fetch("http://127.0.0.1:3333/api/admin/notifications",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();n(e||[])}}catch(e){console.error("Failed to fetch notifications:",e)}finally{o(!1)}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Notifications"}),(0,t.jsx)("p",{className:"text-gray-500 font-medium",children:"Historique des alertes système et commandes"})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-white rounded-2xl shadow-sm border border-gray-100 flex items-center justify-center",children:(0,t.jsx)(a.Bell,{className:"w-6 h-6 text-gray-400"})})]}),(0,t.jsx)("div",{className:"bg-white rounded-[2.5rem] shadow-premium border border-gray-100 overflow-hidden",children:d?(0,t.jsx)("div",{className:"p-20 text-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black mx-auto"})}):0===e.length?(0,t.jsxs)("div",{className:"p-20 text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto opacity-20",children:(0,t.jsx)(a.Bell,{className:"w-10 h-10 text-gray-400"})}),(0,t.jsx)("p",{className:"text-gray-400 font-medium text-lg",children:"Aucune notification pour le moment"})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-50",children:e.map(e=>{var s;return(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 transition-all flex items-start gap-6 group",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm border border-white group-hover:scale-110 transition-transform ${(e=>{switch(e){case"sent":return"bg-green-100 text-green-600";case"failed":return"bg-red-100 text-red-600";default:return"bg-blue-100 text-blue-600"}})(e.status)}`,children:(s=e.payload.title).includes("Commande")?(0,t.jsx)(l.Package,{className:"w-5 h-5"}):s.includes("Paiement")?(0,t.jsx)(c.CreditCard,{className:"w-5 h-5"}):(0,t.jsx)(a.Bell,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 truncate",children:e.payload.title}),(0,t.jsxs)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest whitespace-nowrap flex items-center gap-1",children:[(0,t.jsx)(i.Clock,{className:"w-3 h-3"}),new Date(e.created_at).toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1 leading-relaxed",children:e.payload.body}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,t.jsxs)("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-md uppercase tracking-tighter ${"sent"===e.status?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:["Status: ",e.status]}),(0,t.jsxs)("span",{className:"text-[10px] font-black text-gray-300 uppercase tracking-tighter",children:["Recipient: ",e.recipient]})]})]})]},e.id)})})}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-3xl p-6 flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-xl text-blue-500 shadow-sm shrink-0",children:(0,t.jsx)(r.Info,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-blue-900 text-sm",children:"Conseil d'administration"}),(0,t.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Les notifications en temps réel s'affichent en haut à droite de votre écran. Si vous ne recevez rien, assurez-vous que votre navigateur autorise les notifications pour ce site."})]})]})]})}e.s(["default",()=>n])}]);